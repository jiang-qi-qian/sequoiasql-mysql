create database update_pushdown_sequoiadb;
use update_pushdown_sequoiadb;
create table t1(id int auto_increment key, a int, b int, c int);
insert into t1 values(1,1,1,1),(2,2,2,2),(3,3,3,3),(4,4,4,4);
insert into t1 values();
update t1 set a = 1 + 2 + 3;
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	6	2	2
3	6	3	3
4	6	4	4
5	6	NULL	NULL
update t1 set a = a;
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	6	2	2
3	6	3	3
4	6	4	4
5	6	NULL	NULL
update t1 set a = a + 1 + 2;
select * from t1 order by id;
id	a	b	c
1	9	1	1
2	9	2	2
3	9	3	3
4	9	4	4
5	9	NULL	NULL
update t1 set a = 1 + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": 1, "Min": -2147483648, "Max": 2147483647, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	10	1	1
2	10	2	2
3	10	3	3
4	10	4	4
5	10	NULL	NULL
update t1 set a = a - 1;
select * from t1 order by id;
id	a	b	c
1	9	1	1
2	9	2	2
3	9	3	3
4	9	4	4
5	9	NULL	NULL
update t1 set a = -1 + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": -1, "Min": -2147483648, "Max": 2147483647, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	8	1	1
2	8	2	2
3	8	3	3
4	8	4	4
5	8	NULL	NULL
update t1 set a = a + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$field": "a" }, "Min": -2147483648, "Max": 2147483647, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	16	1	1
2	16	2	2
3	16	3	3
4	16	4	4
5	16	NULL	NULL
update t1 set a = b;
[Note] SequoiaDB: optimizer update: 1, rule: { "$set": { "a": { "$field": "b" } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	1	1	1
2	2	2	2
3	3	3	3
4	4	4	4
5	NULL	NULL	NULL
update t1 set a = a + b;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$field": "b" }, "Min": -2147483648, "Max": 2147483647, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	4	2	2
3	6	3	3
4	8	4	4
5	NULL	NULL	NULL
update t1 set a = b + a;
select * from t1 order by id;
id	a	b	c
1	3	1	1
2	6	2	2
3	9	3	3
4	12	4	4
5	NULL	NULL	NULL
update t1 set a = -a;
select * from t1 order by id;
id	a	b	c
1	-3	1	1
2	-6	2	2
3	-9	3	3
4	-12	4	4
5	NULL	NULL	NULL
update t1 set a = a + a + 1;
select * from t1 order by id;
id	a	b	c
1	-5	1	1
2	-11	2	2
3	-17	3	3
4	-23	4	4
5	NULL	NULL	NULL
update t1 set a = -b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-1	1	1
2	-2	2	2
3	-3	3	3
4	-4	4	4
5	NULL	NULL	NULL
update t1 set a = b + 1 + 2;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	4	1	1
2	5	2	2
3	6	3	3
4	7	4	4
5	NULL	NULL	NULL
update t1 set a = a + a + a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	12	1	1
2	15	2	2
3	18	3	3
4	21	4	4
5	NULL	NULL	NULL
update t1 set a = b + c;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	4	2	2
3	6	3	3
4	8	4	4
5	NULL	NULL	NULL
update t1 set a = a + b + 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	4	1	1
2	7	2	2
3	10	3	3
4	13	4	4
5	NULL	NULL	NULL
update t1 set a = 1 + a + b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	10	2	2
3	14	3	3
4	18	4	4
5	NULL	NULL	NULL
update t1 set a = a + b - 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	11	2	2
3	16	3	3
4	21	4	4
5	NULL	NULL	NULL
update t1 set a = -1 + a + b;
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	12	2	2
3	18	3	3
4	24	4	4
5	NULL	NULL	NULL
update t1 set a = b + 1;
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	3	2	2
3	4	3	3
4	5	4	4
5	NULL	NULL	NULL
update t1 set a = b - 1;
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	1	2	2
3	2	3	3
4	3	4	4
5	NULL	NULL	NULL
update t1 set a = 1 + b;
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	3	2	2
3	4	3	3
4	5	4	4
5	NULL	NULL	NULL
update t1 set a = a + a + 1;
select * from t1 order by id;
id	a	b	c
1	5	1	1
2	7	2	2
3	9	3	3
4	11	4	4
5	NULL	NULL	NULL
update t1 set a = a + a -1;
select * from t1 order by id;
id	a	b	c
1	9	1	1
2	13	2	2
3	17	3	3
4	21	4	4
5	NULL	NULL	NULL
update t1 set a = 1 + a + a;
select * from t1 order by id;
id	a	b	c
1	19	1	1
2	27	2	2
3	35	3	3
4	43	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - a;
select * from t1 order by id;
id	a	b	c
1	-18	1	1
2	-26	2	2
3	-34	3	3
4	-42	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - b;
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	-1	2	2
3	-2	3	3
4	-3	4	4
5	NULL	NULL	NULL
update t1 set a = a - b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-1	1	1
2	-3	2	2
3	-5	3	3
4	-7	4	4
5	NULL	NULL	NULL
update t1 set a = b - a;
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	5	2	2
3	8	3	3
4	11	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - a + b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	-2	2	2
3	-4	3	3
4	-6	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - b + a;
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	-3	2	2
3	-6	3	3
4	-9	4	4
5	NULL	NULL	NULL
delete from t1;
insert into t1 values(1,-2147483648,2147483647,1);
update t1 set a = a + b;
update t1 set a = a + b;
update t1 set a = a + b;
ERROR 22003: Out of range value for column 'a' at row 1
select * from t1;
id	a	b	c
1	2147483646	2147483647	1
drop table t1;
create table t1(id int auto_increment key, a int unsigned, b int unsigned, c int unsigned);
insert into t1 values(1,1,4294967295,1);
update t1 set a = a + b;
ERROR 22003: Out of range value for column 'a' at row 1
select * from t1;
id	a	b	c
1	1	4294967295	1
drop table t1;
create table t1(id int auto_increment key, a tinyint, b tinyint, c tinyint);
insert into t1 values(1,1,1,1),(2,2,2,2),(3,3,3,3),(4,4,4,4);
insert into t1 values();
update t1 set a = 1 + 2 + 3;
[Note] SequoiaDB: optimizer update: 1, rule: { "$set": { "a": 6 } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	6	2	2
3	6	3	3
4	6	4	4
5	6	NULL	NULL
update t1 set a = a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": 0, "Min": -128, "Max": 127, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	6	2	2
3	6	3	3
4	6	4	4
5	6	NULL	NULL
update t1 set a = a + 1 + 2;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": 3, "Min": -128, "Max": 127, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	9	1	1
2	9	2	2
3	9	3	3
4	9	4	4
5	9	NULL	NULL
update t1 set a = 1 + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": 1, "Min": -128, "Max": 127, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	10	1	1
2	10	2	2
3	10	3	3
4	10	4	4
5	10	NULL	NULL
update t1 set a = a - 1;
select * from t1 order by id;
id	a	b	c
1	9	1	1
2	9	2	2
3	9	3	3
4	9	4	4
5	9	NULL	NULL
update t1 set a = -1 + a;
select * from t1 order by id;
id	a	b	c
1	8	1	1
2	8	2	2
3	8	3	3
4	8	4	4
5	8	NULL	NULL
update t1 set a = a + a;
select * from t1 order by id;
id	a	b	c
1	16	1	1
2	16	2	2
3	16	3	3
4	16	4	4
5	16	NULL	NULL
update t1 set a = b;
select * from t1 order by id;
id	a	b	c
1	1	1	1
2	2	2	2
3	3	3	3
4	4	4	4
5	NULL	NULL	NULL
update t1 set a = a + b;
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	4	2	2
3	6	3	3
4	8	4	4
5	NULL	NULL	NULL
update t1 set a = b + a;
select * from t1 order by id;
id	a	b	c
1	3	1	1
2	6	2	2
3	9	3	3
4	12	4	4
5	NULL	NULL	NULL
update t1 set a = -a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-3	1	1
2	-6	2	2
3	-9	3	3
4	-12	4	4
5	NULL	NULL	NULL
update t1 set a = a + a + 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-5	1	1
2	-11	2	2
3	-17	3	3
4	-23	4	4
5	NULL	NULL	NULL
update t1 set a = -b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-1	1	1
2	-2	2	2
3	-3	3	3
4	-4	4	4
5	NULL	NULL	NULL
update t1 set a = b + 1 + 2;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	4	1	1
2	5	2	2
3	6	3	3
4	7	4	4
5	NULL	NULL	NULL
update t1 set a = a + a + a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	12	1	1
2	15	2	2
3	18	3	3
4	21	4	4
5	NULL	NULL	NULL
update t1 set a = b + c;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	4	2	2
3	6	3	3
4	8	4	4
5	NULL	NULL	NULL
update t1 set a = a + b + 1;
select * from t1 order by id;
id	a	b	c
1	4	1	1
2	7	2	2
3	10	3	3
4	13	4	4
5	NULL	NULL	NULL
update t1 set a = 1 + a + b;
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	10	2	2
3	14	3	3
4	18	4	4
5	NULL	NULL	NULL
update t1 set a = a + b - 1;
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	11	2	2
3	16	3	3
4	21	4	4
5	NULL	NULL	NULL
update t1 set a = -1 + a + b;
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	12	2	2
3	18	3	3
4	24	4	4
5	NULL	NULL	NULL
update t1 set a = b + 1;
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	3	2	2
3	4	3	3
4	5	4	4
5	NULL	NULL	NULL
update t1 set a = b - 1;
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	1	2	2
3	2	3	3
4	3	4	4
5	NULL	NULL	NULL
update t1 set a = 1 + b;
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	3	2	2
3	4	3	3
4	5	4	4
5	NULL	NULL	NULL
update t1 set a = a + a + 1;
select * from t1 order by id;
id	a	b	c
1	5	1	1
2	7	2	2
3	9	3	3
4	11	4	4
5	NULL	NULL	NULL
update t1 set a = a + a -1;
select * from t1 order by id;
id	a	b	c
1	9	1	1
2	13	2	2
3	17	3	3
4	21	4	4
5	NULL	NULL	NULL
update t1 set a = 1 + a + a;
select * from t1 order by id;
id	a	b	c
1	19	1	1
2	27	2	2
3	35	3	3
4	43	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - a;
select * from t1 order by id;
id	a	b	c
1	-18	1	1
2	-26	2	2
3	-34	3	3
4	-42	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - b;
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	-1	2	2
3	-2	3	3
4	-3	4	4
5	NULL	NULL	NULL
update t1 set a = a - b;
select * from t1 order by id;
id	a	b	c
1	-1	1	1
2	-3	2	2
3	-5	3	3
4	-7	4	4
5	NULL	NULL	NULL
update t1 set a = b - a;
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	5	2	2
3	8	3	3
4	11	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - a + b;
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	-2	2	2
3	-4	3	3
4	-6	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - b + a;
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	-3	2	2
3	-6	3	3
4	-9	4	4
5	NULL	NULL	NULL
delete from t1;
insert into t1 values(1,-128,127,1);
update t1 set a = a + b;
update t1 set a = a + b;
update t1 set a = a + b;
ERROR 22003: Out of range value for column 'a' at row 1
select * from t1;
id	a	b	c
1	126	127	1
drop table t1;
create table t1(id int auto_increment key, a tinyint unsigned, b tinyint unsigned, c tinyint unsigned);
insert into t1 values(1,1,255,1);
update t1 set a = a + b;
ERROR 22003: Out of range value for column 'a' at row 1
select * from t1;
id	a	b	c
1	1	255	1
drop table t1;
create table t1(id int auto_increment key, a smallint, b smallint, c smallint);
insert into t1 values(1,1,1,1),(2,2,2,2),(3,3,3,3),(4,4,4,4);
insert into t1 values();
update t1 set a = 1 + 2 + 3;
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	6	2	2
3	6	3	3
4	6	4	4
5	6	NULL	NULL
update t1 set a = a;
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	6	2	2
3	6	3	3
4	6	4	4
5	6	NULL	NULL
update t1 set a = a + 1 + 2;
select * from t1 order by id;
id	a	b	c
1	9	1	1
2	9	2	2
3	9	3	3
4	9	4	4
5	9	NULL	NULL
update t1 set a = 1 + a;
select * from t1 order by id;
id	a	b	c
1	10	1	1
2	10	2	2
3	10	3	3
4	10	4	4
5	10	NULL	NULL
update t1 set a = a - 1;
select * from t1 order by id;
id	a	b	c
1	9	1	1
2	9	2	2
3	9	3	3
4	9	4	4
5	9	NULL	NULL
update t1 set a = -1 + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": -1, "Min": -32768, "Max": 32767, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	8	1	1
2	8	2	2
3	8	3	3
4	8	4	4
5	8	NULL	NULL
update t1 set a = a + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$field": "a" }, "Min": -32768, "Max": 32767, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	16	1	1
2	16	2	2
3	16	3	3
4	16	4	4
5	16	NULL	NULL
update t1 set a = b;
[Note] SequoiaDB: optimizer update: 1, rule: { "$set": { "a": { "$field": "b" } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	1	1	1
2	2	2	2
3	3	3	3
4	4	4	4
5	NULL	NULL	NULL
update t1 set a = a + b;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$field": "b" }, "Min": -32768, "Max": 32767, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	4	2	2
3	6	3	3
4	8	4	4
5	NULL	NULL	NULL
update t1 set a = b + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$field": "b" }, "Min": -32768, "Max": 32767, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	3	1	1
2	6	2	2
3	9	3	3
4	12	4	4
5	NULL	NULL	NULL
update t1 set a = -a;
select * from t1 order by id;
id	a	b	c
1	-3	1	1
2	-6	2	2
3	-9	3	3
4	-12	4	4
5	NULL	NULL	NULL
update t1 set a = a + a + 1;
select * from t1 order by id;
id	a	b	c
1	-5	1	1
2	-11	2	2
3	-17	3	3
4	-23	4	4
5	NULL	NULL	NULL
update t1 set a = -b;
select * from t1 order by id;
id	a	b	c
1	-1	1	1
2	-2	2	2
3	-3	3	3
4	-4	4	4
5	NULL	NULL	NULL
update t1 set a = b + 1 + 2;
select * from t1 order by id;
id	a	b	c
1	4	1	1
2	5	2	2
3	6	3	3
4	7	4	4
5	NULL	NULL	NULL
update t1 set a = a + a + a;
select * from t1 order by id;
id	a	b	c
1	12	1	1
2	15	2	2
3	18	3	3
4	21	4	4
5	NULL	NULL	NULL
update t1 set a = b + c;
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	4	2	2
3	6	3	3
4	8	4	4
5	NULL	NULL	NULL
update t1 set a = a + b + 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	4	1	1
2	7	2	2
3	10	3	3
4	13	4	4
5	NULL	NULL	NULL
update t1 set a = 1 + a + b;
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	10	2	2
3	14	3	3
4	18	4	4
5	NULL	NULL	NULL
update t1 set a = a + b - 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	11	2	2
3	16	3	3
4	21	4	4
5	NULL	NULL	NULL
update t1 set a = -1 + a + b;
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	12	2	2
3	18	3	3
4	24	4	4
5	NULL	NULL	NULL
update t1 set a = b + 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	3	2	2
3	4	3	3
4	5	4	4
5	NULL	NULL	NULL
update t1 set a = b - 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	1	2	2
3	2	3	3
4	3	4	4
5	NULL	NULL	NULL
update t1 set a = 1 + b;
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	3	2	2
3	4	3	3
4	5	4	4
5	NULL	NULL	NULL
update t1 set a = a + a + 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	5	1	1
2	7	2	2
3	9	3	3
4	11	4	4
5	NULL	NULL	NULL
update t1 set a = a + a -1;
select * from t1 order by id;
id	a	b	c
1	9	1	1
2	13	2	2
3	17	3	3
4	21	4	4
5	NULL	NULL	NULL
update t1 set a = 1 + a + a;
select * from t1 order by id;
id	a	b	c
1	19	1	1
2	27	2	2
3	35	3	3
4	43	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-18	1	1
2	-26	2	2
3	-34	3	3
4	-42	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - b;
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	-1	2	2
3	-2	3	3
4	-3	4	4
5	NULL	NULL	NULL
update t1 set a = a - b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-1	1	1
2	-3	2	2
3	-5	3	3
4	-7	4	4
5	NULL	NULL	NULL
update t1 set a = b - a;
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	5	2	2
3	8	3	3
4	11	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - a + b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	-2	2	2
3	-4	3	3
4	-6	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - b + a;
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	-3	2	2
3	-6	3	3
4	-9	4	4
5	NULL	NULL	NULL
delete from t1;
insert into t1 values(1,-32768,32767,1);
update t1 set a = a + b;
update t1 set a = a + b;
update t1 set a = a + b;
ERROR 22003: Out of range value for column 'a' at row 1
select * from t1;
id	a	b	c
1	32766	32767	1
drop table t1;
create table t1(id int auto_increment key, a smallint unsigned, b smallint unsigned, c smallint unsigned);
insert into t1 values(1,1,65535,1);
update t1 set a = a + b;
ERROR 22003: Out of range value for column 'a' at row 1
select * from t1;
id	a	b	c
1	1	65535	1
drop table t1;
create table t1(id int auto_increment key, a mediumint, b mediumint, c mediumint);
insert into t1 values(1,1,1,1),(2,2,2,2),(3,3,3,3),(4,4,4,4);
insert into t1 values();
update t1 set a = 1 + 2 + 3;
[Note] SequoiaDB: optimizer update: 1, rule: { "$set": { "a": 6 } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	6	2	2
3	6	3	3
4	6	4	4
5	6	NULL	NULL
update t1 set a = a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": 0, "Min": -8388608, "Max": 8388607, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	6	2	2
3	6	3	3
4	6	4	4
5	6	NULL	NULL
update t1 set a = a + 1 + 2;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": 3, "Min": -8388608, "Max": 8388607, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	9	1	1
2	9	2	2
3	9	3	3
4	9	4	4
5	9	NULL	NULL
update t1 set a = 1 + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": 1, "Min": -8388608, "Max": 8388607, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	10	1	1
2	10	2	2
3	10	3	3
4	10	4	4
5	10	NULL	NULL
update t1 set a = a - 1;
select * from t1 order by id;
id	a	b	c
1	9	1	1
2	9	2	2
3	9	3	3
4	9	4	4
5	9	NULL	NULL
update t1 set a = -1 + a;
select * from t1 order by id;
id	a	b	c
1	8	1	1
2	8	2	2
3	8	3	3
4	8	4	4
5	8	NULL	NULL
update t1 set a = a + a;
select * from t1 order by id;
id	a	b	c
1	16	1	1
2	16	2	2
3	16	3	3
4	16	4	4
5	16	NULL	NULL
update t1 set a = b;
select * from t1 order by id;
id	a	b	c
1	1	1	1
2	2	2	2
3	3	3	3
4	4	4	4
5	NULL	NULL	NULL
update t1 set a = a + b;
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	4	2	2
3	6	3	3
4	8	4	4
5	NULL	NULL	NULL
update t1 set a = b + a;
select * from t1 order by id;
id	a	b	c
1	3	1	1
2	6	2	2
3	9	3	3
4	12	4	4
5	NULL	NULL	NULL
update t1 set a = -a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-3	1	1
2	-6	2	2
3	-9	3	3
4	-12	4	4
5	NULL	NULL	NULL
update t1 set a = a + a + 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-5	1	1
2	-11	2	2
3	-17	3	3
4	-23	4	4
5	NULL	NULL	NULL
update t1 set a = -b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-1	1	1
2	-2	2	2
3	-3	3	3
4	-4	4	4
5	NULL	NULL	NULL
update t1 set a = b + 1 + 2;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	4	1	1
2	5	2	2
3	6	3	3
4	7	4	4
5	NULL	NULL	NULL
update t1 set a = a + a + a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	12	1	1
2	15	2	2
3	18	3	3
4	21	4	4
5	NULL	NULL	NULL
update t1 set a = b + c;
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	4	2	2
3	6	3	3
4	8	4	4
5	NULL	NULL	NULL
update t1 set a = a + b + 1;
select * from t1 order by id;
id	a	b	c
1	4	1	1
2	7	2	2
3	10	3	3
4	13	4	4
5	NULL	NULL	NULL
update t1 set a = 1 + a + b;
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	10	2	2
3	14	3	3
4	18	4	4
5	NULL	NULL	NULL
update t1 set a = a + b - 1;
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	11	2	2
3	16	3	3
4	21	4	4
5	NULL	NULL	NULL
update t1 set a = -1 + a + b;
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	12	2	2
3	18	3	3
4	24	4	4
5	NULL	NULL	NULL
update t1 set a = b + 1;
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	3	2	2
3	4	3	3
4	5	4	4
5	NULL	NULL	NULL
update t1 set a = b - 1;
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	1	2	2
3	2	3	3
4	3	4	4
5	NULL	NULL	NULL
update t1 set a = 1 + b;
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	3	2	2
3	4	3	3
4	5	4	4
5	NULL	NULL	NULL
update t1 set a = a + a + 1;
select * from t1 order by id;
id	a	b	c
1	5	1	1
2	7	2	2
3	9	3	3
4	11	4	4
5	NULL	NULL	NULL
update t1 set a = a + a -1;
select * from t1 order by id;
id	a	b	c
1	9	1	1
2	13	2	2
3	17	3	3
4	21	4	4
5	NULL	NULL	NULL
update t1 set a = 1 + a + a;
select * from t1 order by id;
id	a	b	c
1	19	1	1
2	27	2	2
3	35	3	3
4	43	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - a;
select * from t1 order by id;
id	a	b	c
1	-18	1	1
2	-26	2	2
3	-34	3	3
4	-42	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - b;
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	-1	2	2
3	-2	3	3
4	-3	4	4
5	NULL	NULL	NULL
update t1 set a = a - b;
select * from t1 order by id;
id	a	b	c
1	-1	1	1
2	-3	2	2
3	-5	3	3
4	-7	4	4
5	NULL	NULL	NULL
update t1 set a = b - a;
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	5	2	2
3	8	3	3
4	11	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - a + b;
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	-2	2	2
3	-4	3	3
4	-6	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - b + a;
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	-3	2	2
3	-6	3	3
4	-9	4	4
5	NULL	NULL	NULL
delete from t1;
insert into t1 values(1,-8388608,8388607,1);
update t1 set a = a + b;
update t1 set a = a + b;
update t1 set a = a + b;
ERROR 22003: Out of range value for column 'a' at row 1
select * from t1;
id	a	b	c
1	8388606	8388607	1
drop table t1;
create table t1(id int auto_increment key, a mediumint unsigned, b mediumint unsigned, c mediumint unsigned);
insert into t1 values(1,1,16777215,1);
update t1 set a = a + b;
ERROR 22003: Out of range value for column 'a' at row 1
select * from t1;
id	a	b	c
1	1	16777215	1
drop table t1;
create table t1(id int auto_increment key, a bigint, b bigint, c bigint);
insert into t1 values(1,1,1,1),(2,2,2,2),(3,3,3,3),(4,4,4,4);
insert into t1 values();
update t1 set a = 1 + 2 + 3;
[Note] SequoiaDB: optimizer update: 1, rule: { "$set": { "a": 6 } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	6	2	2
3	6	3	3
4	6	4	4
5	6	NULL	NULL
update t1 set a = a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": 0, "Max": 9223372036854775807, "Min": -9223372036854775808, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	6	2	2
3	6	3	3
4	6	4	4
5	6	NULL	NULL
update t1 set a = a + 1 + 2;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": 3, "Max": 9223372036854775807, "Min": -9223372036854775808, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	9	1	1
2	9	2	2
3	9	3	3
4	9	4	4
5	9	NULL	NULL
update t1 set a = 1 + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": 1, "Max": 9223372036854775807, "Min": -9223372036854775808, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	10	1	1
2	10	2	2
3	10	3	3
4	10	4	4
5	10	NULL	NULL
update t1 set a = a - 1;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": -1, "Max": 9223372036854775807, "Min": -9223372036854775808, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	9	1	1
2	9	2	2
3	9	3	3
4	9	4	4
5	9	NULL	NULL
update t1 set a = -1 + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": -1, "Max": 9223372036854775807, "Min": -9223372036854775808, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	8	1	1
2	8	2	2
3	8	3	3
4	8	4	4
5	8	NULL	NULL
update t1 set a = a + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$field": "a" }, "Max": 9223372036854775807, "Min": -9223372036854775808, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	16	1	1
2	16	2	2
3	16	3	3
4	16	4	4
5	16	NULL	NULL
update t1 set a = b;
[Note] SequoiaDB: optimizer update: 1, rule: { "$set": { "a": { "$field": "b" } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	1	1	1
2	2	2	2
3	3	3	3
4	4	4	4
5	NULL	NULL	NULL
update t1 set a = a + b;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$field": "b" }, "Max": 9223372036854775807, "Min": -9223372036854775808, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	4	2	2
3	6	3	3
4	8	4	4
5	NULL	NULL	NULL
update t1 set a = b + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$field": "b" }, "Max": 9223372036854775807, "Min": -9223372036854775808, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	3	1	1
2	6	2	2
3	9	3	3
4	12	4	4
5	NULL	NULL	NULL
update t1 set a = -a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-3	1	1
2	-6	2	2
3	-9	3	3
4	-12	4	4
5	NULL	NULL	NULL
update t1 set a = a + a + 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-5	1	1
2	-11	2	2
3	-17	3	3
4	-23	4	4
5	NULL	NULL	NULL
update t1 set a = -b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-1	1	1
2	-2	2	2
3	-3	3	3
4	-4	4	4
5	NULL	NULL	NULL
update t1 set a = b + 1 + 2;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	4	1	1
2	5	2	2
3	6	3	3
4	7	4	4
5	NULL	NULL	NULL
update t1 set a = a + a + a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	12	1	1
2	15	2	2
3	18	3	3
4	21	4	4
5	NULL	NULL	NULL
update t1 set a = b + c;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	4	2	2
3	6	3	3
4	8	4	4
5	NULL	NULL	NULL
update t1 set a = a + b + 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	4	1	1
2	7	2	2
3	10	3	3
4	13	4	4
5	NULL	NULL	NULL
update t1 set a = 1 + a + b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	10	2	2
3	14	3	3
4	18	4	4
5	NULL	NULL	NULL
update t1 set a = a + b - 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	11	2	2
3	16	3	3
4	21	4	4
5	NULL	NULL	NULL
update t1 set a = -1 + a + b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	12	2	2
3	18	3	3
4	24	4	4
5	NULL	NULL	NULL
update t1 set a = b + 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	3	2	2
3	4	3	3
4	5	4	4
5	NULL	NULL	NULL
update t1 set a = b - 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	1	2	2
3	2	3	3
4	3	4	4
5	NULL	NULL	NULL
update t1 set a = 1 + b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	3	2	2
3	4	3	3
4	5	4	4
5	NULL	NULL	NULL
update t1 set a = a + a + 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	5	1	1
2	7	2	2
3	9	3	3
4	11	4	4
5	NULL	NULL	NULL
update t1 set a = a + a -1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	9	1	1
2	13	2	2
3	17	3	3
4	21	4	4
5	NULL	NULL	NULL
update t1 set a = 1 + a + a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	19	1	1
2	27	2	2
3	35	3	3
4	43	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-18	1	1
2	-26	2	2
3	-34	3	3
4	-42	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	-1	2	2
3	-2	3	3
4	-3	4	4
5	NULL	NULL	NULL
update t1 set a = a - b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-1	1	1
2	-3	2	2
3	-5	3	3
4	-7	4	4
5	NULL	NULL	NULL
update t1 set a = b - a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	5	2	2
3	8	3	3
4	11	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - a + b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	-2	2	2
3	-4	3	3
4	-6	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - b + a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	-3	2	2
3	-6	3	3
4	-9	4	4
5	NULL	NULL	NULL
delete from t1;
insert into t1 values(1,-9223372036854775808,9223372036854775807,1);
update t1 set a = a + b;
update t1 set a = a + b;
update t1 set a = a + b;
ERROR 22003: Out of range value for column 'a' at row 1
select * from t1;
id	a	b	c
1	9223372036854775806	9223372036854775807	1
drop table t1;
create table t1(id int auto_increment key, a bigint unsigned, b bigint unsigned, c bigint unsigned);
insert into t1 values(1,1,18446744073709551615,1);
update t1 set a = a + b;
ERROR 22003: Out of range value for column 'a' at row 1
select * from t1;
id	a	b	c
1	1	18446744073709551615	1
drop table t1;
create table t1(id int auto_increment key, a float, b float, c float);
insert into t1 values(1.25,1.25,1.25,1.25),(2.33,2.333,2.3333,2.3333),(3.25,3.25,3.25,3.25),(4.3333,4.3333,4.3333,4.3333);
insert into t1 values();
update t1 set a = 1 + 2 + 3;
[Note] SequoiaDB: optimizer update: 1, rule: { "$set": { "a": 6.0 } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	6	1.25	1.25
2	6	2.3333	2.3333
3	6	3.25	3.25
4	6	4.3333	4.3333
5	6	NULL	NULL
update t1 set a = a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": 0.0, "Min": -3.402823466385289e+38, "Max": 3.402823466385289e+38, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	6	1.25	1.25
2	6	2.3333	2.3333
3	6	3.25	3.25
4	6	4.3333	4.3333
5	6	NULL	NULL
update t1 set a = a + 1 + 2;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": 3.0, "Min": -3.402823466385289e+38, "Max": 3.402823466385289e+38, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	9	1.25	1.25
2	9	2.3333	2.3333
3	9	3.25	3.25
4	9	4.3333	4.3333
5	9	NULL	NULL
update t1 set a = 1 + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": 1.0, "Min": -3.402823466385289e+38, "Max": 3.402823466385289e+38, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	10	1.25	1.25
2	10	2.3333	2.3333
3	10	3.25	3.25
4	10	4.3333	4.3333
5	10	NULL	NULL
update t1 set a = a - 1;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": -1.0, "Min": -3.402823466385289e+38, "Max": 3.402823466385289e+38, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	9	1.25	1.25
2	9	2.3333	2.3333
3	9	3.25	3.25
4	9	4.3333	4.3333
5	9	NULL	NULL
update t1 set a = -1 + a;
select * from t1 order by id;
id	a	b	c
1	8	1.25	1.25
2	8	2.3333	2.3333
3	8	3.25	3.25
4	8	4.3333	4.3333
5	8	NULL	NULL
update t1 set a = a + a;
select * from t1 order by id;
id	a	b	c
1	16	1.25	1.25
2	16	2.3333	2.3333
3	16	3.25	3.25
4	16	4.3333	4.3333
5	16	NULL	NULL
update t1 set a = b;
select * from t1 order by id;
id	a	b	c
1	1.25	1.25	1.25
2	2.3333	2.3333	2.3333
3	3.25	3.25	3.25
4	4.3333	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = a + b;
select * from t1 order by id;
id	a	b	c
1	2.5	1.25	1.25
2	4.6666	2.3333	2.3333
3	6.5	3.25	3.25
4	8.6666	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = b + a;
select * from t1 order by id;
id	a	b	c
1	3.75	1.25	1.25
2	6.9999	2.3333	2.3333
3	9.75	3.25	3.25
4	12.9999	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = -a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-3.75	1.25	1.25
2	-6.9999	2.3333	2.3333
3	-9.75	3.25	3.25
4	-12.9999	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = a + a + 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-6.5	1.25	1.25
2	-12.9998	2.3333	2.3333
3	-18.5	3.25	3.25
4	-24.9998	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = -b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-1.25	1.25	1.25
2	-2.3333	2.3333	2.3333
3	-3.25	3.25	3.25
4	-4.3333	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = b + 1 + 2;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	4.25	1.25	1.25
2	5.3333	2.3333	2.3333
3	6.25	3.25	3.25
4	7.3333	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = a + a + a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	12.75	1.25	1.25
2	15.9999	2.3333	2.3333
3	18.75	3.25	3.25
4	21.9999	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = b + c;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	2.5	1.25	1.25
2	4.6666	2.3333	2.3333
3	6.5	3.25	3.25
4	8.6666	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = a + b + 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	4.75	1.25	1.25
2	7.9999	2.3333	2.3333
3	10.75	3.25	3.25
4	13.9999	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = 1 + a + b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	7	1.25	1.25
2	11.3332	2.3333	2.3333
3	15	3.25	3.25
4	19.3332	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = a + b - 1;
select * from t1 order by id;
id	a	b	c
1	7.25	1.25	1.25
2	12.6665	2.3333	2.3333
3	17.25	3.25	3.25
4	22.6665	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = -1 + a + b;
select * from t1 order by id;
id	a	b	c
1	7.5	1.25	1.25
2	13.9998	2.3333	2.3333
3	19.5	3.25	3.25
4	25.9998	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = b + 1;
select * from t1 order by id;
id	a	b	c
1	2.25	1.25	1.25
2	3.3333	2.3333	2.3333
3	4.25	3.25	3.25
4	5.3333	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = b - 1;
select * from t1 order by id;
id	a	b	c
1	0.25	1.25	1.25
2	1.3333	2.3333	2.3333
3	2.25	3.25	3.25
4	3.3333	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = 1 + b;
select * from t1 order by id;
id	a	b	c
1	2.25	1.25	1.25
2	3.3333	2.3333	2.3333
3	4.25	3.25	3.25
4	5.3333	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = a + a + 1;
select * from t1 order by id;
id	a	b	c
1	5.5	1.25	1.25
2	7.6666	2.3333	2.3333
3	9.5	3.25	3.25
4	11.6666	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = a + a -1;
select * from t1 order by id;
id	a	b	c
1	10	1.25	1.25
2	14.3332	2.3333	2.3333
3	18	3.25	3.25
4	22.3332	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = 1 + a + a;
select * from t1 order by id;
id	a	b	c
1	21	1.25	1.25
2	29.6664	2.3333	2.3333
3	37	3.25	3.25
4	45.6664	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = 1 - a;
select * from t1 order by id;
id	a	b	c
1	-20	1.25	1.25
2	-28.6664	2.3333	2.3333
3	-36	3.25	3.25
4	-44.6664	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = 1 - b;
select * from t1 order by id;
id	a	b	c
1	-0.25	1.25	1.25
2	-1.3333	2.3333	2.3333
3	-2.25	3.25	3.25
4	-3.3333	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = a - b;
select * from t1 order by id;
id	a	b	c
1	-1.5	1.25	1.25
2	-3.6666	2.3333	2.3333
3	-5.5	3.25	3.25
4	-7.6666	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = b - a;
select * from t1 order by id;
id	a	b	c
1	2.75	1.25	1.25
2	5.9999	2.3333	2.3333
3	8.75	3.25	3.25
4	11.9999	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = 1 - a + b;
select * from t1 order by id;
id	a	b	c
1	-0.5	1.25	1.25
2	-2.6666	2.3333	2.3333
3	-4.5	3.25	3.25
4	-6.6666	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = 1 - b + a;
select * from t1 order by id;
id	a	b	c
1	-0.75	1.25	1.25
2	-3.9999	2.3333	2.3333
3	-6.75	3.25	3.25
4	-9.9999	4.3333	4.3333
5	NULL	NULL	NULL
drop table t1;
create table t1(id int auto_increment key, a float(5,2), b float(5,2), c float(5,2));
insert into t1 values(1,-999.99,888.88,1);
update t1 set a = a + b;
update t1 set a = a + b;
update t1 set a = a + b;
ERROR 22003: Out of range value for column 'a' at row 1
select * from t1;
id	a	b	c
1	777.77	888.88	1.00
drop table t1;
create table t1(id int auto_increment key, a float(5,2) unsigned, b float(5,2) unsigned, c float(5,2) unsigned);
insert into t1 values(1,1.25,999.99,1);
update t1 set a = a + b;
ERROR 22003: Out of range value for column 'a' at row 1
select * from t1;
id	a	b	c
1	1.25	999.99	1.00
drop table t1;
create table t1(id int auto_increment key, a double, b double, c double);
insert into t1 values(1.25,1.25,1.25,1.25),(2.33,2.333,2.3333,2.3333),(3.25,3.25,3.25,3.25),(4.3333,4.3333,4.3333,4.3333);
insert into t1 values();
update t1 set a = 1 + 2 + 3;
select * from t1 order by id;
id	a	b	c
1	6	1.25	1.25
2	6	2.3333	2.3333
3	6	3.25	3.25
4	6	4.3333	4.3333
5	6	NULL	NULL
update t1 set a = a;
select * from t1 order by id;
id	a	b	c
1	6	1.25	1.25
2	6	2.3333	2.3333
3	6	3.25	3.25
4	6	4.3333	4.3333
5	6	NULL	NULL
update t1 set a = a + 1 + 2;
select * from t1 order by id;
id	a	b	c
1	9	1.25	1.25
2	9	2.3333	2.3333
3	9	3.25	3.25
4	9	4.3333	4.3333
5	9	NULL	NULL
update t1 set a = 1 + a;
select * from t1 order by id;
id	a	b	c
1	10	1.25	1.25
2	10	2.3333	2.3333
3	10	3.25	3.25
4	10	4.3333	4.3333
5	10	NULL	NULL
update t1 set a = a - 1;
select * from t1 order by id;
id	a	b	c
1	9	1.25	1.25
2	9	2.3333	2.3333
3	9	3.25	3.25
4	9	4.3333	4.3333
5	9	NULL	NULL
update t1 set a = -1 + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": -1.0, "Min": -1.797693134862316e+308, "Max": 1.797693134862316e+308, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	8	1.25	1.25
2	8	2.3333	2.3333
3	8	3.25	3.25
4	8	4.3333	4.3333
5	8	NULL	NULL
update t1 set a = a + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$field": "a" }, "Min": -1.797693134862316e+308, "Max": 1.797693134862316e+308, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	16	1.25	1.25
2	16	2.3333	2.3333
3	16	3.25	3.25
4	16	4.3333	4.3333
5	16	NULL	NULL
update t1 set a = b;
[Note] SequoiaDB: optimizer update: 1, rule: { "$set": { "a": { "$field": "b" } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	1.25	1.25	1.25
2	2.3333	2.3333	2.3333
3	3.25	3.25	3.25
4	4.3333	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = a + b;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$field": "b" }, "Min": -1.797693134862316e+308, "Max": 1.797693134862316e+308, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	2.5	1.25	1.25
2	4.6666	2.3333	2.3333
3	6.5	3.25	3.25
4	8.6666	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = b + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$field": "b" }, "Min": -1.797693134862316e+308, "Max": 1.797693134862316e+308, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	3.75	1.25	1.25
2	6.9999	2.3333	2.3333
3	9.75	3.25	3.25
4	12.9999	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = -a;
select * from t1 order by id;
id	a	b	c
1	-3.75	1.25	1.25
2	-6.9999	2.3333	2.3333
3	-9.75	3.25	3.25
4	-12.9999	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = a + a + 1;
select * from t1 order by id;
id	a	b	c
1	-6.5	1.25	1.25
2	-12.9998	2.3333	2.3333
3	-18.5	3.25	3.25
4	-24.9998	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = -b;
select * from t1 order by id;
id	a	b	c
1	-1.25	1.25	1.25
2	-2.3333	2.3333	2.3333
3	-3.25	3.25	3.25
4	-4.3333	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = b + 1 + 2;
select * from t1 order by id;
id	a	b	c
1	4.25	1.25	1.25
2	5.3332999999999995	2.3333	2.3333
3	6.25	3.25	3.25
4	7.3333	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = a + a + a;
select * from t1 order by id;
id	a	b	c
1	12.75	1.25	1.25
2	15.999899999999998	2.3333	2.3333
3	18.75	3.25	3.25
4	21.9999	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = b + c;
select * from t1 order by id;
id	a	b	c
1	2.5	1.25	1.25
2	4.6666	2.3333	2.3333
3	6.5	3.25	3.25
4	8.6666	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = a + b + 1;
select * from t1 order by id;
id	a	b	c
1	4.75	1.25	1.25
2	7.9999	2.3333	2.3333
3	10.75	3.25	3.25
4	13.9999	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = 1 + a + b;
select * from t1 order by id;
id	a	b	c
1	7	1.25	1.25
2	11.3332	2.3333	2.3333
3	15	3.25	3.25
4	19.3332	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = a + b - 1;
select * from t1 order by id;
id	a	b	c
1	7.25	1.25	1.25
2	12.6665	2.3333	2.3333
3	17.25	3.25	3.25
4	22.666500000000003	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = -1 + a + b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	7.5	1.25	1.25
2	13.999799999999999	2.3333	2.3333
3	19.5	3.25	3.25
4	25.999800000000004	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = b + 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	2.25	1.25	1.25
2	3.3333	2.3333	2.3333
3	4.25	3.25	3.25
4	5.3333	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = b - 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	0.25	1.25	1.25
2	1.3333	2.3333	2.3333
3	2.25	3.25	3.25
4	3.3333000000000004	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = 1 + b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	2.25	1.25	1.25
2	3.3333	2.3333	2.3333
3	4.25	3.25	3.25
4	5.3333	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = a + a + 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	5.5	1.25	1.25
2	7.6666	2.3333	2.3333
3	9.5	3.25	3.25
4	11.6666	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = a + a -1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	10	1.25	1.25
2	14.3332	2.3333	2.3333
3	18	3.25	3.25
4	22.3332	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = 1 + a + a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	21	1.25	1.25
2	29.6664	2.3333	2.3333
3	37	3.25	3.25
4	45.6664	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = 1 - a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-20	1.25	1.25
2	-28.6664	2.3333	2.3333
3	-36	3.25	3.25
4	-44.6664	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = 1 - b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-0.25	1.25	1.25
2	-1.3333	2.3333	2.3333
3	-2.25	3.25	3.25
4	-3.3333000000000004	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = a - b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-1.5	1.25	1.25
2	-3.6666	2.3333	2.3333
3	-5.5	3.25	3.25
4	-7.666600000000001	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = b - a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	2.75	1.25	1.25
2	5.9999	2.3333	2.3333
3	8.75	3.25	3.25
4	11.9999	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = 1 - a + b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-0.5	1.25	1.25
2	-2.6666000000000003	2.3333	2.3333
3	-4.5	3.25	3.25
4	-6.6666	4.3333	4.3333
5	NULL	NULL	NULL
update t1 set a = 1 - b + a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-0.75	1.25	1.25
2	-3.9999000000000002	2.3333	2.3333
3	-6.75	3.25	3.25
4	-9.9999	4.3333	4.3333
5	NULL	NULL	NULL
drop table t1;
create table t1(id int auto_increment key, a double(5,2), b double(5,2), c double(5,2));
insert into t1 values(1,-999.99,888.88,1);
update t1 set a = a + b;
update t1 set a = a + b;
update t1 set a = a + b;
ERROR 22003: Out of range value for column 'a' at row 1
select * from t1;
id	a	b	c
1	777.77	888.88	1.00
drop table t1;
create table t1(id int auto_increment key, a double(5,2) unsigned, b double(5,2) unsigned, c double(5,2) unsigned);
insert into t1 values(1,1.25,999.99,1);
update t1 set a = a + b;
ERROR 22003: Out of range value for column 'a' at row 1
select * from t1;
id	a	b	c
1	1.25	999.99	1.00
drop table t1;
create table t1(id int auto_increment key, a decimal, b decimal, c decimal);
insert into t1 values(1.25,1.25,1.25,1.25),(2.33,2.333,2.3333,2.3333),(3.25,3.25,3.25,3.25),(4.3333,4.3333,4.3333,4.3333);
Warnings:
Note	1265	Data truncated for column 'a' at row 1
Note	1265	Data truncated for column 'b' at row 1
Note	1265	Data truncated for column 'c' at row 1
Note	1265	Data truncated for column 'a' at row 2
Note	1265	Data truncated for column 'b' at row 2
Note	1265	Data truncated for column 'c' at row 2
Note	1265	Data truncated for column 'a' at row 3
Note	1265	Data truncated for column 'b' at row 3
Note	1265	Data truncated for column 'c' at row 3
Note	1265	Data truncated for column 'a' at row 4
Note	1265	Data truncated for column 'b' at row 4
Note	1265	Data truncated for column 'c' at row 4
insert into t1 values();
update t1 set a = 1 + 2 + 3;
[Note] SequoiaDB: optimizer update: 1, rule: { "$set": { "a": { "$decimal": "6" } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	6	2	2
3	6	3	3
4	6	4	4
5	6	NULL	NULL
update t1 set a = a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$decimal": "0" }, "Min": { "$decimal": "-9999999999" }, "Max": { "$decimal": "9999999999" }, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	6	2	2
3	6	3	3
4	6	4	4
5	6	NULL	NULL
update t1 set a = a + 1 + 2;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$decimal": "3" }, "Min": { "$decimal": "-9999999999" }, "Max": { "$decimal": "9999999999" }, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	9	1	1
2	9	2	2
3	9	3	3
4	9	4	4
5	9	NULL	NULL
update t1 set a = 1 + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$decimal": "1" }, "Min": { "$decimal": "-9999999999" }, "Max": { "$decimal": "9999999999" }, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	10	1	1
2	10	2	2
3	10	3	3
4	10	4	4
5	10	NULL	NULL
update t1 set a = a - 1;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$decimal": "-1" }, "Min": { "$decimal": "-9999999999" }, "Max": { "$decimal": "9999999999" }, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	9	1	1
2	9	2	2
3	9	3	3
4	9	4	4
5	9	NULL	NULL
update t1 set a = -1 + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$decimal": "-1" }, "Min": { "$decimal": "-9999999999" }, "Max": { "$decimal": "9999999999" }, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	8	1	1
2	8	2	2
3	8	3	3
4	8	4	4
5	8	NULL	NULL
update t1 set a = a + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$field": "a" }, "Min": { "$decimal": "-9999999999" }, "Max": { "$decimal": "9999999999" }, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	16	1	1
2	16	2	2
3	16	3	3
4	16	4	4
5	16	NULL	NULL
update t1 set a = b;
[Note] SequoiaDB: optimizer update: 1, rule: { "$set": { "a": { "$field": "b" } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	1	1	1
2	2	2	2
3	3	3	3
4	4	4	4
5	NULL	NULL	NULL
update t1 set a = a + b;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$field": "b" }, "Min": { "$decimal": "-9999999999" }, "Max": { "$decimal": "9999999999" }, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	4	2	2
3	6	3	3
4	8	4	4
5	NULL	NULL	NULL
update t1 set a = b + a;
[Note] SequoiaDB: optimizer update: 1, rule: { "$inc": { "a": { "Value": { "$field": "b" }, "Min": { "$decimal": "-9999999999" }, "Max": { "$decimal": "9999999999" }, "Default": null } } }, condition: {}, table: update_pushdown_sequoiadb.t1
select * from t1 order by id;
id	a	b	c
1	3	1	1
2	6	2	2
3	9	3	3
4	12	4	4
5	NULL	NULL	NULL
update t1 set a = -a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-3	1	1
2	-6	2	2
3	-9	3	3
4	-12	4	4
5	NULL	NULL	NULL
update t1 set a = a + a + 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-5	1	1
2	-11	2	2
3	-17	3	3
4	-23	4	4
5	NULL	NULL	NULL
update t1 set a = -b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-1	1	1
2	-2	2	2
3	-3	3	3
4	-4	4	4
5	NULL	NULL	NULL
update t1 set a = b + 1 + 2;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	4	1	1
2	5	2	2
3	6	3	3
4	7	4	4
5	NULL	NULL	NULL
update t1 set a = a + a + a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	12	1	1
2	15	2	2
3	18	3	3
4	21	4	4
5	NULL	NULL	NULL
update t1 set a = b + c;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	4	2	2
3	6	3	3
4	8	4	4
5	NULL	NULL	NULL
update t1 set a = a + b + 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	4	1	1
2	7	2	2
3	10	3	3
4	13	4	4
5	NULL	NULL	NULL
update t1 set a = 1 + a + b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	10	2	2
3	14	3	3
4	18	4	4
5	NULL	NULL	NULL
update t1 set a = a + b - 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	11	2	2
3	16	3	3
4	21	4	4
5	NULL	NULL	NULL
update t1 set a = -1 + a + b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	6	1	1
2	12	2	2
3	18	3	3
4	24	4	4
5	NULL	NULL	NULL
update t1 set a = b + 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	3	2	2
3	4	3	3
4	5	4	4
5	NULL	NULL	NULL
update t1 set a = b - 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	1	2	2
3	2	3	3
4	3	4	4
5	NULL	NULL	NULL
update t1 set a = 1 + b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	3	2	2
3	4	3	3
4	5	4	4
5	NULL	NULL	NULL
update t1 set a = a + a + 1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	5	1	1
2	7	2	2
3	9	3	3
4	11	4	4
5	NULL	NULL	NULL
update t1 set a = a + a -1;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	9	1	1
2	13	2	2
3	17	3	3
4	21	4	4
5	NULL	NULL	NULL
update t1 set a = 1 + a + a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	19	1	1
2	27	2	2
3	35	3	3
4	43	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-18	1	1
2	-26	2	2
3	-34	3	3
4	-42	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	-1	2	2
3	-2	3	3
4	-3	4	4
5	NULL	NULL	NULL
update t1 set a = a - b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	-1	1	1
2	-3	2	2
3	-5	3	3
4	-7	4	4
5	NULL	NULL	NULL
update t1 set a = b - a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	2	1	1
2	5	2	2
3	8	3	3
4	11	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - a + b;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	-2	2	2
3	-4	3	3
4	-6	4	4
5	NULL	NULL	NULL
update t1 set a = 1 - b + a;
[Note] SequoiaDB: Query message: condition[{}], selector[{}], order_by[{}], hint[{}], limit[-1], offset[0], table[update_pushdown_sequoiadb.t1]
select * from t1 order by id;
id	a	b	c
1	0	1	1
2	-3	2	2
3	-6	3	3
4	-9	4	4
5	NULL	NULL	NULL
drop table t1;
create table t1(id int auto_increment key, a decimal(5,2), b decimal(5,2), c decimal(5,2));
insert into t1 values(1,-999.99,888.88,1);
update t1 set a = a + b;
update t1 set a = a + b;
update t1 set a = a + b;
ERROR 22003: Out of range value for column 'a' at row 1
select * from t1;
id	a	b	c
1	777.77	888.88	1.00
drop table t1;
create table t1(id int auto_increment key, a decimal(5,2) unsigned, b decimal(5,2) unsigned, c decimal(5,2) unsigned);
insert into t1 values(1,1.25,999.99,1);
update t1 set a = a + b;
ERROR 22003: Out of range value for column 'a' at row 1
select * from t1;
id	a	b	c
1	1.25	999.99	1.00
drop table t1;
create table t1(id int auto_increment key, a int, b decimal, c decimal(5,3), d decimal(4,2));
insert into t1 values(1,1,2,12.121,12.12);
update t1 set a = b;
update t1 set b = a + b;
select * from t1 order by id;
id	a	b	c	d
1	2	4	12.121	12.12
update t1 set c = d;
update t1 set c = c + b;
select * from t1 order by id;
id	a	b	c	d
1	2	4	16.120	12.12
drop database update_pushdown_sequoiadb;
