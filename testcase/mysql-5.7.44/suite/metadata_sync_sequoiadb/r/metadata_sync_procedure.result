set session sequoiadb_support_mode="";
DROP DATABASE IF EXISTS metasync_procedure;
DROP DATABASE IF EXISTS metasync_scptpkg;
set session sequoiadb_support_mode="";
SHOW CREATE DATABASE metasync_procedure;
ERROR 42000: Unknown database 'metasync_procedure'
SHOW CREATE DATABASE metasync_scptpkg;
ERROR 42000: Unknown database 'metasync_scptpkg'
CREATE DATABASE metasync_procedure;
USE metasync_procedure;
CREATE PROCEDURE sp_param_inout ( IN p_in INT, OUT p_out INT, INOUT p_inout INT )
BEGIN
DECLARE z INT DEFAULT 2;
SET p_in = 2;
SET p_out = z;
SELECT p_in, p_out;
DROP TABLE IF EXISTS t0;
CREATE TABLE t0 SELECT @p_inout;
SELECT * FROM t0;
END|
CREATE PROCEDURE sp_chistics ()
LANGUAGE SQL
MODIFIES SQL DATA
NOT DETERMINISTIC
SQL SECURITY DEFINER
COMMENT 'Characteristics procedure test'
SELECT "Characteristics"|
CREATE PROCEDURE sp_repeat ( x INT )
REPEAT
SELECT REPEAT( "b", x );
SET x = x - 1;
UNTIL x = 0 END REPEAT|
CREATE PROCEDURE sp_case ( x INT )
CASE
WHEN x < 0 THEN
SELECT "case0";
WHEN x = 0 THEN
SELECT "case1";
ELSE
SELECT "case2";
END case|
DROP TABLE IF EXISTS t1, t2, t3|
Warnings:
Note	1051	Unknown table 'metasync_procedure.t1'
Note	1051	Unknown table 'metasync_procedure.t2'
Note	1051	Unknown table 'metasync_procedure.t3'
CREATE TABLE t1 ( id INT, data INT )|
INSERT INTO t1 VALUES ( 1, 1 )|
CREATE TABLE t2 ( i INT )|
INSERT INTO t2 VALUES ( 2 )|
CREATE TABLE t3 ( data CHAR(64), i INT )|
CREATE PROCEDURE sp_cursor ()
BEGIN
DECLARE done INT DEFAULT 0;
DECLARE c1 cursor FOR SELECT id,data FROM t1 ORDER BY id,data;
DECLARE c2 cursor FOR SELECT i FROM t2 ORDER BY i;
DECLARE CONTINUE HANDLER FOR SQLSTATE '02000' SET done = 1;
OPEN c1;
OPEN c2;
REPEAT
BEGIN
DECLARE a CHAR(16);
DECLARE b,c INT;
FETCH FROM c1 INTO a, b;
FETCH NEXT FROM c2 INTO c;
IF NOT done THEN
IF b < c THEN
INSERT INTO t3 VALUES (a, b);
ELSE
INSERT INTO t3 VALUES (a, c);
END IF;
END IF;
END;
UNTIL done END REPEAT;
CLOSE c1;
CLOSE c2;
END|
CREATE PROCEDURE sp_prepare_stmt ( tbl_name varchar(32) )
BEGIN
SET @str =
CONCAT("CREATE TABLE ", tbl_name, "(stuff char(15))");
SELECT @str;
PREPARE stmt FROM @str;
EXECUTE stmt;
SET @str =
CONCAT("INSERT INTO ", tbl_name, " VALUES('row1'),('row2'),('row3')" );
SELECT @str;
PREPARE stmt FROM @str;
EXECUTE stmt;
SET @str =
CONCAT("CREATE VIEW v1(c1) AS SELECT stuff FROM ", tbl_name);
SELECT @str;
PREPARE stmt FROM @str;
EXECUTE stmt;
SELECT * FROM v1;
SET @str =
"DROP VIEW v1";
SELECT @str;
PREPARE stmt FROM @str;
EXECUTE stmt;
END|
CREATE DEFINER = `root`@`localhost` PROCEDURE sp_definer ()
BEGIN
CREATE DATABASE metasync_scptpkg;
DROP TABLE IF EXISTS metasync_scptpkg.tfw_relation;
CREATE TABLE metasync_scptpkg.tfw_relation ( ID BIGINT, MENUID INT, ROLEID INT ); 
INSERT INTO metasync_scptpkg.tfw_relation ( ID, MENUID, ROLEID ) VALUES ('968410495344181258', '37', '2');
INSERT INTO metasync_scptpkg.tfw_relation ( ID, MENUID, ROLEID ) VALUES ('968410495344181259', '38', '2');
INSERT INTO metasync_scptpkg.tfw_relation ( ID, MENUID, ROLEID ) VALUES ('968410495344181260', '20040', '2');
DROP TABLE IF EXISTS metasync_scptpkg.tfw_dict;
CREATE TABLE metasync_scptpkg.tfw_dict ( ID BIGINT, CODE TEXT, NUM INT, PID BIGINT, NAME TEXT, TIPS TEXT, VERSION INT, SELECTED INT );
SELECT COUNT(1) FROM metasync_scptpkg.tfw_dict WHERE CODE = 'SealStatusType' INTO @temp;
IF @temp = 0 THEN
INSERT INTO metasync_scptpkg.tfw_dict ( ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED ) VALUES ('962499376750526464','SealStatusType','0',NULL,'签章状态','',0,0);
INSERT INTO metasync_scptpkg.tfw_dict ( ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED ) VALUES ('962499516458598400','SealStatusType','1','962499376750526464','已启用','',0,0);
INSERT INTO metasync_scptpkg.tfw_dict ( ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED ) VALUES ('962499592304197632','SealStatusType','2','962499376750526464','已禁用','',0,0);
INSERT INTO metasync_scptpkg.tfw_dict ( ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED ) VALUES ('962499644422619136','SealStatusType','3','962499376750526464','已作废','',0,0);
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = "metasync_scptpkg" AND table_name = 'tfw_invoke_api_log' INTO @temp ;
IF @temp = 0 then
CREATE TABLE metasync_scptpkg.tfw_invoke_api_log (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
APIURI varchar(100) DEFAULT NULL COMMENT '应用接口地址',
APIPARAM longtext COMMENT '应用请求参数',
APIHEADER text COMMENT '应用请求头',
SUCCEED varchar(255) DEFAULT NULL COMMENT '是否成功',
IP varchar(100) DEFAULT NULL COMMENT 'IP地址',
REQTIME datetime DEFAULT NULL COMMENT '请求时间',
RESPTIME datetime DEFAULT NULL COMMENT '响应时间',
MESSAGE text COMMENT '异常栈消息',
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
ALTER TABLE metasync_scptpkg.tfw_invoke_api_log ADD INDEX INDEX_INVOKE_API_APPID (APPID); /* 这里创建索引 INDEX_INVOKE_API_APPID*/
ALTER TABLE metasync_scptpkg.tfw_invoke_api_log ADD INDEX INDEX_INVOKE_API_APIURI (APIURI); # 这里创建索引 INDEX_INVOKE_API_APIURI
ALTER TABLE metasync_scptpkg.tfw_invoke_api_log ADD INDEX INDEX_INVOKE_API_SUCCEED (SUCCEED); # 这里创建索引 INDEX_INVOKE_API_SUCCEED
END IF ;
END|
CREATE PROCEDURE sp_large170k ()
BEGIN
set @dataBaseName='metaSync_large170k';
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'siger_center' into @temp;
IF @temp = 0 then
DELETE FROM TFW_MENU;
DELETE FROM TFW_RELATION;
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1', 'system', '0', '', '系统管理', 'fa-cog', '', '700', '1', NULL, NULL, '', '1', '1', '0', '9', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('2', 'role', 'system', NULL, '角色管理', 'fa-key', '/role/', '2', '2', NULL, NULL, NULL, '1', '0', NULL, '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('3', 'role_add', 'role', 'addex', '角色新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/role/add', '1', '3', NULL, 'role_add.html', '800*340', '1', '0', NULL, '2', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('4', 'role_edit', 'role', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/role/edit', '2', '3', NULL, 'role_edit.html', '800*340', '1', '0', '0', '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('5', 'role_remove', 'role', 'remove', '删除', 'btn btn-xs btn-white | fa fa-times  bigger-120', '/role/remove', '3', '3', NULL, NULL, NULL, '1', '0', NULL, '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('6', 'role_view', 'role', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/role/view', '4', '3', NULL, 'role_view.html', '800*340', '1', NULL, NULL, '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('7', 'role_authority', 'role', 'authority', '权限配置', 'btn btn-xs btn-white | fa fa-wrench  bigger-120', '/role/authority', '5', '3', NULL, 'role_authority.html', '350*500', '1', '0', NULL, '2', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('8', 'user', 'system', '', '管理员管理', 'fa-user', '/user/', '3', '2', NULL, NULL, '', '1', '0', NULL, '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('9', 'user_add', 'user', 'add', '新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/user/add', '1', '3', NULL, 'user_add.html', '800*430', '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('10', 'user_edit', 'user', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/user/edit', '2', '3', NULL, 'user_edit.html', '800*430', '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('11', 'user_del', 'user', 'remove', '删除', 'btn btn-xs btn-white | fa fa fa-times bigger-120', '/user/del', '3', '3', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('12', 'user_view', 'user', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/user/view', '4', '3', NULL, 'user_view.html', '800*390', '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('13', 'user_audit', 'user', 'audit', '审核', 'btn btn-xs btn-white | fa fa-user  bigger-120', '{\"status\":\"3\"}', '5', '3', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('14', 'user_audit_ok', 'user_audit', 'ok', '通过', 'btn btn-xs btn-white | fa fa-check  bigger-120', '/user/auditOk', '1', '4', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('15', 'user_audit_refuse', 'user_audit', 'refuse', '拒绝', 'btn btn-xs btn-white | fa fa-times  bigger-120', '/user/auditRefuse', '2', '4', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('16', 'user_audit_back', 'user_audit', 'back', '返回', 'btn btn-xs btn-white | fa fa-undo  bigger-120', NULL, '3', '4', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('17', 'user_reset', 'user', 'reset', '重置密码', 'btn btn-xs btn-white | fa fa-key  bigger-120', '/user/reset', '6', '3', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('18', 'user_ban', 'user', 'frozen', '禁用', 'btn btn-xs btn-white | fa fa-ban  bigger-120', '/user/ban', '7', '3', NULL, NULL, '', '1', '0', NULL, '5', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('19', 'user_recycle', 'user', 'recycle', '回收站', 'btn btn-xs btn-white | fa fa-recycle  bigger-120', '{\"status\":\"5\"}', '8', '3', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20', 'user_recycle_restore', 'user_recycle', 'restore', '还原', 'btn btn-xs btn-white | fa fa-refresh  bigger-120', '/user/restore', '1', '4', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('21', 'user_recycle_remove', 'user_recycle', 'remove', '彻底删除', 'btn btn-xs btn-white  btn-danger | fa fa fa-times bigger-120', '/user/remove', '2', '4', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('22', 'user_recycle_back', 'user_recycle', 'back', '返回', 'btn btn-xs btn-white | fa fa-undo  bigger-120', NULL, '3', '4', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('25', 'menu', 'system', '', '菜单管理', 'fa-tasks', '/menu/', '200', '2', NULL, NULL, '', '1', '0', NULL, '4', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('26', 'menu_add', 'menu', 'addex', '菜单新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/menu/add', '1', '3', NULL, 'menu_add.html', '800*430', '1', '0', '0', '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('27', 'menu_edit', 'menu', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/menu/edit', '2', '3', NULL, 'menu_edit.html', '800*430', '1', '0', '0', '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('28', 'menu_del', 'menu', 'remove', '删除', 'btn btn-xs btn-white | fa fa-times  bigger-120', '/menu/del', '3', '3', NULL, NULL, NULL, '1', '0', NULL, '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('29', 'menu_view', 'menu', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/menu/view', '4', '3', NULL, 'menu_view.html', '800*430', '1', '0', '0', '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('30', 'menu_recycle', 'menu', 'recycle', '回收站', 'btn btn-xs btn-white | fa fa-recycle  bigger-120', '{\"status\":\"2\"}', '5', '3', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('31', 'menu_recycle_restore', 'menu_recycle', 'restore', '还原', 'btn btn-xs btn-white | fa fa-refresh  bigger-120', '/menu/restore', '1', '4', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('32', 'menu_recycle_remove', 'menu_recycle', 'remove', '彻底删除', 'btn btn-xs btn-white  btn-danger | fa fa fa-times bigger-120', '/menu/remove', '2', '4', NULL, NULL, NULL, '1', '0', NULL, '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('33', 'menu_recycle_back', 'menu_recycle', 'back', '返回', 'btn btn-xs btn-white | fa fa-undo  bigger-120', NULL, '3', '4', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('34', 'dict', 'system', '', '字典管理', 'fa fa-book', '/dict/', '400', '2', NULL, NULL, '', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('35', 'dict_add', 'dict', 'addex', '字典新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/dict/add', '1', '3', NULL, 'dict_add.html', '800*390', '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('36', 'dict_edit', 'dict', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/dict/edit', '2', '3', NULL, 'dict_edit.html', '800*390', '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('37', 'dict_remove', 'dict', 'remove', '删除', 'btn btn-xs btn-white | fa fa-times  bigger-120', '/dict/remove', '3', '3', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('38', 'dict_view', 'dict', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/dict/view', '4', '3', NULL, 'dict_view.html', '800*390', '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('39', 'dept', 'system', '', '机构管理', 'fa fa-users', '/dept/', '1', '2', NULL, NULL, '', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('40', 'dept_add', 'dept', 'add', '机构新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/dept/add', '1', '3', NULL, 'dept_add.html', '800*340', '1', '0', NULL, '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('41', 'dept_edit', 'dept', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/dept/edit', '2', '3', NULL, 'dept_edit.html', '800*340', '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('43', 'dept_view', 'dept', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/dept/view', '4', '3', NULL, 'dept_view.html', '800*340', '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('56', 'parameter', 'system', '', '参数化管理', 'fa-tags', '/parameter/', '300', '2', NULL, 'parameter.html', '', '1', '0', '1', '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('57', 'parameter_add', 'parameter', 'add', '新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/parameter/add', '1', '3', NULL, 'parameter_add.html', NULL, '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('58', 'parameter_edit', 'parameter', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/parameter/edit', '2', '3', NULL, 'parameter_edit.html', NULL, '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('59', 'parameter_del', 'parameter', 'remove', '删除', 'btn btn-xs btn-white | fa fa-times  bigger-120', '/parameter/del', '3', '3', NULL, NULL, NULL, '1', '0', '0', '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('60', 'parameter_view', 'parameter', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/parameter/view', '4', '3', NULL, 'parameter_view.html', NULL, '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('61', 'parameter_recycle', 'parameter', 'recycle', '回收站', 'btn btn-xs btn-white | fa fa-recycle  bigger-120', '{\"status\":\"5\"}', '5', '3', NULL, 'parameter_recycle.html', NULL, '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('62', 'parameter_recycle_restore', 'parameter_recycle', 'restore', '还原', 'btn btn-xs btn-white | fa fa-refresh  bigger-120', '/parameter/restore', '1', '4', NULL, NULL, NULL, '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('63', 'parameter_recycle_remove', 'parameter_recycle', 'remove', '彻底删除', 'btn btn-xs btn-white  btn-danger | fa fa fa-times bigger-120', '/parameter/remove', '2', '4', NULL, NULL, NULL, '1', '0', '0', '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('64', 'parameter_recycle_back', 'parameter_recycle', 'back', '返回', 'btn btn-xs btn-white | fa fa-undo  bigger-120', NULL, '3', '4', NULL, NULL, NULL, '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('81', 'log', '0', '', '审计中心', 'fa-tasks', '', '500', '1', NULL, NULL, '', '1', '1', '0', '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('82', 'olog', 'log', NULL, '操作日志', 'fa-database', '/olog/', '1', '3', NULL, 'olog.html', NULL, '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('83', 'llog', 'log', NULL, '登录日志', 'fa-sign-in', '/llog/', '2', '3', NULL, 'llog.html', NULL, '1', '0', '1', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('87', 'olog_view', 'olog', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/olog/view', '4', '4', NULL, 'olog_view.html', NULL, '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('91', 'llog_view', 'llog', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/llog/view', '4', '4', NULL, 'llog_view.html', NULL, '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('92', 'cert', '0', '', '证书中心', 'fa fa-desktop', '', '200', '1', NULL, NULL, '', '1', '1', '0', '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20000', 'template', 'cont', '', '模板管理', 'fa fa-file', '/tpl/info', '4', '2', NULL, NULL, '800*520', '1', '0', NULL, '12', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20001', 'cont', '0', '', '合同中心', 'fa fa-file-o', '', '400', '1', NULL, NULL, '800*520', '1', '1', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20002', 'siger_center', '0', '', '用户中心', 'fa zen-user', '', '100', '1', NULL, NULL, '800*520', '1', '1', '0', '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20003', 'signer_edit', 'signer', 'edit', '修改用户', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/crm/signer/editSimple', '3', '3', NULL, NULL, '800*520', '1', '0', NULL, '9', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20004', 'template_add', 'template', 'add', '新增模板', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/tpl/info/add', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20005', 'contract_view', 'contract', 'view', '查看详情', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/cnt/record', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '3', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('10000', 'template_edit', 'template', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/tpl/info/edit', '2', '4', NULL, NULL, '800*520', '1', '0', NULL, '2', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20006', 'signer_addFast', 'signer', 'add', '快速新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/crm/signer/add', '7', '3', NULL, NULL, '800*520', '1', '0', NULL, '10', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20007', 'template_remove', 'template', 'remove', '删除', 'btn btn-xs btn-white | fa fa-times  bigger-120', '/tpl/info/remove', '3', '3', NULL, NULL, '800*520', '1', '0', NULL, '4', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20008', 'user_enable', 'user', 'frozen', '启用', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/user/enable', '7', '4', NULL, NULL, '800*520', '1', '0', NULL, '2', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20009', 'signer_ban', 'signer', 'frozen', '禁用', 'btn btn-xs btn-white | fa fa-ban  bigger-120', '/crm/signer/ban', '5', '3', NULL, NULL, '800*520', '1', '0', NULL, '6', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20010', 'signer_enable', 'signer', 'frozen', '启用', 'btn btn-xs btn-white | fa fa-check  bigger-120', '/crm/signer/enable', '4', '3', NULL, NULL, '800*520', '1', '0', NULL, '3', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20011', 'signer', 'siger_center', '', '用户管理', 'fa zen-user', '/crm/signer', '1', '2', NULL, NULL, '800*520', '1', '0', NULL, '4', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20012', 'cert_manage', 'cert', '', '证书管理', 'fa fa-book', '/crm/cert', '6', '2', NULL, NULL, '800*520', '1', '0', NULL, '2', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20013', 'appInfo', 'system', '', '接入方管理', 'fa zen-user', '/app', '50', '2', NULL, NULL, '800*520', '1', '0', NULL, '3', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20014', 'appInfo_add', 'appInfo', 'add', '新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/app/add', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20015', 'appInfo_edit', 'appInfo', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/app/edit', '2', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20016', 'appInfo_enable', 'appInfo', 'frozen', '启用', 'btn btn-xs btn-white | fa fa-check  bigger-120', '/app/enable', '4', '3', NULL, NULL, '800*520', '1', '0', NULL, '4', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20017', 'appInfo_ban', 'appInfo', 'frozen', '禁用', 'btn btn-xs btn-white | fa fa-ban  bigger-120', '/app/ban', '5', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20019', 'user_orgAssign', 'user', 'assign', '机构分配', 'btn btn-xs btn-white | fa fa-cogs bigger-120', '/user/orgAssign', '10', '3', NULL, NULL, '350*500', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20020', 'stat', '0', '', '费控中心', 'fa-line-chart', '', '600', '1', NULL, NULL, '800*520', '1', '1', NULL, '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20021', 'stat_kgFace', 'stat', '', 'kgFace统计', 'fa fa-book', '/stat/kgFace', '1', '2', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20022', 'contract_download', 'contract', 'viewAll', '下载记录', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/cnt/download', '2', '3', NULL, NULL, '800*520', '1', '0', NULL, '6', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20023', 'contract_deletingSet', 'contract', 'add', '删除设置', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/cnt/deletingSet', '3', '3', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20024', 'cont_download_authority', 'cont', 'viewAll', '下载权限', 'hidden btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/cnt/download/authority', '4', '3', NULL, NULL, '800*520', '1', '0', NULL, '11', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20025', 'seal', '0', '', '签章中心', 'fa fa-vcard-o', '', '300', '1', NULL, NULL, '800*520', '1', '1', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20026', 'seal_manage', 'seal', '', '签章管理', 'fa fa-vcard-o', '/crm/seal', '1', '2', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20027', 'contract', 'cont', '', '合同管理', 'fa fa-file-text-o', '/cnt/contract', '2', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20028', 'seal_add', 'seal_manage', 'add', '新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/crm/seal/add', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20029', 'seal_edit', 'seal_manage', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/crm/seal/edit', '2', '3', NULL, NULL, '800*520', '1', '0', NULL, '3', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20030', 'seal_enable', 'seal_manage', 'frozen', '启用', 'btn btn-xs btn-white | fa fa-check  bigger-120', '/crm/seal/enable', '3', '3', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20031', 'seal_ban', 'seal_manage', 'frozen', '禁用', 'btn btn-xs btn-white | fa fa-ban  bigger-120', '/crm/seal/ban', '4', '3', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20032', 'signer_add', 'signer', 'add', '用户新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/crm/signer/addSimple', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '5', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20033', 'signer_orgAssign', 'signer', 'assign', '变更机构', 'btn btn-xs btn-white | fa fa-cogs bigger-120', '/crm/signer/orgAssign', '8', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20034', 'cert_create', 'cert_manage', 'add', '创建', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/crm/cert/create', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20035', 'cert_view', 'cert_manage', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/crm/cert/view', '2', '3', NULL, NULL, '800*520', '1', '0', NULL, '3', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20036', 'cert_download', 'cert_manage', 'downLoad', '下载', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/crm/cert/cerdown', '4', '3', NULL, NULL, '800*520', '1', '0', NULL, '4', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20037', 'invokeApiLog', 'log', '', '调用日志', 'fa-database', '/invokeApiLog/', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20038', 'invokeApiLog_view', 'invokeApiLog', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/invokeApiLog/view', '1', '4', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20039', 'cert_revoke', 'cert_manage', 'frozen', '吊销', 'btn btn-xs btn-white | fa fa-ban  bigger-120', '/crm/cert/revoke', '3', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '是否将选中证书吊销？', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20040', 'pageset', 'system', '', '页面设置', 'fa-cog', '/pageSet', '401', '2', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20041', 'seal_cancel', 'seal_manage', 'remove', '作废', 'btn btn-xs btn-white | fa fa-times  bigger-120', '/crm/seal/cancel', '5', '3', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422438789120', '20002', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422451372032', '20011', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422451372033', '20032', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422451372034', '20003', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422451372035', '20010', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422451372036', '20009', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422455566336', '20006', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422455566337', '20033', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422455566338', '92', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422455566339', '20012', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422455566340', '20034', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422455566341', '20035', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422459760640', '20039', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422459760641', '20036', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422459760642', '20025', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422459760643', '20026', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422463954944', '20028', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422463954945', '20029', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422463954946', '20030', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422463954947', '20031', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422463954948', '20041', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422463954949', '20001', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422463954950', '20000', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422463954951', '20004', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422463954952', '20007', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149248', '10000', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149249', '20027', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149250', '20005', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149251', '20022', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149252', '20023', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149253', '20024', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149254', '81', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149255', '20037', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149256', '20038', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149257', '82', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149258', '87', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149259', '83', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149260', '91', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149261', '1', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343552', '39', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343553', '40', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343554', '41', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343555', '43', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343556', '2', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343557', '3', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343558', '4', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343559', '5', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343560', '6', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343561', '7', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343562', '8', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343563', '9', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343564', '10', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343565', '11', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343566', '12', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537856', '13', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537857', '14', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537858', '15', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537859', '16', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537860', '17', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537861', '18', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537862', '19', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537863', '20', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537864', '21', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537865', '22', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537867', '20008', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537868', '20013', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537869', '20014', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422480732160', '20015', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422480732161', '20016', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422480732162', '20017', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422480732164', '25', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422480732165', '26', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422480732166', '27', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422480732167', '28', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422480732168', '29', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926464', '30', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926465', '31', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926466', '32', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926467', '33', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926468', '56', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926469', '57', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926470', '58', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926471', '59', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926472', '60', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926473', '61', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926474', '62', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926475', '63', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926476', '64', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422489120768', '34', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422489120769', '35', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422489120770', '36', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422489120771', '37', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422489120772', '38', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422489120773', '20040', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495302238208', '20002', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495306432512', '20011', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495306432513', '20032', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495306432514', '20003', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626816', '20010', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626817', '20009', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626818', '20006', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626819', '20033', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626820', '92', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626821', '20012', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626822', '20034', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626823', '20035', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626824', '20039', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626825', '20036', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626826', '20025', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626827', '20026', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626828', '20028', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626829', '20029', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821120', '20030', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821121', '20031', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821122', '20041', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821123', '20001', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821124', '20000', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821125', '20004', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821126', '20007', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821127', '10000', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821128', '20027', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821129', '20005', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821130', '20022', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821131', '20023', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821132', '20024', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495323209728', '81', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495323209729', '20037', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495323209730', '20038', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495323209731', '82', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495331598336', '87', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495331598337', '83', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495331598338', '91', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495331598339', '1', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495331598340', '39', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792640', '40', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792641', '41', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792642', '43', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792643', '2', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792644', '3', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792645', '4', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792646', '5', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792647', '6', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792648', '7', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792649', '8', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792650', '9', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792651', '10', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986944', '11', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986945', '12', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986946', '13', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986947', '14', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986948', '15', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986949', '16', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986950', '17', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986951', '18', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986952', '19', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986953', '20', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986954', '21', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986955', '22', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181248', '20008', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181249', '20013', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181250', '20014', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181251', '20015', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181252', '20016', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181253', '20017', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181255', '34', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181256', '35', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181257', '36', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181258', '37', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181259', '38', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181260', '20040', '2');
end if;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SEAL' AND column_name = 'STATUS' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_SEAL  ADD COLUMN STATUS int(4) DEFAULT 1 COMMENT '状态：1 启用 2 禁用 3作废' ;
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'SealStatusType' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('962499376750526464','SealStatusType','0',NULL,'签章状态','',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('962499516458598400','SealStatusType','1','962499376750526464','已启用','',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('962499592304197632','SealStatusType','2','962499376750526464','已禁用','',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('962499644422619136','SealStatusType','3','962499376750526464','已作废','',0,0);
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'sealMakingWay' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('961418229278834688','sealMakingWay','0',NULL,'制章方式','',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('961418428957065216','sealMakingWay','1','961418229278834688','本地上传','',1,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('961418473605431296','sealMakingWay','2','961418229278834688','自动生成','',0,0);
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'sealForm' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('961783609591595008','sealForm','0',NULL,'签章样式','',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('961783917206044672','sealForm','1','961783609591595008','人名方章','',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('961783979063640064','sealForm','2','961783609591595008','企业圆章','',0,0);
END IF ;
/*证书状态  ： 使用中  已吊销*/
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'CertStatusType' into @temp;
IF @temp = 0 then
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('962581152034455552','CertStatusType','-1',NULL,'证书状态','','1','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('962581947115110400','CertStatusType','0','962581152034455552','使用中','','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('962581993038544896','CertStatusType','1','962581152034455552','已吊销','','0','0');
END IF ;
/*移除部分企业证件类型*/
DELETE FROM TFW_DICT WHERE CODE = 'enterpriseType';
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'enterpriseType' into @temp;
IF @temp = 0 then
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877435700222361600','enterpriseType','-1','-1','企业证件类型','企业证件类型','4','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877438214439174144','enterpriseType','3','877435700222361600','工商登记证','工商登记证','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877438247146356736','enterpriseType','4','877435700222361600','税务登记证','税务登记证','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877438293883486208','enterpriseType','7','877435700222361600','组织机构代码证','组织机构代码证','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877438330000637952','enterpriseType','8','877435700222361600','企业营业执照','企业营业执照','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877438599417561088','enterpriseType','Z','877435700222361600','其他','其他','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877445382223691776','enterpriseType','2','877435700222361600','社会信用代码','社会信用代码','1','0');
END IF ;
/*移除部分个人证件类型*/
DELETE FROM TFW_DICT WHERE CODE = 'personType';
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'personType' into @temp;
IF @temp = 0 then
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877435931940880384','personType','-1','-1','个人证件类型','个人证件类型','2','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877437205113470976','personType','0','877435931940880384','居民身份证','居民身份证','1','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877437344586661888','personType','1','877435931940880384','护照','护照','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877437523284983808','personType','B','877435931940880384','港澳居民往来内地通行证','港澳居民往来内地通行证','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877437567643942912','personType','C','877435931940880384','台湾居民来往大陆通行证','台湾居民来往大陆通行证','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877437738087874560','personType','Z','877435931940880384','其他','其他','0','0');
END IF ;
/*参数表添加signer_isBindUKey*/
SELECT COUNT(1) FROM TFW_PARAMETER WHERE CODE = 'signer_isBindUKey' into @temp;
IF @temp = 0 then
insert into TFW_PARAMETER (ID, CODE, NUM, NAME, PARA, TIPS, STATUS, VERSION) values('961132095684476928','signer_isBindUKey',NULL,'开启使用ukey','1','1 可以  2 不可以','1','3');
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'TFW_INVOKE_API_LOG' INTO @temp ;
IF @temp = 0 then
CREATE TABLE TFW_INVOKE_API_LOG (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
APIURI varchar(100) DEFAULT NULL COMMENT '应用接口地址',
APIPARAM longtext COMMENT '应用请求参数',
APIHEADER text COMMENT '应用请求头',
SUCCEED varchar(255) DEFAULT NULL COMMENT '是否成功',
IP varchar(100) DEFAULT NULL COMMENT 'IP地址',
REQTIME datetime DEFAULT NULL COMMENT '请求时间',
RESPTIME datetime DEFAULT NULL COMMENT '响应时间',
MESSAGE text COMMENT '异常栈消息',
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
ALTER TABLE TFW_INVOKE_API_LOG ADD  INDEX INDEX_INVOKE_API_APPID (APPID);
ALTER TABLE TFW_INVOKE_API_LOG ADD  INDEX INDEX_INVOKE_API_APIURI (APIURI);
ALTER TABLE TFW_INVOKE_API_LOG ADD  INDEX INDEX_INVOKE_API_SUCCEED (SUCCEED);
END IF ;
/*字典表certType去除硬件密钥盘（UKEY）*/
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'certType' AND NUM='0' AND PID='863945968997892096' into @temp;
IF @temp > 0 then
DELETE FROM TFW_DICT WHERE CODE = 'certType' AND NUM='0' AND PID='863945968997892096';
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'contractStatus' AND NUM='5' into @temp;
IF @temp = 0 then
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('992210704700276736','contractStatus','5','870442077001875456','作废','','0','0');
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'contractStatus' AND NUM='16' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1006809636298293248', 'contractStatus', '16', '870442077001875456', '回退', '回退', '0', '0');
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'contractStatus' AND NUM='32' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1006809636298293249', 'contractStatus', '32', '870442077001875456', '跳过', '跳过', '0', '0');
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CNT_SIGNER_MSG' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CNT_SIGNER_MSG (
ID bigint(24) NOT NULL,
CNTID bigint(24) DEFAULT NULL COMMENT '合同id',
CONTRACTID varchar(225) DEFAULT NULL COMMENT '合同编号',
SIGNERID bigint(24) DEFAULT NULL COMMENT '用户id',
SIGNERCODE varchar(64) DEFAULT NULL COMMENT '用户编码',
PHONE varchar(100) DEFAULT NULL COMMENT '电话号',
EMAIL varchar(225) DEFAULT NULL COMMENT '邮箱地址',
CREATETIME datetime DEFAULT NULL,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT ICON FROM TFW_MENU WHERE CODE = 'seal_manage' into @temp; 
IF @temp = 'fa' then 
UPDATE TFW_MENU SET ICON = 'fa fa-vcard-o' WHERE  CODE ='seal_manage';
END IF ;
/*hnnx 印模表*/
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CRM_SEAL_TPL' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CRM_SEAL_TPL (
ID bigint(24) NOT NULL,
CODE varchar(100) DEFAULT NULL COMMENT '印模编码',
NAME varchar(128) DEFAULT NULL COMMENT '印模名称',
SIGNERID bigint(24) DEFAULT NULL COMMENT '用户id',
METADATA varchar(2000) DEFAULT NULL COMMENT '印模数据',
STATUS int(4) DEFAULT NULL COMMENT '状态',
CREATETIME datetime DEFAULT NULL,
PRIMARY KEY (ID)
);
END IF ;
/*菜单：用章日志*/
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'invokeSealLog' into @temp; 
IF @temp = 0 then 
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('978520490018603008', 'invokeSealLog', 'log', null, '用章日志', 'fa-database', '/invokeSealLog/', '3', '3', null, null, '800*520', '1', '0', null, '2', null, null);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('978520803639296000', 'invokeSealLog_view', 'invokeSealLog', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/invokeSealLog/view', '1', '3', null, null, '800*520', '1', '0', null, '0', null, null);
END IF ;
/*hnnx 用模日志表*/
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_SEALTPL_USE' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_SEALTPL_USE (
ID bigint(24) NOT NULL ,
BIZID varchar(100) DEFAULT NULL ,
SIGNERID bigint(24) DEFAULT NULL COMMENT '用户id',
EXPIRYTIME bigint(24) DEFAULT NULL COMMENT '逾期时间',
EXPIRYMONTH int(5) DEFAULT NULL COMMENT '逾期月份',
APPID bigint(24) DEFAULT NULL COMMENT '应用id',
SEALTPLID bigint(24) DEFAULT NULL COMMENT '印模编号',
CREATETIME datetime DEFAULT NULL ,
VALIDCODE varchar(100) DEFAULT NULL COMMENT '验证码',
REMARK varchar(200) DEFAULT NULL ,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
/*hnnx 用章日志表*/
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_SEAL_USE' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_SEAL_USE (
ID bigint(24) NOT NULL,
BIZID varchar(100) DEFAULT NULL,
SIGNERID bigint(24) DEFAULT NULL COMMENT '用户id',
APPID bigint(24) DEFAULT NULL COMMENT '应用id',
SEALID bigint(24) DEFAULT NULL COMMENT '签章id',
SEALNAME varchar(200) DEFAULT NULL COMMENT '签章名称',
SEALCODE varchar(200) DEFAULT NULL COMMENT '签章编号',
EXPIRYTIME bigint(24) DEFAULT NULL COMMENT '逾期时间',
EXPIRYMONTH int(5) DEFAULT NULL COMMENT '逾期月份',
CREATETIME datetime DEFAULT NULL,
REMARK varchar(200) DEFAULT NULL,
SIGNERNAME varchar(1000) DEFAULT NULL,
DOCUMENTID varchar(1000) DEFAULT NULL,
IPADD varchar(20) DEFAULT NULL,
CLIENTVER varchar(500) DEFAULT NULL,
ORGNAME varchar(500) DEFAULT NULL,
KEYSN varchar(100) DEFAULT NULL,
DOCUMENTNAME varchar(500) DEFAULT NULL,
SORT varchar(10) DEFAULT NULL,
TYPE varchar(10) DEFAULT NULL,
PRIMARY KEY (ID)
);
END IF ;
/*字典表： 盖章模式*/
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'sealModel' into @temp; 
IF @temp = 0 then 
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('983880221444800512','sealModel','-1',NULL,'盖章模式','','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('983880517541691392','sealModel','0','983880221444800512','单页允许多章','','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('983880591462105088','sealModel','1','983880221444800512','单页仅单章','','0','0');
END IF ;
/*签章表： GEOMETRIC 字段长度调整*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SEAL' AND column_name = 'GEOMETRIC' into @temp;
IF @temp = 1 then 
ALTER TABLE CRM_SEAL CHANGE GEOMETRIC GEOMETRIC DECIMAL(20,10) DEFAULT 1.0000000000  NULL;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SIGNER' AND column_name = 'TOKENUM' into @temp;
IF @temp = 0 then 
ALTER TABLE CRM_SIGNER  ADD COLUMN TOKENUM varchar(20) null COMMENT 'token序号' ;
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE NUM = 'SIMSUN.TTC' into @temp;
IF @temp = 1 then 
update TFW_DICT set NUM = 'SIMSUN.TTF' where  NUM = 'SIMSUN.TTC';
END IF ;
/**
*  2018.04.27  脚本 ··········
*/
/*参数表添加is_open_templateBan*/
SELECT COUNT(1) FROM TFW_PARAMETER WHERE CODE = 'is_open_templateBan' into @temp; 
IF @temp = 0 then
insert into TFW_PARAMETER (ID, CODE, NUM, NAME, PARA, TIPS, STATUS, VERSION) values ('989761895743356928', 'is_open_templateBan', '100', '模板审核', '2', '1:是（新增的模板默认待启用状态）  2:否', '1', '0');
END IF ;
/*字典表：模板状态*/
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'tplstatus' into @temp; 
IF @temp = 0 then 
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('989759596874694656','tplstatus','0',NULL,'模板状态','','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('989759725874708480','tplstatus','1','989759596874694656','启用','','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('989759797395980288','tplstatus','2','989759596874694656','待启用','','0','0');
END IF ;
/*模板表新增状态字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_INFO' AND column_name = 'STATUS' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_INFO  ADD COLUMN STATUS INT(2) DEFAULT 1 COMMENT '状态：1 已启用 2 待启用' ;
END IF ;
/*菜单：模板管理，启用*/
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'template_enable' into @temp; 
IF @temp = 0 then 
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('989746923218927616', 'template_enable', 'template', 'frozen', '启用', 'btn btn-xs btn-white | fa fa-check  bigger-120', '/tpl/info/enable', '4', '3', null, null, '800*520', '1', '0', null, '0', null, null);
END IF ;
/**
*   ··········2018.04.27  脚本
*/
/**
*   ··········2018.05.02  脚本	start
*/
/*操作日志表新增字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_OPERATION_LOG' AND column_name = 'NAME' into @temp;
IF @temp = 0 then 
ALTER TABLE TFW_OPERATION_LOG  ADD COLUMN NAME varchar(20) NULL ;
END IF ;
/*操作日志表新增字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_OPERATION_LOG' AND column_name = 'URL' into @temp;
IF @temp = 0 then 
ALTER TABLE TFW_OPERATION_LOG  ADD COLUMN URL varchar(40) NULL ;
END IF ;
/*操作日志表新增字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_OPERATION_LOG' AND column_name = 'USERNAME' into @temp;
IF @temp = 0 then 
ALTER TABLE TFW_OPERATION_LOG  ADD COLUMN USERNAME varchar(20) NULL ;
END IF ;
/*操作日志表新增字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_OPERATION_LOG' AND column_name = 'LOGTYPE' into @temp;
IF @temp = 0 then 
ALTER TABLE TFW_OPERATION_LOG  ADD COLUMN LOGTYPE varchar(20) NULL ;
END IF ;
/*操作日志表新增字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_OPERATION_LOG' AND column_name = 'MODULE' into @temp;
IF @temp = 0 then 
ALTER TABLE TFW_OPERATION_LOG  ADD COLUMN MODULE varchar(20) NULL ;
END IF ;
/*操作日志表新增字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_OPERATION_LOG' AND column_name = 'MODULENAME' into @temp;
IF @temp = 0 then 
ALTER TABLE TFW_OPERATION_LOG  ADD COLUMN MODULENAME varchar(40) NULL ;
END IF ;
/*操作日志表新增字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_OPERATION_LOG' AND column_name = 'LOGMEMO' into @temp;
IF @temp = 0 then 
ALTER TABLE TFW_OPERATION_LOG  ADD COLUMN LOGMEMO varchar(400) NULL ;
END IF ;
/*操作日志表新增字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_OPERATION_LOG' AND column_name = 'IPADDR' into @temp;
IF @temp = 0 then 
ALTER TABLE TFW_OPERATION_LOG  ADD COLUMN IPADDR varchar(40) NULL ;
END IF ;
/*机构新增编号字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_DEPT' AND column_name = 'CODE' into @temp;
IF @temp = 0 then 
ALTER TABLE TFW_DEPT  ADD COLUMN CODE varchar(100) NULL ;
UPDATE  TFW_DEPT SET CODE = ID WHERE CODE IS NULL;
END IF ;
/*2018.05.22  新增绑定用户证书*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'APP_INFO' AND column_name = 'SIGNERID' into @temp;
IF @temp = 0 then 
ALTER TABLE APP_INFO  ADD COLUMN SIGNERID bigint(24) default 0 ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_SIGNATURE' AND column_name = 'CNTID' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_SIGNATURE  ADD COLUMN CNTID bigint(24) default 0 ;
ALTER TABLE CNT_SIGNATURE ADD  INDEX INDEX_CNT_SIGNATURE_CNTID (CNTID);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_SIGNATURE' AND column_name = 'DOCID' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_SIGNATURE  ADD COLUMN DOCID bigint(24) default 0 ;
ALTER TABLE CNT_SIGNATURE ADD  INDEX INDEX_CNT_SIGNATURE_DOCID (DOCID);
END IF ;
SELECT COUNT(1) FROM TFW_MENU where CODE ='seal' and name='印章中心' into @temp; 
IF @temp > 0  then
update TFW_MENU set name = '签章中心' where  CODE ='seal';
END IF ;
SELECT COUNT(1) FROM TFW_MENU where CODE ='seal_manage' and name='印章管理' into @temp; 
IF @temp > 0  then
update TFW_MENU set name = '签章管理' where  CODE ='seal_manage';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'RECORDTYPE' into @temp;
IF @temp = 0  then
ALTER TABLE CNT_RECORD  ADD COLUMN RECORDTYPE int(4) DEFAULT 1 COMMENT '状态：1 签署记录 2 作废  16 回退   32跳过' ;
ALTER TABLE CNT_RECORD ADD  INDEX INDEX_CNT_RECORD_RECORDTYPE (RECORDTYPE);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_PARTY' AND column_name = 'PARTYID' into @temp;
IF @temp = 0  then
ALTER TABLE CNT_PARTY  ADD COLUMN PARTYID varchar(128) DEFAULT null ;
ALTER TABLE CNT_PARTY ADD  INDEX INDEX_CNT_PARTY_PARTYID (PARTYID);
END IF ;
/*更新数据字典证书类型默认值*/
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'certType' AND NUM = '4' into @temp;
IF @temp = 1 then 
UPDATE TFW_DICT SET SELECTED = '1' WHERE CODE = 'certType' AND NUM = '4';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_EXT_INFO' AND column_name = 'PROJECTID' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_EXT_INFO ADD COLUMN PROJECTID bigint(24) NULL COMMENT '项目ID' ;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'TFW_PROJECT' INTO @temp ;
IF @temp = 0 then
CREATE TABLE TFW_PROJECT (
ID bigint (20) NOT NULL,
CODE varchar (255),
NAME varchar (255),
STATUS int(4) DEFAULT '0',
CREATETIME datetime,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'TFW_DEPTPROJECT' INTO @temp ;
IF @temp = 0 then
CREATE TABLE TFW_DEPTPROJECT (
ID bigint (20) NOT NULL,
DEPTID bigint (20),
PROJECTID bigint (20),
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_kgFace_view' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1016482324029657088', 'stat_kgFace_view', 'stat_kgFace', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/stat/kgFace/view', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '3', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_sms' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1016552194196918272', 'stat_sms', 'stat', '', '短信统计', 'fa fa-comments', '/stat/sms/', '2', '2', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'KGFACE_RECORD' AND column_name = 'MSG' into @temp;
IF @temp = 0 then 
ALTER TABLE KGFACE_RECORD ADD  MSG varchar(500) NULL COMMENT '结果信息' ;
ALTER TABLE KGFACE_RECORD ADD  STATUS int(10) NULL  ;
ALTER TABLE KGFACE_RECORD ADD  REQPATH varchar(500) NULL  ;
ALTER TABLE KGFACE_RECORD ADD  RESPPATH varchar(500) NULL ;
ALTER TABLE KGFACE_RECORD ADD  ISUPLOAD int(1) NULL  ;
ALTER TABLE KGFACE_RECORD ADD  RESPCONTENTTYPE varchar(200) NULL ;
ALTER TABLE KGFACE_RECORD ADD  CONTENTTYPE varchar(200) NULL  ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'API_LOGSMS' into @temp;
IF @temp = 0 then 
CREATE TABLE API_LOGSMS (
ID bigint(24) NOT NULL ,
PHONENUM varchar(100) DEFAULT NULL,
VALIDATECODE varchar(1000) DEFAULT NULL,
TOKEN varchar(100) DEFAULT NULL,
CREATETIME datetime DEFAULT NULL,
STATUS varchar(10) DEFAULT NULL,
MSG varchar(500) DEFAULT NULL,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'REALSUBMITTYPE' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_RECORD  ADD COLUMN REALSUBMITTYPE  VARCHAR(20)  DEFAULT 'other'   COMMENT '签署方式: sms(短信验证)， face(人脸识别)，ukey(Ukey)，platform(平台证书)，other(其他)' AFTER RECORDTYPE;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'BINDPHONE' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_RECORD  ADD COLUMN BINDPHONE  VARCHAR(100)  DEFAULT '无'   COMMENT '绑定手机号' AFTER REALSUBMITTYPE;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'SMSCODE' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_RECORD  ADD COLUMN SMSCODE  VARCHAR(20)  DEFAULT '无'   COMMENT '短信验证码' AFTER BINDPHONE;
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'realsubmittype' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1017211516505554944','realsubmittype','-1',NULL,'签署方式【凭证下载】','签署方式【凭证下载】',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1017211677763960832','realsubmittype','sms','1017211516505554944','短信验证','短信验证',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1017211743014748160','realsubmittype','face','1017211516505554944','人脸识别','人脸识别',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1017211825290215424','realsubmittype','ukey','1017211516505554944','Ukey证书','Ukey证书',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1021304601124536320','realsubmittype','platform','1017211516505554944','平台证书','平台证书',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1017211894781444096','realsubmittype','other','1017211516505554944','其他','其他',0,0);
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'SIGNER_DEMO_MODEL' INTO @temp ;
IF @temp = 0 then
CREATE TABLE SIGNER_DEMO_MODEL (
ID bigint(20) NOT NULL,
EVENTID varchar(64) DEFAULT NULL COMMENT '事件id',
SIGNERID varchar(64) DEFAULT NULL COMMENT '签署人id',
PHONE varchar(64) DEFAULT NULL COMMENT '签署人电话',
IDCODE varchar(64) DEFAULT NULL COMMENT '签署人身份证号',
SIGNERNAME varchar(64) DEFAULT NULL COMMENT '签署人姓名',
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'contractStatus' and NUM = '1024' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1019503812034973696', 'contractStatus', '1024', '870442077001875456', '草稿', '草稿', '0', '0');
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'TPL_DOC_ANALYSIS' INTO @temp ;
IF @temp = 0 then
CREATE TABLE TPL_DOC_ANALYSIS (
ID bigint(24) NOT NULL,
TPLDOCID bigint(24) DEFAULT NULL,
DOCKEY varchar(255) DEFAULT NULL,
POS text,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CNT_DOC_ANALYSIS' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CNT_DOC_ANALYSIS (
ID bigint(24) NOT NULL,
TPLDOCID bigint(24) DEFAULT NULL,
DOCKEY varchar(255) DEFAULT NULL,
POS text,
DOCID bigint(24) DEFAULT NULL,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CNT_DOC_EXT' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CNT_DOC_EXT (
ID bigint(24) NOT NULL COMMENT '文档ID',
METADATA mediumtext COMMENT '发起合同的metadata信息',
NEWMETADATA mediumtext COMMENT '确认页面填写的metadata信息',
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
/*菜单：模板管理，禁用*/
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'template_ban' into @temp; 
IF @temp = 0 then 
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1019027949640220672', 'template_ban', 'template', 'frozen', '禁用', 'btn btn-xs btn-white | fa fa-ban  bigger-120', '/tpl/info/ban', '5', '3', null, null, '800*520', '1', '0', null, '0', null, null);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SIGNER' AND column_name = 'ALIAS' into @temp;
IF @temp = 0 then 
ALTER TABLE CRM_SIGNER  ADD COLUMN ALIAS varchar(255)  ;
END IF ;
/*印章表增加显示高度字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SEAL' AND column_name = 'SHOWHEIGHT' into @temp;
IF @temp = 0 then 
ALTER TABLE CRM_SEAL ADD COLUMN SHOWHEIGHT decimal(5,2) DEFAULT NULL   COMMENT '显示高度' ;
END IF ;
/*印章表增加显示宽度字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SEAL' AND column_name = 'SHOWWIDTH' into @temp;
IF @temp = 0 then 
ALTER TABLE CRM_SEAL ADD COLUMN SHOWWIDTH decimal(5,2) DEFAULT NULL   COMMENT '显示宽度' ;
END IF ;
UPDATE CRM_SEAL t SET t.SHOWHEIGHT = CONCAT(t.HEIGHT * t.GEOMETRIC * 2.54 / 96) WHERE t.SHOWHEIGHT IS NULL;
UPDATE CRM_SEAL t SET t.SHOWWIDTH = CONCAT(t.WIDTH * t.GEOMETRIC * 2.54 / 96) WHERE t.SHOWWIDTH IS NULL;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_DOC' AND column_name = 'ANALYSIS' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_DOC ADD COLUMN ANALYSIS  int(8) DEFAULT '-1'   COMMENT '模板解析' ;
END IF ;
/*应用表中增加应用权限字典*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'APP_INFO' AND column_name = 'APPCONFIG' into @temp;
IF @temp = 0 then 
ALTER TABLE APP_INFO  ADD COLUMN APPCONFIG text   COMMENT '应用权限设置';
END IF ;
/*日志新增响应结果字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_INVOKE_API_LOG' AND column_name = 'RESPRESULT' INTO @temp;
IF @temp = 0 THEN 
ALTER TABLE TFW_INVOKE_API_LOG  ADD COLUMN RESPRESULT LONGTEXT   COMMENT '响应结果';
END IF ;
SELECT COUNT(1) FROM TFW_PARAMETER WHERE ID = '891932441806110720' into @temp; 
IF @temp = 1 then 
UPDATE TFW_PARAMETER SET CODE = 'cloud_evidence' WHERE ID ='891932441806110720';
END IF ;
/*参数表添加"默认允许下载合同"*/
SELECT COUNT(1) FROM TFW_PARAMETER WHERE CODE = 'contract_page_candown' into @temp;
IF @temp = 0 then
insert into TFW_PARAMETER (ID, CODE, NUM, NAME, PARA, TIPS, STATUS, VERSION) values('1044491816230998016','contract_page_candown',NULL,'默认允许下载合同','1','1  是    0   否','1','2');
END IF ;
SELECT COUNT(1) FROM TFW_PARAMETER WHERE CODE = 'cloud_tosignapi_url' into @temp;
IF @temp = 0 then
insert into TFW_PARAMETER (ID, CODE, NUM, NAME, PARA, TIPS, STATUS, VERSION) values(1044491816230998017,'cloud_tosignapi_url',NULL,'信签云接口地址','https://service.tosign.cn/tosign','','1','2');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_INFO' AND column_name = 'NAME' into @temp;
IF @temp = 1 then 
alter table CNT_INFO  modify column NAME varchar(512);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_SIGNER_MSG' AND column_name = 'SHORTCODE' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_SIGNER_MSG  ADD COLUMN SHORTCODE varchar(8) COMMENT '短信签署标识';
ALTER TABLE CNT_SIGNER_MSG ADD  INDEX CNT_SIGNER_MSG_SHORTCDOE (SHORTCODE);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_SIGNER_MSG' AND column_name = 'PARAMS' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_SIGNER_MSG  ADD COLUMN PARAMS text COMMENT '短信签署参数';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_INFO' AND column_name = 'ERRCODE' INTO @temp;
IF @temp = 0 THEN 
ALTER TABLE CNT_INFO  ADD COLUMN ERRCODE int(10) DEFAULT 1 COMMENT '签署失败编码' ;
END IF ;  	
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_ATTACH' AND column_name = 'DOCID' INTO @temp;
IF @temp = 0 THEN 
ALTER TABLE TFW_ATTACH  ADD COLUMN DOCID bigint(20) DEFAULT null COMMENT '附件对应和的合同文档id' ;
END IF ;  	
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_SIGNATURE' AND column_name = 'WIDTH' INTO @temp;
IF @temp = 0 THEN 
ALTER TABLE CNT_SIGNATURE  ADD COLUMN WIDTH double DEFAULT null COMMENT '签章实际盖章为宽度' ;
END IF ;  	
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_SIGNATURE' AND column_name = 'HEIGHT' INTO @temp;
IF @temp = 0 THEN 
ALTER TABLE CNT_SIGNATURE  ADD COLUMN HEIGHT double DEFAULT null COMMENT '签章实际盖章为高度' ;
END IF ;  	
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'REAL_FACE_RECORD' INTO @temp ;
IF @temp = 0 then
CREATE TABLE REAL_FACE_RECORD (
ID bigint(24) NOT NULL,
BIZID varchar(100) DEFAULT NULL COMMENT '业务编号',
NAME varchar(100) DEFAULT NULL COMMENT '姓名',
IDCODE varchar(100) DEFAULT NULL COMMENT '身份证号',
URL varchar(500) COMMENT '回调地址',
APPID varchar(100) COMMENT '应用编码',
PARAMS text COMMENT '验证参数',
STATUS varchar(10) DEFAULT NULL COMMENT '是否成功',
CREATETIME datetime DEFAULT NULL COMMENT '时间',
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
ALTER TABLE REAL_FACE_RECORD ADD UNIQUE INDEX REAL_FACE_RECORD_ID_UNIQUE (ID ASC) ;
ALTER TABLE REAL_FACE_RECORD ADD UNIQUE INDEX REAL_FACE_RECORD_BIZID (BIZID);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'BIZREMARK' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_RECORD  ADD COLUMN BIZREMARK  VARCHAR(512)  DEFAULT NULL   COMMENT '业务系统备注' ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_DOCMETA' AND column_name = 'METADATA' into @temp;
IF @temp = 1 then 
alter table TPL_DOCMETA  modify column METADATA mediumtext default null;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_SIGNATURE' AND column_name = 'NAME' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_SIGNATURE  ADD COLUMN NAME VARCHAR(300) default null ;
END IF ;
SELECT COUNT(1) FROM information_schema.STATISTICS WHERE table_schema = @dataBaseName and table_name = 'TPL_DOCMETA' and index_name='INDEX_TPL_DOCMETA_METATYPE' INTO @temp ;
IF @temp = 0 then
ALTER TABLE TPL_DOCMETA ADD  INDEX INDEX_TPL_DOCMETA_METATYPE (METATYPE);
END IF ;
SELECT COUNT(1) FROM information_schema.STATISTICS WHERE table_schema = @dataBaseName and table_name = 'TPL_DOCMETA' and index_name='DOCID' INTO @temp ;
IF @temp = 0 then
ALTER TABLE TPL_DOCMETA ADD  INDEX INDEX_TPL_DOCMETA_DOCID (DOCID);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'APP_INFO' AND column_name = 'JSURLS' into @temp;
IF @temp = 0 then 
ALTER TABLE APP_INFO  ADD COLUMN JSURLS VARCHAR(500) default null ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'APP_INFO' AND column_name = 'CSSURLS' into @temp;
IF @temp = 0 then 
ALTER TABLE APP_INFO  ADD COLUMN CSSURLS VARCHAR(500) default null ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.STATISTICS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'LOG_SEAL_USE' AND column_name = 'APPID' into @temp;
IF @temp = 0 then 
ALTER TABLE LOG_SEAL_USE ADD  INDEX LOGSU_APPID_I (APPID);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.STATISTICS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'LOG_SEAL_USE' AND column_name = 'SIGNERID' into @temp;
IF @temp = 0 then 
ALTER TABLE LOG_SEAL_USE ADD  INDEX LOGSU_SIGNERID_I (SIGNERID);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.STATISTICS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'LOG_SEAL_USE' AND column_name = 'SEALID' into @temp;
IF @temp = 0 then 
ALTER TABLE LOG_SEAL_USE ADD  INDEX LOGSU_SEALID_I (SEALID);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.STATISTICS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'LOG_SEAL_USE' AND column_name = 'BIZID' into @temp;
IF @temp = 0 then 
ALTER TABLE LOG_SEAL_USE ADD  INDEX LOGSU_BIZID_I (BIZID);
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'contractStatus' and NUM = '6' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1069425979228704768', 'contractStatus', '6', '870442077001875456', '保存签章', '保存签章', '0', '0');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'KGFACE_RECORD' AND column_name = 'HEADERS' into @temp;
IF @temp = 0 then 
ALTER TABLE KGFACE_RECORD ADD  HEADERS text NULL ;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'APP_PARAM' INTO @temp ;
IF @temp = 0 then
CREATE TABLE APP_PARAM (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL,
APPTYPE varchar(255) DEFAULT NULL,
APPKEY varchar(255) DEFAULT NULL,
APPVAL varchar(1024) DEFAULT NULL,
PRIMARY KEY (ID),
KEY INX_APPTYPE (APPTYPE) ,
KEY INX_APPID (APPID) ,
KEY INX_APPKEY (APPKEY) 
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'appInfo_param' into @temp; 
IF @temp = 0 then 
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1072294938823118848', 'appInfo_param', 'appInfo', 'edit', '参数设置', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/app/param', '4', '3', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'signer_export' into @temp; 
IF @temp = 0 then 
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1072686566154981376','signer_export','signer','export','导出','btn btn-xs btn-white | fa fa-floppy-o bigger-120','/crm/signer/export','9','3',NULL,NULL,'800*520','1','0',NULL,'0','','');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'seal_export' into @temp; 
IF @temp = 0 then 
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1074469339404455936','seal_export','seal_manage','export','导出','btn btn-xs btn-white | fa fa-floppy-o bigger-120','/crm/seal/export','6','3',NULL,NULL,'800*520','1','0',NULL,'0','','');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'cert_export' into @temp; 
IF @temp = 0 then 
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1074485795873640448','cert_export','cert_manage','export','导出','btn btn-xs btn-white | fa fa-floppy-o bigger-120','/crm/cert/export','5','3',NULL,NULL,'800*520','1','0',NULL,'0','','');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_DOC' AND column_name = 'PAGE' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_DOC ADD COLUMN PAGE  int(4) DEFAULT '1'   COMMENT '页码' ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_CERT' AND column_name = 'CREATETIME' INTO @temp;
IF @temp = 0 THEN 
ALTER TABLE CRM_CERT ADD COLUMN CREATETIME DATETIME DEFAULT NULL  COMMENT '证书创建时间' ;
UPDATE CRM_CERT SET CREATETIME=STARTTIME;
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'vstpl' into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('22000', 'vstpl', 'cont', '', '模板管理', 'fa fa-file', '/vstpl', '4', '2', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'vstpl_add' into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('22004', 'vstpl_add', 'vstpl', 'add', '新增模板', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/vstpl/add', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'vstpl_remove' into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('22007', 'vstpl_remove', 'vstpl', 'remove', '模板删除', 'btn btn-xs btn-white | fa fa-times  bigger-120', '/vstpl/remove', '5', '3', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'vstpl_enable' into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('22008', 'vstpl_enable', 'vstpl', 'frozen', '启用', 'btn btn-xs btn-white | fa fa-check  bigger-120', '/vstpl/enable', '3', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'vstpl_ban' into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('22009', 'vstpl_ban', 'vstpl', 'frozen', '禁用', 'btn btn-xs btn-white | fa fa-ban  bigger-120', '/vstpl/ban', '4', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'vstpl_edit' into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('12000', 'vstpl_edit', 'vstpl', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/vstpl/edit', '2', '3', NULL, NULL, '800*520', '1', '0', NULL, '3', '', '');
END IF ;
UPDATE TFW_RELATION set MENUID = 22000 where MENUID = 20000;
UPDATE TFW_RELATION set MENUID = 22004 where MENUID = 20004;
UPDATE TFW_RELATION set MENUID = 22007 where MENUID = 20007;
UPDATE TFW_RELATION set MENUID = 12000 where MENUID = 10000;
UPDATE TFW_RELATION set MENUID = 22008 where MENUID = 989746923218927616;
UPDATE TFW_RELATION set MENUID = 22009 where MENUID = 1019027949640220672;
SELECT COUNT(1) FROM TFW_RELATION WHERE MENUID = 22008 and ROLEID = 1 into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES (220081 , 22008 , 1);
END IF ;
SELECT COUNT(1) FROM TFW_RELATION WHERE MENUID = 22008 and ROLEID = 2 into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES (220082 , 22008 , 2);
END IF ;
SELECT COUNT(1) FROM TFW_RELATION WHERE MENUID = 22009 and ROLEID = 1 into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES (220092 , 22009 , 1);
END IF ;
SELECT COUNT(1) FROM TFW_RELATION WHERE MENUID = 22009 and ROLEID = 2 into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES (220093 , 22009 , 2);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_DOC_EXT' AND column_name = 'TABLEINFO' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_DOC_EXT  ADD COLUMN TABLEINFO mediumtext   COMMENT '应用权限设置';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_DOC_EXT' AND column_name = 'TABLEMETADATA' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_DOC_EXT  ADD COLUMN TABLEMETADATA mediumtext   COMMENT '应用权限设置';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_DOC_ANALYSIS' AND column_name = 'KEYTYPE' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_DOC_ANALYSIS ADD COLUMN KEYTYPE  int(4) DEFAULT '1' ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_DOC_ANALYSIS' AND column_name = 'TABLENAME' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_DOC_ANALYSIS  ADD COLUMN TABLENAME varchar(200) NULL ;
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_cert' into @temp; 
IF @temp = 0 then	
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1074917893096886272','stat_cert','stat','','证书统计','fa fa-book','/stat/cert/','3','2',NULL,NULL,'800*520','1','0',NULL,'1','','');
END IF ;
SELECT COUNT(1) FROM TFW_PARAMETER WHERE CODE = 'cloud_cert_url' into @temp; 
IF @temp = 0 then	
insert into TFW_PARAMETER (ID, CODE, NUM, NAME, PARA, TIPS, STATUS, VERSION) values('1077444527037370369','cloud_cert_url',NULL,'证书服务地址','https://service.tosign.cn/iCAService','','1','0');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_INFO' AND column_name = 'TPLTYPE' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_INFO ADD COLUMN TPLTYPE  int(1) DEFAULT '1' ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_SIGNER_MSG' AND column_name = 'VALIDITY' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_SIGNER_MSG ADD COLUMN VALIDITY  INT(10) DEFAULT 0 ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_INFO' AND column_name = 'TPLTYPE' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_INFO ADD COLUMN TPLTYPE  INT(2) DEFAULT 1 ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_DOC' AND column_name = 'SOURCETYPE' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_DOC ADD COLUMN SOURCETYPE  INT(2) DEFAULT 1 ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_DOC' AND column_name = 'PARENTDOCIDS' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_DOC ADD COLUMN PARENTDOCIDS  varchar(512) DEFAULT NULL ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_DOC' AND column_name = 'UPLOADED' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_DOC ADD COLUMN UPLOADED  INT(2) DEFAULT 0 ;
UPDATE TPL_DOC SET UPLOADED = 1  WHERE LENGTH(FILENAME)>0;
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE ID = '23001' into @temp;
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('23007', 'gtpl_remove', 'gtpl', 'remove', '删除', 'btn btn-xs btn-white | fa fa-times  bigger-120', '/gtpl/remove', '5', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('23008', 'gtpl_enable', 'gtpl', 'frozen', '启用', 'btn btn-xs btn-white | fa fa-check  bigger-120', '/gtpl/enable', '3', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('23010', 'gtpl_edit', 'gtpl', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/gtpl/edit', '2', '3', NULL, NULL, '800*520', '1', '0', NULL, '3', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('23009', 'gtpl_ban', 'gtpl', 'frozen', '禁用', 'btn btn-xs btn-white | fa fa-ban  bigger-120', '/gtpl/ban', '4', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('23004', 'gtpl_add', 'gtpl', 'add', '新增模板', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/gtpl/add', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('23001', 'gtpl', 'cont', '', '模板组合管理', 'fa fa-file', '/gtpl/info', '2', '2', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_SIGNATURE' AND column_name = 'QFZEND' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_SIGNATURE  ADD COLUMN QFZEND int(4) default NULL ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SEAL' AND column_name = 'DEPTID' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_SEAL  ADD COLUMN DEPTID bigint(20) NULL   COMMENT '部门ID' ;
END IF ;
SELECT COUNT(1) FROM CRM_SEAL WHERE DEPTID IS NULL into @temp;
IF @temp > 0 then
UPDATE CRM_SEAL a INNER JOIN CRM_SIGNER b SET a.DEPTID = b.DEPTID WHERE a.SIGNERID =  b.ID;
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'contractStatus' and NUM = '7' into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('870444190100619214', 'contractStatus', '7', '870442077001875456', '拒绝', '', '2', '0');
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CNT_RECORD_FACE' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CNT_RECORD_FACE (
ID bigint(24) NOT NULL,
FACEID varchar(64) DEFAULT NULL,
CNTID bigint(24) DEFAULT NULL,
CONTRACTID varchar(255) DEFAULT NULL,
RECORDID bigint(24) DEFAULT NULL,
RESULTDATA mediumtext,
TYPE int(4) DEFAULT NULL,
DOWNLOAD int(4) DEFAULT NULL,
CREATETIME datetime DEFAULT NULL,
UPDATETIME datetime DEFAULT NULL,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'realsubmittype' and NUM = 'realFaceCheck' into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1083278620866138112', 'realsubmittype', 'realFaceCheck', '1017211516505554944', '刷脸签署', '刷脸签署', '2', '0');
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'metatype' and NUM = '5' into @temp; 
IF @temp = 0 then	
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1099929289870036992','metatype','5','885680241836556288','光学防伪','','0','0');
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'metatype' and NUM = '4' into @temp; 
IF @temp = 0 then	
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1099929235176312832','metatype','4','885680241836556288','密度水印','','0','0');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'KGFACE_RECORD' AND column_name = 'CKNAME' into @temp;
IF @temp = 0 then
ALTER TABLE KGFACE_RECORD ADD COLUMN CKNAME  varchar(255) DEFAULT NULL  COMMENT '检测人姓名';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SEAL' AND column_name = 'LICENSENO' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_SEAL ADD COLUMN LICENSENO  varchar(100) DEFAULT NULL  COMMENT '企业圆章下玄月文字';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'REALCERTTYPE' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_RECORD  ADD COLUMN REALCERTTYPE  VARCHAR(20)  DEFAULT 'other' ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'SYNC' into @temp;
IF @temp = 0  then
ALTER TABLE CNT_RECORD  ADD COLUMN SYNC int(4) DEFAULT 0 COMMENT '同步' ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'APPID' into @temp;
IF @temp = 0  then
ALTER TABLE CNT_RECORD  ADD COLUMN APPID bigint(24) DEFAULT null  ;
UPDATE CNT_RECORD a INNER JOIN CNT_INFO b SET a.APPID = b.APPID WHERE a.APPID is null and a.CNTID =  b.ID;
END IF ;
SELECT COUNT(1) FROM TFW_PARAMETER WHERE CODE in ('cloud_cert_person_url','cloud_cert_enterprise_url','cloud_constact_sync_url','cloud_register_url','cloud_tsa_url','cloud_evidence_query_url','cloud_evidence_url','cloud_checkRealName_url','cloud_sms_url','tosign_kgface_url','cloud_checkRealNameById_url','cloud_csr_cert_url','cloud_enterpriseRealCheck_url','cloud_enterpriseCheckApply_url','cloud_enterpriseCheck_url','cloud_enterpriseInfo_url','cloud_sms_content_url') into @temp;
IF @temp >0 then
delete from TFW_PARAMETER where CODE in('cloud_cert_person_url','cloud_cert_enterprise_url','cloud_constact_sync_url','cloud_register_url','cloud_tsa_url','cloud_evidence_query_url','cloud_evidence_url','cloud_checkRealName_url','cloud_sms_url','tosign_kgface_url','cloud_checkRealNameById_url','cloud_csr_cert_url','cloud_enterpriseRealCheck_url','cloud_enterpriseCheckApply_url','cloud_enterpriseCheck_url','cloud_enterpriseInfo_url','cloud_sms_content_url'); 
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'TPL_TYPE' INTO @temp ;
IF @temp = 0 then
CREATE TABLE TPL_TYPE (
ID bigint(20) NOT NULL COMMENT 'ID',
CODE varchar(100) DEFAULT NULL COMMENT '机构编号',
NAME varchar(300) DEFAULT NULL COMMENT '简称',
PID bigint(20) DEFAULT NULL COMMENT '父机构ID',
APPID bigint(24) NOT NULL COMMENT '所属业务系统',
TIPS varchar(255) DEFAULT NULL COMMENT '备注',
FAKEID varchar(80) DEFAULT NULL COMMENT '伪编码',
SEQ int(11) DEFAULT NULL COMMENT '同级序号',
STATUS int(1) DEFAULT '1' COMMENT '是否启用/禁用',
PRIMARY KEY (ID),
KEY FAKEID (FAKEID),
KEY PID (PID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'TPL_VARIABLE_GROUP' INTO @temp ;
IF @temp = 0 then
CREATE TABLE TPL_VARIABLE_GROUP (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '接入方ID',
CODE varchar(200) DEFAULT NULL COMMENT '业务数集编号',
NAME varchar(200) DEFAULT NULL COMMENT '业务数集名称',
STATUS int(4) DEFAULT NULL ,
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
UPDATETIME datetime DEFAULT NULL COMMENT '更新时间',
PRIMARY KEY (ID),
KEY APPID (APPID),
KEY CODE (CODE)
)  ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'TFW_TSBLOB' INTO @temp ;
IF @temp = 0 then
CREATE TABLE TFW_TSBLOB (
ID bigint(24) NOT NULL,
BID varchar(64) NOT NULL,
NAME varchar(125) DEFAULT NULL,
CONTENT mediumtext,
PRIMARY KEY (ID),
KEY KEY_TFW_TSBLOB_BID (BID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'TPL_VARIABLE' INTO @temp ;
IF @temp = 0 then
CREATE TABLE TPL_VARIABLE (
ID bigint(24) NOT NULL,
VARCODE varchar(200) DEFAULT NULL COMMENT '英文名',
GROUPID bigint(24) DEFAULT NULL COMMENT '数集ID',
VARNAME varchar(200) DEFAULT NULL COMMENT '中文名',
VARTYPE INT(4) DEFAULT NULL COMMENT '字段名称',
STATUS INT(4) DEFAULT NULL COMMENT '状态',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
UPDATETIME datetime DEFAULT NULL COMMENT '更新时间',
PRIMARY KEY (ID),
KEY VARCODE (VARCODE),
KEY VARNAME (VARNAME)
)  ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'APP_VERIFYIP' INTO @temp ;
IF @temp = 0 then
CREATE TABLE APP_VERIFYIP (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
SERVERIP varchar(200) DEFAULT NULL COMMENT '请求服务器IP',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
PRIMARY KEY (ID),
KEY SERVERIP (SERVERIP),
KEY APPID (APPID)
)  ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_INFO' AND column_name = 'APPID' into @temp;
IF @temp = 0  then
ALTER TABLE TPL_INFO  ADD COLUMN APPID bigint(24) DEFAULT null  ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_INFO' AND column_name = 'TYPEID' into @temp;
IF @temp = 0  then
ALTER TABLE TPL_INFO  ADD COLUMN TYPEID bigint(24) DEFAULT null  ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_INFO' AND column_name = 'VER' into @temp;
IF @temp = 0  then
ALTER TABLE TPL_INFO  ADD COLUMN VER varchar(50) DEFAULT null  ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_TYPE' AND column_name = 'DELETED' into @temp;
IF @temp = 0  then
ALTER TABLE TPL_TYPE ADD COLUMN DELETED int(5) DEFAULT '0' COMMENT '是否删除'  ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_DEPT' AND column_name = 'PCODE' into @temp;
IF @temp = 0  then
ALTER TABLE TFW_DEPT ADD COLUMN PCODE varchar(100) DEFAULT NULL COMMENT '父级机构编码'  ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_DOC_ANALYSIS' AND column_name = 'DOCTEXT' into @temp;
IF @temp = 0  then
ALTER TABLE CNT_DOC_ANALYSIS ADD COLUMN DOCTEXT varchar(200) DEFAULT null COMMENT '显示名称'  ;
END IF ;
SELECT COUNT(1) FROM SYS_META WHERE CODE = 'client_inited' into @temp; 
IF @temp = 0 then	
INSERT INTO SYS_META(ID, CODE, NUM, NAME, PARA, TIPS, STATUS) VALUES ('1108697697210093568', 'client_inited', '100', NULL, 'false', 'client_inited', '1');
END IF ;
SELECT COUNT(1) FROM SYS_META WHERE CODE = 'client_key' into @temp; 
IF @temp = 0 then	
INSERT INTO SYS_META(ID, CODE, NUM, NAME, PARA, TIPS, STATUS) VALUES ('1108697697025544192', 'client_key', '100', null, '7X18JDaya3q1zugU', 'client_key', '1');
END IF ;
SELECT COUNT(1) FROM SYS_META WHERE CODE = 'client_id' into @temp; 
IF @temp = 0 then	
INSERT INTO SYS_META(ID, CODE, NUM, NAME, PARA, TIPS, STATUS) VALUES ('1108697697122013184', 'client_id', '100', null, 'private_client_id', 'client_id', '1');
END IF ;
SELECT COUNT(1) FROM SYS_META WHERE CODE = 'client_security_key' into @temp; 
IF @temp = 0 then	
INSERT INTO SYS_META(ID, CODE, NUM, NAME, PARA, TIPS, STATUS) VALUES ('1108697697163956224', 'client_security_key', '100', null, '7X18JDaya3q1zugU', 'client_security_key', '1');
END IF ;
SELECT COUNT(1) FROM SYS_META WHERE CODE = 'interface_auth_type' into @temp; 
IF @temp = 0 then	
INSERT INTO SYS_META(ID, CODE, NUM, NAME, PARA, TIPS, STATUS) VALUES ('1108697697122013185', 'interface_auth_type', '100', null, '1', 'interface_auth_type', '1');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_INFO' AND column_name = 'TPLTYPE' into @temp;
IF @temp = 1  then
ALTER TABLE TPL_INFO MODIFY COLUMN TPLTYPE  int(4) NULL DEFAULT 1 ;
END IF ;
SELECT COUNT(1) FROM TFW_PARAMETER WHERE CODE = 'contract_page_candown' into @temp;
IF @temp = 0 then
INSERT INTO TFW_PARAMETER (ID, CODE, NUM, NAME, PARA, TIPS, STATUS, VERSION) VALUES ('1044491816230998016', 'contract_page_candown', NULL, '默认允许下载合同', '0', '1  是    0   否', '1', '3');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_USER' AND column_name = 'KEYSN' into @temp;
IF @temp = 0 then
ALTER TABLE TFW_USER ADD COLUMN KEYSN varchar(255) NULL;
END IF ;
/*模板表新增状态字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_INFO' AND column_name = 'REQUESTID' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_INFO  ADD COLUMN REQUESTID varchar(50) DEFAULT null COMMENT '工作流实例号';
END IF ;
-- 新增字段区分内部用户/外部用户
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SIGNER' AND column_name = 'GENRE' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_SIGNER  ADD COLUMN GENRE int(4) DEFAULT 1 COMMENT '内部用户:1  外部用户:2' ;
END IF ;
-- 企业联系人名称
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SIGNER' AND column_name = 'CONTACT' into @temp;
IF @temp = 0 then 
ALTER TABLE CRM_SIGNER  ADD COLUMN CONTACT varchar(128) DEFAULT null COMMENT '企业联系人名称';
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'tplstatus' and num=5 into @temp;
IF @temp = 0 then
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1126311589176168448','tplstatus','5','989759596874694656','禁用','','0','0');
END IF ;
-- 新增 中心图案 字典管理 (五角星，党徽)
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'centerImg' into @temp; 
IF @temp = 0 then	
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1131119943383797760','centerImg','2','1131119675640401920','党徽','','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1131119763645288448','centerImg','1','1131119675640401920','五角星','','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1131119675640401920','centerImg','0',NULL,'印章中心图案','','0','0');
END IF ;
-- 签章样式字典管理 新增 (椭圆章)
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'sealForm' AND NUM = '3' into @temp; 
IF @temp = 0 then	
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1131107860860653568','sealForm','3','961783609591595008','椭圆章','','0','0');
END IF ;
-- 签章样式字典管理 新增 (菱形章)
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'sealForm' AND NUM = '4' into @temp; 
IF @temp = 0 then	
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1131396497338814464','sealForm','4','961783609591595008','菱形章','','0','0');
END IF ;
-- 接入方管理增加按钮
SELECT (1) FROM TFW_MENU WHERE CODE = 'appInfo_ipgl' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1133670103808757760', 'appInfo_ipgl', 'appInfo', 'edit', 'IP管理', 'btn btn-xs btn-white | fa fa-wrench  bigger-120', '/app/ipgl', '7', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM CRM_SIGNER WHERE CERTID IS NULL into @temp; 
IF @temp > 0 then	
UPDATE CRM_SIGNER SET CERTID = 0 where CERTID is null;
END IF ;
-- 新增SM2证书方式
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'sm2CertType' into @temp; 
IF @temp = 0 then	
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1125283382113095680','sm2CertType','0',NULL,'SM2证书方式','0','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1125283488988155904','sm2CertType','11','1125283382113095680','SM2BC','SM2BC','2','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1125283488988155905','sm2CertType','100','1125283382113095680','加密机','加密机','2','0');
END IF ;
-- SM2证书管理
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'sm2cert_manage' into @temp; 
IF @temp = 0 then
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1125271907336212480','sm2cert_manage','cert','','SM2证书管理','fa fa-book','/crm/sm2cert','7','2',NULL,NULL,'800*520','1','0',NULL,'0','','');
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1125273557375406080','sm2cert_create','sm2cert_manage','add','创建','btn btn-xs btn-white | fa fa-floppy-o bigger-120','/crm/sm2cert/create','1','3',NULL,NULL,'800*520','1','0',NULL,'0','','');
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1125273742222577664','sm2cert_view','sm2cert_manage','view','查看','btn btn-xs btn-white | fa fa-eye bigger-120','/crm/sm2cert/view','2','3',NULL,NULL,'800*520','1','0',NULL,'1','','');
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1125274567070208000','sm2cert_revoke','sm2cert_manage','frozen','吊销','btn btn-xs btn-white | fa fa-ban  bigger-120','/crm/sm2cert/revoke','3','3',NULL,NULL,'800*520','1','0',NULL,'1','','');
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1125275013788749824','sm2cert_download','sm2cert_manage','downLoad','下载','btn btn-xs btn-white | fa fa-floppy-o bigger-120','/crm/sm2cert/cerdown','4','3',NULL,NULL,'800*520','1','0',NULL,'0','','');
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1125275292458307584','sm2cert_export','sm2cert_manage','export','导出','btn btn-xs btn-white | fa fa-floppy-o bigger-120','/crm/sm2cert/export','5','3',NULL,NULL,'800*520','1','0',NULL,'0','','');
END IF ;
-- 接入方管理增加合同设置按钮
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'appInfo_htymsz' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1135827084837408768', 'appInfo_htymsz', 'appInfo', 'edit', '合同页面设置', 'btn btn-xs btn-white | fa fa-wrench  bigger-120', '/app/htymsz', '8', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'APP_INFO' AND column_name = 'VERIFYIP' into @temp;
IF @temp = 0 then 
ALTER TABLE APP_INFO  ADD COLUMN VERIFYIP int(2) DEFAULT null COMMENT 'IP是否限制';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'KGFACE_RECORD' AND column_name = 'APPID' into @temp;
IF @temp = 0 then 
ALTER TABLE KGFACE_RECORD  ADD COLUMN APPID bigint(24) DEFAULT null COMMENT '应用id';
END IF ;
-- 签署用户表新增 模板名称字段
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SIGNER' AND column_name = 'CERTTPL' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_SIGNER ADD COLUMN CERTTPL VARCHAR(255) NULL  COMMENT '证书模板名称' ;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_TSA' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_TSA (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
APPCODE varchar(100) DEFAULT NULL COMMENT '应用编号',
APPNAME varchar(100) DEFAULT NULL COMMENT '应用名称',
CNTID bigint(24) DEFAULT NULL COMMENT '合同ID',
CONTRACTID varchar(100) DEFAULT NULL COMMENT '合同编号',
CONTRACTNAME varchar(100) DEFAULT NULL COMMENT '合同名称',
SIGNERID bigint(24) DEFAULT NULL COMMENT '签署人ID',
SIGNERCODE varchar(100) DEFAULT NULL COMMENT '签署人编码',
SIGNERNAME varchar(100) DEFAULT NULL COMMENT '签署人姓名',
INVOKEURL varchar(100) DEFAULT NULL COMMENT '请求接口',
DEPTID bigint(24) DEFAULT NULL COMMENT '部门ID',
STATUS int(10) DEFAULT NULL COMMENT '状态',
MSG varchar(200) DEFAULT NULL COMMENT '返回信息',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
PRIMARY KEY (ID)
)  ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_PERSON_AUTH' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_PERSON_AUTH (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
APPCODE varchar(100) DEFAULT NULL COMMENT '应用编号',
APPNAME varchar(100) DEFAULT NULL COMMENT '应用名称',
INVOKEURL varchar(100) DEFAULT NULL COMMENT '请求接口',
DEPTID bigint(24) DEFAULT NULL COMMENT '部门ID',
STATUS int(10) DEFAULT NULL COMMENT '状态',
MSG varchar(200) DEFAULT NULL COMMENT '返回信息',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
AUTHTYPE int(4) DEFAULT NULL COMMENT '认证类型',
USERNAME varchar(100) DEFAULT NULL COMMENT '用户名称',
IDTYPE varchar(4) DEFAULT NULL COMMENT '证件类型',
IDCODE  varchar(100) DEFAULT NULL COMMENT '证件编号',
PHONE varchar(100) DEFAULT NULL COMMENT '手机号',
BANKCARD varchar(100) DEFAULT NULL COMMENT '银行卡号',
PRIMARY KEY (ID)
)  ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_COM_AUTH' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_COM_AUTH (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
APPCODE varchar(100) DEFAULT NULL COMMENT '应用编号',
APPNAME varchar(100) DEFAULT NULL COMMENT '应用名称',
INVOKEURL varchar(100) DEFAULT NULL COMMENT '请求接口',
DEPTID bigint(24) DEFAULT NULL COMMENT '部门ID',
STATUS int(10) DEFAULT NULL COMMENT '状态',
MSG varchar(200) DEFAULT NULL COMMENT '返回信息',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
AUTHTYPE int(4) DEFAULT NULL COMMENT '认证类型',
USERNAME varchar(100) DEFAULT NULL COMMENT '法人名称',
IDTYPE varchar(4) DEFAULT NULL COMMENT '证件类型',
IDCODE  varchar(100) DEFAULT NULL COMMENT '证件编号',
ORGTYPE varchar(100) DEFAULT NULL COMMENT '企业识别号类型',
ORGCODE varchar(100) DEFAULT NULL COMMENT '企业识别号',
ORGNAME varchar(100) DEFAULT NULL COMMENT '企业名称',
PRIMARY KEY (ID)
)  ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_EVIDENCE' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_EVIDENCE (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
APPCODE varchar(100) DEFAULT NULL COMMENT '应用编号',
APPNAME varchar(100) DEFAULT NULL COMMENT '应用名称',
INVOKEURL varchar(100) DEFAULT NULL COMMENT '请求接口',
DEPTID bigint(24) DEFAULT NULL COMMENT '部门ID',
STATUS int(10) DEFAULT NULL COMMENT '状态',
MSG varchar(200) DEFAULT NULL COMMENT '返回信息',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
CNTID bigint(24) DEFAULT NULL COMMENT '合同ID',
CONTRACTID varchar(100) DEFAULT NULL COMMENT '合同编号',
CONTRACTNAME varchar(100) DEFAULT NULL COMMENT '合同名称',
DOCID bigint(24) DEFAULT NULL COMMENT '文档ID',
DOCCODE  varchar(100) DEFAULT NULL COMMENT '文档编码',
DOCNAME  varchar(100) DEFAULT NULL COMMENT '文档名称',
PRIMARY KEY (ID)
)  ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_NOTARY' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_NOTARY (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
APPCODE varchar(100) DEFAULT NULL COMMENT '应用编号',
APPNAME varchar(100) DEFAULT NULL COMMENT '应用名称',
INVOKEURL varchar(100) DEFAULT NULL COMMENT '请求接口',
DEPTID bigint(24) DEFAULT NULL COMMENT '部门ID',
STATUS int(10) DEFAULT NULL COMMENT '状态',
MSG varchar(200) DEFAULT NULL COMMENT '返回信息',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
CNTID bigint(24) DEFAULT NULL COMMENT '合同ID',
CONTRACTID varchar(100) DEFAULT NULL COMMENT '合同编号',
CONTRACTNAME varchar(100) DEFAULT NULL COMMENT '合同名称',
DOCID bigint(24) DEFAULT NULL COMMENT '文档ID',
DOCCODE  varchar(100) DEFAULT NULL COMMENT '文档编码',
DOCNAME  varchar(100) DEFAULT NULL COMMENT '文档名称',
PRIMARY KEY (ID)
)  ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'authType' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1146300735923703808', 'authType', '5', '1141906024014303232', '三要素(银行)', '', '0', '0');
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1141906283599777792', 'authType', '4', '1141906024014303232', '四要素认证', '', '0', '0');
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1141906243321876480', 'authType', '3', '1141906024014303232', '三要素认证(手机)', '', '0', '0');
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1141906173482520576', 'authType', '2', '1141906024014303232', '二要素认证', '', '0', '0');
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1141906024014303232', 'authType', '-1', NULL, '认证类型', '', '0', '0');
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'apiStatus' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1139447536877064192', 'apiStatus', '1', '1139447333310713856', '调用成功', '', '0', '0');
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1139447457143345152', 'apiStatus', '0', '1139447333310713856', '调用失败', '', '0', '0');
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1139447333310713856', 'apiStatus', '-1', NULL, '接口调用状态', '', '0', '0');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_evi' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1143056381205565440', 'stat_evi_export', 'stat_evi', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/evi/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1143056059334676480', 'stat_evi', 'stat', '', '存证统计', 'fa fa-book', '/stat/evi', '7', '2', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_notary' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1143056059334676481', 'stat_notary', 'stat', '', '公证统计', 'fa fa-book', '/stat/notary', '8', '2', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1143056381205565441', 'stat_notary_export', 'stat_notary', 'export', '导出', 'btn btn-xs btn-info | fa fa-floppy-o bigger-120', '/stat/notary/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_comauth' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1141890359488434176', 'stat_comauth_exprot', 'stat_comauth', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/comauth/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1141890092101554176', 'stat_comauth', 'stat', '', '企业实名认证统计', 'fa fa-book', '/stat/comauth', '6', '2', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_personauth' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1140447548763295744', 'stat_personauth_exprot', 'stat_personauth', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/personauth/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1140447247377387520', 'stat_personauth', 'stat', '', '个人实名认证统计', 'fa fa-book', '/stat/personauth', '5', '2', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_tsa' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1139433034370535424', 'stat_tsa_export', 'stat_tsa', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/tsa/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1139432864685772800', 'stat_tsa', 'stat', '', '时间戳统计', 'fa fa-book', '/stat/tsa', '4', '2', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_cert_export' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1139099647499849728', 'stat_cert_export', 'stat_cert', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/cert/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_kgFace_export' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1138364292895100928', 'stat_kgFace_export', 'stat_kgFace', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/kgFace/export', '2', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CRM_SIGNER_LOGININFO' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CRM_SIGNER_LOGININFO (
ID bigint(24) NOT NULL,
SIGNERID bigint(24) DEFAULT NULL,
TOKENID varchar(64) DEFAULT NULL,
MKPWD varchar(64) DEFAULT NULL,
LOGINTIME datetime DEFAULT NULL,
AUTHID varchar(64) DEFAULT NULL,
AUTHTIME datetime DEFAULT NULL,
SALTSOURCE varchar(128) DEFAULT NULL,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CRM_SM2CERT' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CRM_SM2CERT (
ID bigint(20) NOT NULL COMMENT 'ID',
SIGNERID bigint(20) DEFAULT NULL COMMENT '用户ID',
TYPE int(2) DEFAULT '8' COMMENT '证书类型',
CERTNAME varchar(255) DEFAULT NULL COMMENT '证书名称',
IDCODE varchar(64) DEFAULT NULL COMMENT '证件编码',
IDTYPE varchar(4) DEFAULT '1' COMMENT '证件类型',
CERDATA text COMMENT '证书cer文件数据',
PRIVATEKEY text COMMENT '证书私钥数据',
STARTTIME datetime DEFAULT NULL COMMENT '证书有效期开始时间',
ENDTIME datetime DEFAULT NULL COMMENT '证书有效期结束时间',
DELETED int(2) DEFAULT '0' COMMENT '是否吊销 0 可使用 1已吊销',
CACOMPANY varchar(64) DEFAULT NULL COMMENT 'CA厂商',
CODE varchar(64) DEFAULT NULL COMMENT '证书序列号',
BIZID varchar(128) DEFAULT NULL,
SALT varchar(128) DEFAULT NULL,
CREATETIME datetime DEFAULT NULL COMMENT '证书创建时间',
PRIMARY KEY (ID),
KEY SIGNERID (SIGNERID),
KEY IDTYPE (IDTYPE),
KEY TYPE (TYPE),
KEY BIZID (BIZID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CRM_ALYPAYINFO' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CRM_ALYPAYINFO (
ID bigint(24) NOT NULL,
SIGNERID bigint(24) DEFAULT NULL,
ORDERNO varchar(64) DEFAULT NULL COMMENT '订单号',
SUBJECT varchar(64) DEFAULT NULL COMMENT '订单主题',
CERTTYPE int(11) DEFAULT '0' COMMENT '证书类型 0：RSA 1：SM2',
TOTALAMOUNT double(10,2) DEFAULT NULL COMMENT '总金额',
CREATETIME datetime DEFAULT NULL COMMENT '生成时间',
PAYTIME datetime DEFAULT NULL COMMENT '支付时间',
YBNOTIFYTIME datetime DEFAULT NULL COMMENT '异步通知时间',
TBPAYSTATE int(11) DEFAULT '0' COMMENT '同步支付状态 0:交易创建（未支付）;9000:订单支付成功;8000:正在处理中; 4000:订单支付失败; 6001:订单中途取消; 6002:网络连接出错;6004：支付结果未知',
YBPAYSTATE int(11) DEFAULT '0' COMMENT '异步支付状态 0:交易创建 WAIT_BUYER_PAY（未支付）;1:交易关闭 TRADE_CLOSED;2:交易成功 TRADE_SUCCESS;3:交易完成 TRADE_FINISHED',
YBRESULTPARA text COMMENT '异步验签参数',
ORDERTYPE int(11) DEFAULT '1' COMMENT '订单类型 1：购买 2：更新',
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SIGNER' AND column_name = 'SM2CERTID' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_SIGNER  ADD COLUMN SM2CERTID bigint(24) DEFAULT '0';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SIGNER' AND column_name = 'SM2CERTTYPE' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_SIGNER  ADD COLUMN SM2CERTTYPE int(11) DEFAULT '-1';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_ALYPAYINFO' AND column_name = 'REFUNDSTATE' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_ALYPAYINFO  ADD COLUMN REFUNDSTATE int(11) DEFAULT '0' COMMENT '是否退款 0：无退款  1：有退款';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_ALYPAYINFO' AND column_name = 'REFUNDTRADENO' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_ALYPAYINFO  ADD COLUMN REFUNDTRADENO VARCHAR(64) DEFAULT NULL COMMENT '支付宝退款交易号';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_ALYPAYINFO' AND column_name = 'REFUNDCODE' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_ALYPAYINFO  ADD COLUMN REFUNDCODE VARCHAR(64) DEFAULT NULL COMMENT '退款返回码 10000：退款成功  20000：服务不可用  20001：授权权限不足  40001：缺少必选参数  40002：非法的参数  40004：业务处理失败  40006：权限不足';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_ALYPAYINFO' AND column_name = 'REFUNDTIME' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_ALYPAYINFO  ADD COLUMN REFUNDTIME DATETIME DEFAULT NULL COMMENT '退款时间';
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_sign' into @temp;  
IF @temp = 0 then 
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1145579181870960640', 'stat_sign', 'stat', '', '签署统计', 'fa fa-book', '/stat/sign', '10', '2', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1145597457032302592', 'stat_sign_export', 'stat_sign', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/sign/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_ecs' into @temp;  
IF @temp = 0 then 
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1144474663947096064', 'stat_ecs', 'stat', '', '企业工商信息查询统计', 'fa fa-book', '/stat/ecs', '9', '2', NULL, NULL, '800*520', '1', '0', NULL, '3', '', '');
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1144475197470953472', 'stat_ecs_export', 'stat_ecs', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/ecs/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_pay' into @temp;  
IF @temp = 0 then 
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1144175365128736768', 'stat_pay', 'stat', '', '企业对公打款验证统计', 'fa fa-book', '/stat/pay', '8', '2', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1145528578562084864', 'stat_pay_export', 'stat_pay', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/pay/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_sms_export' into @temp;  
IF @temp = 0 then 
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1145518598685478912', 'stat_sms_export', 'stat_sms', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/sms/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'API_LOGSMS' AND column_name = 'DEPTID' into @temp;
IF @temp = 0 then
ALTER TABLE API_LOGSMS  ADD COLUMN DEPTID bigint(24) DEFAULT NULL COMMENT '部门ID';
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_ENTERPRISE_PAYMENT' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_ENTERPRISE_PAYMENT (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
APPCODE varchar(100) DEFAULT NULL COMMENT '应用编号',
APPNAME varchar(100) DEFAULT NULL COMMENT '应用名称',
INVOKEURL varchar(100) DEFAULT NULL COMMENT '请求接口',
DEPTID bigint(24) DEFAULT NULL COMMENT '部门ID',
STATUS int(10) DEFAULT NULL COMMENT '状态',
MSG varchar(200) DEFAULT NULL COMMENT '返回信息',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
ACCOUNTNAME varchar(100) DEFAULT NULL COMMENT '企业名称',
ACCOUNTCODE varchar(100) DEFAULT NULL COMMENT '企业号码',
BANKID int(10) DEFAULT NULL COMMENT '银行编码',
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_ENTEPRISE_COMMER_STATIST' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_ENTEPRISE_COMMER_STATIST (
ID bigint(20) NOT NULL,
APPCODE varchar(255) DEFAULT NULL COMMENT '接入方编码',
APPNAME varchar(255) DEFAULT NULL COMMENT '接入方名称',
INVOKEURL varchar(255) DEFAULT NULL COMMENT '接口名称',
BUSINESSNAME varchar(255) DEFAULT NULL COMMENT '企业名称',
UNIFIEDCODE varchar(500) DEFAULT NULL COMMENT '社会统一信用代码',
REGISTRATECODE varchar(255) DEFAULT NULL COMMENT '注册号',
STATUS int(10) DEFAULT NULL COMMENT '状态',
MSG varchar(255) DEFAULT NULL COMMENT '调用信息',
CREATETIME datetime DEFAULT NULL COMMENT '请求时间',
DEPTID bigint(20) DEFAULT NULL COMMENT '部门id',
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_CERT' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_CERT (
ID bigint(24) NOT NULL,
CERTTYPE int(4) DEFAULT NULL COMMENT '应用ID',
CACOMPANY varchar(100) DEFAULT NULL COMMENT '应用编号',
IDTYPE varchar(100) DEFAULT NULL COMMENT '应用名称',
IDCODE varchar(100) DEFAULT NULL COMMENT '请求接口',
USERTYPE int(4) DEFAULT NULL COMMENT '部门ID',
PHONE varchar(100) DEFAULT NULL COMMENT '状态',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
APPID bigint(24) DEFAULT NULL COMMENT '企业名称',
STATUS int(4) DEFAULT NULL COMMENT '认证类型',
PRIMARY KEY (ID)
)  ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM SYS_META WHERE CODE = 'interface_auth_type' into @temp;  
IF @temp = 0 then 
INSERT INTO SYS_META (ID, CODE, NUM, NAME, PARA, TIPS, STATUS) VALUES ('1140905486078464000', 'interface_auth_type', '100', NULL, '1', 'interface_auth_type', '1');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'API_LOGSMS' AND column_name = 'APPID' into @temp;
IF @temp = 0 then
ALTER TABLE API_LOGSMS  ADD COLUMN APPID bigint(24) DEFAULT NULL COMMENT 'appid';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'API_LOGSMS' AND column_name = 'APPCODE' into @temp;
IF @temp = 0 then
ALTER TABLE API_LOGSMS  ADD COLUMN APPCODE varchar(204) DEFAULT NULL ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'API_LOGSMS' AND column_name = 'APPNAME' into @temp;
IF @temp = 0 then
ALTER TABLE API_LOGSMS  ADD COLUMN APPNAME varchar(204) DEFAULT NULL;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_TENCENTH5FACE' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_TENCENTH5FACE (
ID bigint(24) NOT NULL COMMENT '主键',
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
APPCODE varchar(100) DEFAULT NULL COMMENT '应用编号',
APPNAME varchar(100) DEFAULT NULL COMMENT '应用名称',
USERNAME varchar(200) DEFAULT NULL COMMENT '姓名',
IDCODE varchar(50) DEFAULT NULL COMMENT '身份证',
STATUS varchar(10) DEFAULT NULL COMMENT '状态',
CNTID bigint(24) DEFAULT NULL COMMENT 'cntid',
CONTRACTID varchar(100) DEFAULT NULL COMMENT '合同id',
CONTRACTNAME varchar(500) DEFAULT NULL,
CREATETIME datetime DEFAULT NULL,
MSG varchar(500) DEFAULT NULL COMMENT '结果',
PRIMARY KEY (ID),
KEY APPID (APPID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CNT_NOTIFY_RECORD' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CNT_NOTIFY_RECORD (
ID bigint(24) NOT NULL,
STATUS int(2) DEFAULT NULL,
NOTIFYURL varchar(500) DEFAULT NULL,
NOTIFYFILE int(2) DEFAULT NULL,
NOTIFYMSG varchar(500) DEFAULT NULL,
CONTRACTID varchar(500) DEFAULT NULL,
BIZID varchar(500) DEFAULT NULL,
CNTID bigint(24) DEFAULT NULL,
RECORDID bigint(24) DEFAULT NULL,
NOTIFYTYPE varchar(10) DEFAULT NULL,
CREATETIME datetime DEFAULT NULL,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'recordtype' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT  (ID,  CODE,  NUM,  PID,  NAME,  TIPS,  VERSION,  SELECTED) VALUES ('1158304024068378624', 'recordtype', '0', '1158303193747181568', '日志', '', '0', '0');
INSERT INTO TFW_DICT  (ID,  CODE ,  NUM ,  PID ,  NAME ,  TIPS ,  VERSION ,  SELECTED ) VALUES ('1158303740436959232', 'recordtype', '32', '1158303193747181568', '跳过', '', '0', '0');
INSERT INTO   TFW_DICT  ( ID ,  CODE ,  NUM ,  PID ,  NAME ,  TIPS ,  VERSION ,  SELECTED ) VALUES ('1158303585717473280', 'recordtype', '16', '1158303193747181568', '回退', '', '0', '0');
INSERT INTO   TFW_DICT  ( ID ,  CODE ,  NUM ,  PID ,  NAME ,  TIPS ,  VERSION ,  SELECTED ) VALUES ('1158303522412843008', 'recordtype', '12', '1158303193747181568', '下载', '', '0', '0');
INSERT INTO   TFW_DICT  ( ID ,  CODE ,  NUM ,  PID ,  NAME ,  TIPS ,  VERSION ,  SELECTED ) VALUES ('1158303472542568448', 'recordtype', '11', '1158303193747181568', '查看', '', '0', '0');
INSERT INTO   TFW_DICT  ( ID ,  CODE ,  NUM ,  PID ,  NAME ,  TIPS ,  VERSION ,  SELECTED ) VALUES ('1158303433472626688', 'recordtype', '2', '1158303193747181568', '作废', '', '0', '0');
INSERT INTO   TFW_DICT  ( ID ,  CODE ,  NUM ,  PID ,  NAME ,  TIPS ,  VERSION ,  SELECTED ) VALUES ('1158303363910094848', 'recordtype', '1', '1158303193747181568', '签署', '', '0', '0');
INSERT INTO   TFW_DICT  ( ID ,  CODE ,  NUM ,  PID ,  NAME ,  TIPS ,  VERSION ,  SELECTED ) VALUES ('1158303193747181568', 'recordtype', '-1', NULL, '签署记录类型', '', '1', '0');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'cntnotifyrecord' into @temp;
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1158253474270433280', 'cntnotifyrecord', 'log', '', '签署通知日志', 'fa-tasks', '/log/cntnotifyrecord', '8', '2', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CNT_VOUCHER' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CNT_VOUCHER (
ID bigint(24) NOT NULL COMMENT '主键',
CNTID bigint(24) DEFAULT NULL COMMENT '合同ID',
PATH varchar(200) DEFAULT NULL COMMENT '文件保存路径',
HASH varchar(200) DEFAULT NULL COMMENT '存证HASH',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
EVIDENCE int(2) DEFAULT NULL COMMENT '是否存证',
PARTY int(5) DEFAULT NULL COMMENT '第几签署方',
SAVETYPE int(5) DEFAULT NULL COMMENT '保存方式',
BIZID varchar(255) DEFAULT NULL,
NAME varchar(500) DEFAULT NULL,
PRIMARY KEY (ID),
KEY CNTID (CNTID),
KEY BIZID (BIZID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_USER' AND column_name = 'SEQID' into @temp;
IF @temp = 0 then
ALTER TABLE TFW_USER ADD SEQID int;
ALTER TABLE TFW_USER ADD key (SEQID);
ALTER TABLE TFW_USER change SEQID SEQID int NOT NULL AUTO_INCREMENT;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'YKY_DEVICE_USED' INTO @temp ;
IF @temp = 0 then
create table YKY_DEVICE_USED (
ID int (11) NOT NULL AUTO_INCREMENT,
USEDCODE varchar (765),
USERID bigint (24),
APPLYID bigint (24),
DEVICEID bigint (24),
USEDTYPE varchar (30),
USEDCOUNT varchar (30),
FILEPATH varchar (1500),
USERNAME varchar (765),
USEADDR varchar (1500),
INPUTTIME datetime ,
UPDATETIME datetime ,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4; 
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'YKY_DEVICEAPPLY' INTO @temp ;
IF @temp = 0 then
create table YKY_DEVICEAPPLY (
ID int (11) NOT NULL AUTO_INCREMENT,
DEVICEID int (11),
DEVICEUSERID bigint (24),
AUDITERID bigint (24),
APPLYTYPE char (3),
APPLYTITLE varchar (300),
USECOUNT int (2),
PLENTYCOUNT int (2),
APPLYSTATE char (3),
APPLYMEMO varchar (600),
CHECKMEMO varchar (600),
INPUTTIME datetime ,
UPDATETIME datetime ,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4; 
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'YKY_DEVICEINFO' INTO @temp ;
IF @temp = 0 then
create table YKY_DEVICEINFO (
ID int (11) NOT NULL AUTO_INCREMENT,
DEVICETYPE varchar (765),
DEVICESTATE varchar (765),
DEVICECODE varchar (765),
DEVICENAME varchar (765),
DEVICETOKEN varchar (765),
DEVICEADDR varchar (765),
DEVICEWIFI varchar (765),
DEVICENETSTAT varchar (765),
USEDCOUNT int (10),
CREATETIME datetime ,
UPDATETIME datetime ,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4; 
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'YKY_DEVICEUSER' INTO @temp ;
IF @temp = 0 then
create table YKY_DEVICEUSER (
ID bigint (24) NOT NULL,
USERID bigint (24),
ADDTYPE varchar (30),
FINGERADDR int (10),
INPUTTIME datetime ,
UPDATETIME datetime ,
PREFINGER int (10),
DEVICEID bigint (24),
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4; 
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'FEED_BACK' INTO @temp ;
IF @temp = 0 then
CREATE TABLE FEED_BACK(  
ID BIGINT(20) NOT NULL,
CONTACT VARCHAR(64),
CONTENT VARCHAR(512),
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'YKY_DEVICE_USED_AUDIT' INTO @temp ;
IF @temp = 0 then
CREATE TABLE YKY_DEVICE_USED_AUDIT (
ID bigint (24) NOT NULL ,
AUDITCODE varchar (150) NOT NULL,
USEDCODE int (11),
FILEPATH varchar (1500),
INPUTTIME datetime ,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4; 
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CNT_DOC_TMP' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CNT_DOC_TMP (
ID bigint(24) NOT NULL,
TPLDOCID bigint(24) DEFAULT NULL,
CONVERTID varchar(64) DEFAULT NULL,
NAME varchar(255) DEFAULT NULL,
TPLID bigint(24) DEFAULT NULL,
TYPE int DEFAULT NULL,
FILEPATH varchar(255) DEFAULT NULL,
SAVETYPE int DEFAULT NULL,
SEQNUMBER int DEFAULT NULL,
CREATETIME datetime DEFAULT NULL,
PRIMARY KEY (ID),
KEY CONVERTID (CONVERTID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_INFO' AND column_name = 'NOTARY' into @temp;
IF @temp = 0 then
ALTER TABLE CNT_INFO  ADD COLUMN NOTARY int DEFAULT '0';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_INFO' AND column_name = 'EVIDENCE' into @temp;
IF @temp = 0 then
ALTER TABLE CNT_INFO  ADD COLUMN EVIDENCE int DEFAULT '0';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_INFO' AND column_name = 'HASH' into @temp;
IF @temp = 0 then
ALTER TABLE CNT_INFO  ADD COLUMN HASH varchar(128) DEFAULT NULL;
END IF ;
/*参数表添加contract_face_video_candown*/
SELECT COUNT(1) FROM TFW_PARAMETER WHERE CODE = 'contract_face_video_candown' into @temp;
IF @temp = 0 then
insert into TFW_PARAMETER (ID, CODE, NUM, NAME, PARA, TIPS, STATUS, VERSION) values('1176329885061238784', 'contract_face_video_candown', NULL, '默认允许下载人脸认证视频', '1', '1是  0否', '1', '2');
END IF ;
SELECT COUNT(1) FROM TFW_PARAMETER WHERE CODE = 'swxa_sm2_keyindex' into @temp;
IF @temp = 0 then
insert into TFW_PARAMETER (ID, CODE, NUM, NAME, PARA, TIPS, STATUS, VERSION) values('961132095684476918','swxa_sm2_keyindex',NULL,'设置sm2加密机密钥开始索引','1','','1','3');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_INFO' AND column_name = 'SIGNDOCTYPE' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_INFO  ADD COLUMN SIGNDOCTYPE int(2) DEFAULT null COMMENT '签署文档类型';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'SIGNERIDTYPE' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_RECORD  ADD COLUMN SIGNERIDTYPE  VARCHAR(4)  DEFAULT '0'   COMMENT '签署人证件类型';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'SIGNERIDCODE' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_RECORD  ADD COLUMN SIGNERIDCODE  VARCHAR(100)  DEFAULT NULL   COMMENT '签署人证件编号';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_USER' AND column_name = 'TOKENID' into @temp;
IF @temp = 0 then
ALTER TABLE TFW_USER ADD COLUMN TOKENID VARCHAR(256) NULL COMMENT '印控仪，用户登录tokenid' ;
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'sealForm' and num='5' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1186898938578358272', 'sealForm', '5', '961783609591595008', '人名方章（带框）', '', '0', '0');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_INFO' AND column_name = 'CODE' into @temp;
IF @temp = 1 then
ALTER TABLE TPL_INFO MODIFY COLUMN CODE varchar(200);
END IF ;
END$$
USE metasync_procedure;
SHOW CREATE PROCEDURE sp_param_inout;
Procedure	sql_mode	Create Procedure	character_set_client	collation_connection	Database Collation
sp_param_inout	STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION	CREATE DEFINER=`x`@`%` PROCEDURE `sp_param_inout`( IN p_in INT, OUT p_out INT, INOUT p_inout INT )
BEGIN
DECLARE z INT DEFAULT 2;
SET p_in = 2;
SET p_out = z;
SELECT p_in, p_out;
DROP TABLE IF EXISTS t0;
CREATE TABLE t0 SELECT @p_inout;
SELECT * FROM t0;
END	latin1	latin1_swedish_ci	utf8mb4_bin
SHOW CREATE PROCEDURE sp_chistics;
Procedure	sql_mode	Create Procedure	character_set_client	collation_connection	Database Collation
sp_chistics	STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION	CREATE DEFINER=`x`@`%` PROCEDURE `sp_chistics`()
    MODIFIES SQL DATA
    COMMENT 'Characteristics procedure test'
SELECT "Characteristics"	latin1	latin1_swedish_ci	utf8mb4_bin
SHOW CREATE PROCEDURE sp_repeat;
Procedure	sql_mode	Create Procedure	character_set_client	collation_connection	Database Collation
sp_repeat	STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION	CREATE DEFINER=`x`@`%` PROCEDURE `sp_repeat`( x INT )
REPEAT
SELECT REPEAT( "b", x );
SET x = x - 1;
UNTIL x = 0 END REPEAT	latin1	latin1_swedish_ci	utf8mb4_bin
SHOW CREATE PROCEDURE sp_case;
Procedure	sql_mode	Create Procedure	character_set_client	collation_connection	Database Collation
sp_case	STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION	CREATE DEFINER=`x`@`%` PROCEDURE `sp_case`( x INT )
CASE
WHEN x < 0 THEN
SELECT "case0";
WHEN x = 0 THEN
SELECT "case1";
ELSE
SELECT "case2";
END case	latin1	latin1_swedish_ci	utf8mb4_bin
SHOW CREATE PROCEDURE sp_cursor;
Procedure	sql_mode	Create Procedure	character_set_client	collation_connection	Database Collation
sp_cursor	STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION	CREATE DEFINER=`x`@`%` PROCEDURE `sp_cursor`()
BEGIN
DECLARE done INT DEFAULT 0;
DECLARE c1 cursor FOR SELECT id,data FROM t1 ORDER BY id,data;
DECLARE c2 cursor FOR SELECT i FROM t2 ORDER BY i;
DECLARE CONTINUE HANDLER FOR SQLSTATE '02000' SET done = 1;
OPEN c1;
OPEN c2;
REPEAT
BEGIN
DECLARE a CHAR(16);
DECLARE b,c INT;
FETCH FROM c1 INTO a, b;
FETCH NEXT FROM c2 INTO c;
IF NOT done THEN
IF b < c THEN
INSERT INTO t3 VALUES (a, b);
ELSE
INSERT INTO t3 VALUES (a, c);
END IF;
END IF;
END;
UNTIL done END REPEAT;
CLOSE c1;
CLOSE c2;
END	latin1	latin1_swedish_ci	utf8mb4_bin
SHOW CREATE PROCEDURE sp_prepare_stmt;
Procedure	sql_mode	Create Procedure	character_set_client	collation_connection	Database Collation
sp_prepare_stmt	STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION	CREATE DEFINER=`x`@`%` PROCEDURE `sp_prepare_stmt`( tbl_name varchar(32) )
BEGIN
SET @str =
CONCAT("CREATE TABLE ", tbl_name, "(stuff char(15))");
SELECT @str;
PREPARE stmt FROM @str;
EXECUTE stmt;
SET @str =
CONCAT("INSERT INTO ", tbl_name, " VALUES('row1'),('row2'),('row3')" );
SELECT @str;
PREPARE stmt FROM @str;
EXECUTE stmt;
SET @str =
CONCAT("CREATE VIEW v1(c1) AS SELECT stuff FROM ", tbl_name);
SELECT @str;
PREPARE stmt FROM @str;
EXECUTE stmt;
SELECT * FROM v1;
SET @str =
"DROP VIEW v1";
SELECT @str;
PREPARE stmt FROM @str;
EXECUTE stmt;
END	latin1	latin1_swedish_ci	utf8mb4_bin
SHOW CREATE PROCEDURE sp_definer;
Procedure	sql_mode	Create Procedure	character_set_client	collation_connection	Database Collation
sp_definer	STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION	CREATE DEFINER=`root`@`localhost` PROCEDURE `sp_definer`()
BEGIN
CREATE DATABASE metasync_scptpkg;
DROP TABLE IF EXISTS metasync_scptpkg.tfw_relation;
CREATE TABLE metasync_scptpkg.tfw_relation ( ID BIGINT, MENUID INT, ROLEID INT ); 
INSERT INTO metasync_scptpkg.tfw_relation ( ID, MENUID, ROLEID ) VALUES ('968410495344181258', '37', '2');
INSERT INTO metasync_scptpkg.tfw_relation ( ID, MENUID, ROLEID ) VALUES ('968410495344181259', '38', '2');
INSERT INTO metasync_scptpkg.tfw_relation ( ID, MENUID, ROLEID ) VALUES ('968410495344181260', '20040', '2');
DROP TABLE IF EXISTS metasync_scptpkg.tfw_dict;
CREATE TABLE metasync_scptpkg.tfw_dict ( ID BIGINT, CODE TEXT, NUM INT, PID BIGINT, NAME TEXT, TIPS TEXT, VERSION INT, SELECTED INT );
SELECT COUNT(1) FROM metasync_scptpkg.tfw_dict WHERE CODE = 'SealStatusType' INTO @temp;
IF @temp = 0 THEN
INSERT INTO metasync_scptpkg.tfw_dict ( ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED ) VALUES ('962499376750526464','SealStatusType','0',NULL,'签章状态','',0,0);
INSERT INTO metasync_scptpkg.tfw_dict ( ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED ) VALUES ('962499516458598400','SealStatusType','1','962499376750526464','已启用','',0,0);
INSERT INTO metasync_scptpkg.tfw_dict ( ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED ) VALUES ('962499592304197632','SealStatusType','2','962499376750526464','已禁用','',0,0);
INSERT INTO metasync_scptpkg.tfw_dict ( ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED ) VALUES ('962499644422619136','SealStatusType','3','962499376750526464','已作废','',0,0);
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = "metasync_scptpkg" AND table_name = 'tfw_invoke_api_log' INTO @temp ;
IF @temp = 0 then
CREATE TABLE metasync_scptpkg.tfw_invoke_api_log (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
APIURI varchar(100) DEFAULT NULL COMMENT '应用接口地址',
APIPARAM longtext COMMENT '应用请求参数',
APIHEADER text COMMENT '应用请求头',
SUCCEED varchar(255) DEFAULT NULL COMMENT '是否成功',
IP varchar(100) DEFAULT NULL COMMENT 'IP地址',
REQTIME datetime DEFAULT NULL COMMENT '请求时间',
RESPTIME datetime DEFAULT NULL COMMENT '响应时间',
MESSAGE text COMMENT '异常栈消息',
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
ALTER TABLE metasync_scptpkg.tfw_invoke_api_log ADD INDEX INDEX_INVOKE_API_APPID (APPID); /* 这里创建索引 INDEX_INVOKE_API_APPID*/
ALTER TABLE metasync_scptpkg.tfw_invoke_api_log ADD INDEX INDEX_INVOKE_API_APIURI (APIURI); # 这里创建索引 INDEX_INVOKE_API_APIURI
ALTER TABLE metasync_scptpkg.tfw_invoke_api_log ADD INDEX INDEX_INVOKE_API_SUCCEED (SUCCEED); # 这里创建索引 INDEX_INVOKE_API_SUCCEED
END IF ;
END	latin1	latin1_swedish_ci	utf8mb4_bin
SHOW CREATE PROCEDURE sp_large170k;
Procedure	sql_mode	Create Procedure	character_set_client	collation_connection	Database Collation
sp_large170k	STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION	CREATE DEFINER=`x`@`%` PROCEDURE `sp_large170k`()
BEGIN
set @dataBaseName='metaSync_large170k';
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'siger_center' into @temp;
IF @temp = 0 then
DELETE FROM TFW_MENU;
DELETE FROM TFW_RELATION;
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1', 'system', '0', '', '系统管理', 'fa-cog', '', '700', '1', NULL, NULL, '', '1', '1', '0', '9', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('2', 'role', 'system', NULL, '角色管理', 'fa-key', '/role/', '2', '2', NULL, NULL, NULL, '1', '0', NULL, '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('3', 'role_add', 'role', 'addex', '角色新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/role/add', '1', '3', NULL, 'role_add.html', '800*340', '1', '0', NULL, '2', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('4', 'role_edit', 'role', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/role/edit', '2', '3', NULL, 'role_edit.html', '800*340', '1', '0', '0', '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('5', 'role_remove', 'role', 'remove', '删除', 'btn btn-xs btn-white | fa fa-times  bigger-120', '/role/remove', '3', '3', NULL, NULL, NULL, '1', '0', NULL, '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('6', 'role_view', 'role', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/role/view', '4', '3', NULL, 'role_view.html', '800*340', '1', NULL, NULL, '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('7', 'role_authority', 'role', 'authority', '权限配置', 'btn btn-xs btn-white | fa fa-wrench  bigger-120', '/role/authority', '5', '3', NULL, 'role_authority.html', '350*500', '1', '0', NULL, '2', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('8', 'user', 'system', '', '管理员管理', 'fa-user', '/user/', '3', '2', NULL, NULL, '', '1', '0', NULL, '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('9', 'user_add', 'user', 'add', '新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/user/add', '1', '3', NULL, 'user_add.html', '800*430', '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('10', 'user_edit', 'user', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/user/edit', '2', '3', NULL, 'user_edit.html', '800*430', '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('11', 'user_del', 'user', 'remove', '删除', 'btn btn-xs btn-white | fa fa fa-times bigger-120', '/user/del', '3', '3', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('12', 'user_view', 'user', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/user/view', '4', '3', NULL, 'user_view.html', '800*390', '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('13', 'user_audit', 'user', 'audit', '审核', 'btn btn-xs btn-white | fa fa-user  bigger-120', '{\"status\":\"3\"}', '5', '3', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('14', 'user_audit_ok', 'user_audit', 'ok', '通过', 'btn btn-xs btn-white | fa fa-check  bigger-120', '/user/auditOk', '1', '4', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('15', 'user_audit_refuse', 'user_audit', 'refuse', '拒绝', 'btn btn-xs btn-white | fa fa-times  bigger-120', '/user/auditRefuse', '2', '4', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('16', 'user_audit_back', 'user_audit', 'back', '返回', 'btn btn-xs btn-white | fa fa-undo  bigger-120', NULL, '3', '4', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('17', 'user_reset', 'user', 'reset', '重置密码', 'btn btn-xs btn-white | fa fa-key  bigger-120', '/user/reset', '6', '3', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('18', 'user_ban', 'user', 'frozen', '禁用', 'btn btn-xs btn-white | fa fa-ban  bigger-120', '/user/ban', '7', '3', NULL, NULL, '', '1', '0', NULL, '5', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('19', 'user_recycle', 'user', 'recycle', '回收站', 'btn btn-xs btn-white | fa fa-recycle  bigger-120', '{\"status\":\"5\"}', '8', '3', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20', 'user_recycle_restore', 'user_recycle', 'restore', '还原', 'btn btn-xs btn-white | fa fa-refresh  bigger-120', '/user/restore', '1', '4', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('21', 'user_recycle_remove', 'user_recycle', 'remove', '彻底删除', 'btn btn-xs btn-white  btn-danger | fa fa fa-times bigger-120', '/user/remove', '2', '4', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('22', 'user_recycle_back', 'user_recycle', 'back', '返回', 'btn btn-xs btn-white | fa fa-undo  bigger-120', NULL, '3', '4', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('25', 'menu', 'system', '', '菜单管理', 'fa-tasks', '/menu/', '200', '2', NULL, NULL, '', '1', '0', NULL, '4', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('26', 'menu_add', 'menu', 'addex', '菜单新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/menu/add', '1', '3', NULL, 'menu_add.html', '800*430', '1', '0', '0', '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('27', 'menu_edit', 'menu', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/menu/edit', '2', '3', NULL, 'menu_edit.html', '800*430', '1', '0', '0', '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('28', 'menu_del', 'menu', 'remove', '删除', 'btn btn-xs btn-white | fa fa-times  bigger-120', '/menu/del', '3', '3', NULL, NULL, NULL, '1', '0', NULL, '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('29', 'menu_view', 'menu', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/menu/view', '4', '3', NULL, 'menu_view.html', '800*430', '1', '0', '0', '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('30', 'menu_recycle', 'menu', 'recycle', '回收站', 'btn btn-xs btn-white | fa fa-recycle  bigger-120', '{\"status\":\"2\"}', '5', '3', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('31', 'menu_recycle_restore', 'menu_recycle', 'restore', '还原', 'btn btn-xs btn-white | fa fa-refresh  bigger-120', '/menu/restore', '1', '4', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('32', 'menu_recycle_remove', 'menu_recycle', 'remove', '彻底删除', 'btn btn-xs btn-white  btn-danger | fa fa fa-times bigger-120', '/menu/remove', '2', '4', NULL, NULL, NULL, '1', '0', NULL, '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('33', 'menu_recycle_back', 'menu_recycle', 'back', '返回', 'btn btn-xs btn-white | fa fa-undo  bigger-120', NULL, '3', '4', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('34', 'dict', 'system', '', '字典管理', 'fa fa-book', '/dict/', '400', '2', NULL, NULL, '', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('35', 'dict_add', 'dict', 'addex', '字典新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/dict/add', '1', '3', NULL, 'dict_add.html', '800*390', '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('36', 'dict_edit', 'dict', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/dict/edit', '2', '3', NULL, 'dict_edit.html', '800*390', '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('37', 'dict_remove', 'dict', 'remove', '删除', 'btn btn-xs btn-white | fa fa-times  bigger-120', '/dict/remove', '3', '3', NULL, NULL, NULL, '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('38', 'dict_view', 'dict', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/dict/view', '4', '3', NULL, 'dict_view.html', '800*390', '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('39', 'dept', 'system', '', '机构管理', 'fa fa-users', '/dept/', '1', '2', NULL, NULL, '', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('40', 'dept_add', 'dept', 'add', '机构新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/dept/add', '1', '3', NULL, 'dept_add.html', '800*340', '1', '0', NULL, '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('41', 'dept_edit', 'dept', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/dept/edit', '2', '3', NULL, 'dept_edit.html', '800*340', '1', NULL, NULL, '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('43', 'dept_view', 'dept', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/dept/view', '4', '3', NULL, 'dept_view.html', '800*340', '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('56', 'parameter', 'system', '', '参数化管理', 'fa-tags', '/parameter/', '300', '2', NULL, 'parameter.html', '', '1', '0', '1', '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('57', 'parameter_add', 'parameter', 'add', '新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/parameter/add', '1', '3', NULL, 'parameter_add.html', NULL, '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('58', 'parameter_edit', 'parameter', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/parameter/edit', '2', '3', NULL, 'parameter_edit.html', NULL, '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('59', 'parameter_del', 'parameter', 'remove', '删除', 'btn btn-xs btn-white | fa fa-times  bigger-120', '/parameter/del', '3', '3', NULL, NULL, NULL, '1', '0', '0', '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('60', 'parameter_view', 'parameter', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/parameter/view', '4', '3', NULL, 'parameter_view.html', NULL, '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('61', 'parameter_recycle', 'parameter', 'recycle', '回收站', 'btn btn-xs btn-white | fa fa-recycle  bigger-120', '{\"status\":\"5\"}', '5', '3', NULL, 'parameter_recycle.html', NULL, '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('62', 'parameter_recycle_restore', 'parameter_recycle', 'restore', '还原', 'btn btn-xs btn-white | fa fa-refresh  bigger-120', '/parameter/restore', '1', '4', NULL, NULL, NULL, '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('63', 'parameter_recycle_remove', 'parameter_recycle', 'remove', '彻底删除', 'btn btn-xs btn-white  btn-danger | fa fa fa-times bigger-120', '/parameter/remove', '2', '4', NULL, NULL, NULL, '1', '0', '0', '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('64', 'parameter_recycle_back', 'parameter_recycle', 'back', '返回', 'btn btn-xs btn-white | fa fa-undo  bigger-120', NULL, '3', '4', NULL, NULL, NULL, '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('81', 'log', '0', '', '审计中心', 'fa-tasks', '', '500', '1', NULL, NULL, '', '1', '1', '0', '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('82', 'olog', 'log', NULL, '操作日志', 'fa-database', '/olog/', '1', '3', NULL, 'olog.html', NULL, '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('83', 'llog', 'log', NULL, '登录日志', 'fa-sign-in', '/llog/', '2', '3', NULL, 'llog.html', NULL, '1', '0', '1', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('87', 'olog_view', 'olog', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/olog/view', '4', '4', NULL, 'olog_view.html', NULL, '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('91', 'llog_view', 'llog', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/llog/view', '4', '4', NULL, 'llog_view.html', NULL, '1', '0', '0', '0', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('92', 'cert', '0', '', '证书中心', 'fa fa-desktop', '', '200', '1', NULL, NULL, '', '1', '1', '0', '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20000', 'template', 'cont', '', '模板管理', 'fa fa-file', '/tpl/info', '4', '2', NULL, NULL, '800*520', '1', '0', NULL, '12', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20001', 'cont', '0', '', '合同中心', 'fa fa-file-o', '', '400', '1', NULL, NULL, '800*520', '1', '1', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20002', 'siger_center', '0', '', '用户中心', 'fa zen-user', '', '100', '1', NULL, NULL, '800*520', '1', '1', '0', '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20003', 'signer_edit', 'signer', 'edit', '修改用户', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/crm/signer/editSimple', '3', '3', NULL, NULL, '800*520', '1', '0', NULL, '9', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20004', 'template_add', 'template', 'add', '新增模板', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/tpl/info/add', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '1', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20005', 'contract_view', 'contract', 'view', '查看详情', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/cnt/record', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '3', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('10000', 'template_edit', 'template', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/tpl/info/edit', '2', '4', NULL, NULL, '800*520', '1', '0', NULL, '2', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20006', 'signer_addFast', 'signer', 'add', '快速新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/crm/signer/add', '7', '3', NULL, NULL, '800*520', '1', '0', NULL, '10', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20007', 'template_remove', 'template', 'remove', '删除', 'btn btn-xs btn-white | fa fa-times  bigger-120', '/tpl/info/remove', '3', '3', NULL, NULL, '800*520', '1', '0', NULL, '4', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20008', 'user_enable', 'user', 'frozen', '启用', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/user/enable', '7', '4', NULL, NULL, '800*520', '1', '0', NULL, '2', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20009', 'signer_ban', 'signer', 'frozen', '禁用', 'btn btn-xs btn-white | fa fa-ban  bigger-120', '/crm/signer/ban', '5', '3', NULL, NULL, '800*520', '1', '0', NULL, '6', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20010', 'signer_enable', 'signer', 'frozen', '启用', 'btn btn-xs btn-white | fa fa-check  bigger-120', '/crm/signer/enable', '4', '3', NULL, NULL, '800*520', '1', '0', NULL, '3', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20011', 'signer', 'siger_center', '', '用户管理', 'fa zen-user', '/crm/signer', '1', '2', NULL, NULL, '800*520', '1', '0', NULL, '4', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20012', 'cert_manage', 'cert', '', '证书管理', 'fa fa-book', '/crm/cert', '6', '2', NULL, NULL, '800*520', '1', '0', NULL, '2', NULL, NULL);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20013', 'appInfo', 'system', '', '接入方管理', 'fa zen-user', '/app', '50', '2', NULL, NULL, '800*520', '1', '0', NULL, '3', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20014', 'appInfo_add', 'appInfo', 'add', '新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/app/add', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20015', 'appInfo_edit', 'appInfo', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/app/edit', '2', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20016', 'appInfo_enable', 'appInfo', 'frozen', '启用', 'btn btn-xs btn-white | fa fa-check  bigger-120', '/app/enable', '4', '3', NULL, NULL, '800*520', '1', '0', NULL, '4', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20017', 'appInfo_ban', 'appInfo', 'frozen', '禁用', 'btn btn-xs btn-white | fa fa-ban  bigger-120', '/app/ban', '5', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20019', 'user_orgAssign', 'user', 'assign', '机构分配', 'btn btn-xs btn-white | fa fa-cogs bigger-120', '/user/orgAssign', '10', '3', NULL, NULL, '350*500', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20020', 'stat', '0', '', '费控中心', 'fa-line-chart', '', '600', '1', NULL, NULL, '800*520', '1', '1', NULL, '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20021', 'stat_kgFace', 'stat', '', 'kgFace统计', 'fa fa-book', '/stat/kgFace', '1', '2', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20022', 'contract_download', 'contract', 'viewAll', '下载记录', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/cnt/download', '2', '3', NULL, NULL, '800*520', '1', '0', NULL, '6', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20023', 'contract_deletingSet', 'contract', 'add', '删除设置', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/cnt/deletingSet', '3', '3', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20024', 'cont_download_authority', 'cont', 'viewAll', '下载权限', 'hidden btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/cnt/download/authority', '4', '3', NULL, NULL, '800*520', '1', '0', NULL, '11', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20025', 'seal', '0', '', '签章中心', 'fa fa-vcard-o', '', '300', '1', NULL, NULL, '800*520', '1', '1', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20026', 'seal_manage', 'seal', '', '签章管理', 'fa fa-vcard-o', '/crm/seal', '1', '2', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20027', 'contract', 'cont', '', '合同管理', 'fa fa-file-text-o', '/cnt/contract', '2', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20028', 'seal_add', 'seal_manage', 'add', '新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/crm/seal/add', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20029', 'seal_edit', 'seal_manage', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/crm/seal/edit', '2', '3', NULL, NULL, '800*520', '1', '0', NULL, '3', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20030', 'seal_enable', 'seal_manage', 'frozen', '启用', 'btn btn-xs btn-white | fa fa-check  bigger-120', '/crm/seal/enable', '3', '3', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20031', 'seal_ban', 'seal_manage', 'frozen', '禁用', 'btn btn-xs btn-white | fa fa-ban  bigger-120', '/crm/seal/ban', '4', '3', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20032', 'signer_add', 'signer', 'add', '用户新增', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/crm/signer/addSimple', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '5', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20033', 'signer_orgAssign', 'signer', 'assign', '变更机构', 'btn btn-xs btn-white | fa fa-cogs bigger-120', '/crm/signer/orgAssign', '8', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20034', 'cert_create', 'cert_manage', 'add', '创建', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/crm/cert/create', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20035', 'cert_view', 'cert_manage', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/crm/cert/view', '2', '3', NULL, NULL, '800*520', '1', '0', NULL, '3', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20036', 'cert_download', 'cert_manage', 'downLoad', '下载', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/crm/cert/cerdown', '4', '3', NULL, NULL, '800*520', '1', '0', NULL, '4', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20037', 'invokeApiLog', 'log', '', '调用日志', 'fa-database', '/invokeApiLog/', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20038', 'invokeApiLog_view', 'invokeApiLog', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/invokeApiLog/view', '1', '4', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20039', 'cert_revoke', 'cert_manage', 'frozen', '吊销', 'btn btn-xs btn-white | fa fa-ban  bigger-120', '/crm/cert/revoke', '3', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '是否将选中证书吊销？', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20040', 'pageset', 'system', '', '页面设置', 'fa-cog', '/pageSet', '401', '2', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('20041', 'seal_cancel', 'seal_manage', 'remove', '作废', 'btn btn-xs btn-white | fa fa-times  bigger-120', '/crm/seal/cancel', '5', '3', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422438789120', '20002', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422451372032', '20011', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422451372033', '20032', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422451372034', '20003', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422451372035', '20010', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422451372036', '20009', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422455566336', '20006', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422455566337', '20033', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422455566338', '92', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422455566339', '20012', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422455566340', '20034', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422455566341', '20035', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422459760640', '20039', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422459760641', '20036', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422459760642', '20025', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422459760643', '20026', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422463954944', '20028', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422463954945', '20029', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422463954946', '20030', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422463954947', '20031', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422463954948', '20041', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422463954949', '20001', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422463954950', '20000', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422463954951', '20004', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422463954952', '20007', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149248', '10000', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149249', '20027', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149250', '20005', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149251', '20022', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149252', '20023', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149253', '20024', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149254', '81', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149255', '20037', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149256', '20038', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149257', '82', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149258', '87', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149259', '83', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149260', '91', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422468149261', '1', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343552', '39', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343553', '40', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343554', '41', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343555', '43', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343556', '2', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343557', '3', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343558', '4', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343559', '5', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343560', '6', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343561', '7', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343562', '8', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343563', '9', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343564', '10', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343565', '11', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422472343566', '12', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537856', '13', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537857', '14', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537858', '15', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537859', '16', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537860', '17', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537861', '18', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537862', '19', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537863', '20', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537864', '21', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537865', '22', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537867', '20008', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537868', '20013', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422476537869', '20014', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422480732160', '20015', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422480732161', '20016', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422480732162', '20017', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422480732164', '25', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422480732165', '26', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422480732166', '27', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422480732167', '28', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422480732168', '29', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926464', '30', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926465', '31', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926466', '32', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926467', '33', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926468', '56', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926469', '57', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926470', '58', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926471', '59', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926472', '60', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926473', '61', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926474', '62', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926475', '63', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422484926476', '64', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422489120768', '34', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422489120769', '35', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422489120770', '36', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422489120771', '37', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422489120772', '38', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410422489120773', '20040', '1');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495302238208', '20002', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495306432512', '20011', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495306432513', '20032', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495306432514', '20003', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626816', '20010', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626817', '20009', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626818', '20006', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626819', '20033', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626820', '92', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626821', '20012', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626822', '20034', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626823', '20035', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626824', '20039', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626825', '20036', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626826', '20025', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626827', '20026', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626828', '20028', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495310626829', '20029', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821120', '20030', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821121', '20031', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821122', '20041', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821123', '20001', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821124', '20000', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821125', '20004', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821126', '20007', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821127', '10000', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821128', '20027', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821129', '20005', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821130', '20022', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821131', '20023', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495314821132', '20024', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495323209728', '81', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495323209729', '20037', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495323209730', '20038', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495323209731', '82', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495331598336', '87', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495331598337', '83', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495331598338', '91', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495331598339', '1', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495331598340', '39', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792640', '40', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792641', '41', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792642', '43', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792643', '2', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792644', '3', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792645', '4', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792646', '5', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792647', '6', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792648', '7', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792649', '8', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792650', '9', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495335792651', '10', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986944', '11', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986945', '12', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986946', '13', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986947', '14', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986948', '15', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986949', '16', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986950', '17', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986951', '18', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986952', '19', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986953', '20', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986954', '21', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495339986955', '22', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181248', '20008', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181249', '20013', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181250', '20014', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181251', '20015', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181252', '20016', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181253', '20017', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181255', '34', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181256', '35', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181257', '36', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181258', '37', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181259', '38', '2');
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES ('968410495344181260', '20040', '2');
end if;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SEAL' AND column_name = 'STATUS' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_SEAL  ADD COLUMN STATUS int(4) DEFAULT 1 COMMENT '状态：1 启用 2 禁用 3作废' ;
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'SealStatusType' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('962499376750526464','SealStatusType','0',NULL,'签章状态','',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('962499516458598400','SealStatusType','1','962499376750526464','已启用','',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('962499592304197632','SealStatusType','2','962499376750526464','已禁用','',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('962499644422619136','SealStatusType','3','962499376750526464','已作废','',0,0);
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'sealMakingWay' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('961418229278834688','sealMakingWay','0',NULL,'制章方式','',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('961418428957065216','sealMakingWay','1','961418229278834688','本地上传','',1,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('961418473605431296','sealMakingWay','2','961418229278834688','自动生成','',0,0);
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'sealForm' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('961783609591595008','sealForm','0',NULL,'签章样式','',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('961783917206044672','sealForm','1','961783609591595008','人名方章','',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('961783979063640064','sealForm','2','961783609591595008','企业圆章','',0,0);
END IF ;
/*证书状态  ： 使用中  已吊销*/
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'CertStatusType' into @temp;
IF @temp = 0 then
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('962581152034455552','CertStatusType','-1',NULL,'证书状态','','1','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('962581947115110400','CertStatusType','0','962581152034455552','使用中','','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('962581993038544896','CertStatusType','1','962581152034455552','已吊销','','0','0');
END IF ;
/*移除部分企业证件类型*/
DELETE FROM TFW_DICT WHERE CODE = 'enterpriseType';
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'enterpriseType' into @temp;
IF @temp = 0 then
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877435700222361600','enterpriseType','-1','-1','企业证件类型','企业证件类型','4','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877438214439174144','enterpriseType','3','877435700222361600','工商登记证','工商登记证','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877438247146356736','enterpriseType','4','877435700222361600','税务登记证','税务登记证','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877438293883486208','enterpriseType','7','877435700222361600','组织机构代码证','组织机构代码证','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877438330000637952','enterpriseType','8','877435700222361600','企业营业执照','企业营业执照','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877438599417561088','enterpriseType','Z','877435700222361600','其他','其他','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877445382223691776','enterpriseType','2','877435700222361600','社会信用代码','社会信用代码','1','0');
END IF ;
/*移除部分个人证件类型*/
DELETE FROM TFW_DICT WHERE CODE = 'personType';
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'personType' into @temp;
IF @temp = 0 then
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877435931940880384','personType','-1','-1','个人证件类型','个人证件类型','2','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877437205113470976','personType','0','877435931940880384','居民身份证','居民身份证','1','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877437344586661888','personType','1','877435931940880384','护照','护照','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877437523284983808','personType','B','877435931940880384','港澳居民往来内地通行证','港澳居民往来内地通行证','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877437567643942912','personType','C','877435931940880384','台湾居民来往大陆通行证','台湾居民来往大陆通行证','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('877437738087874560','personType','Z','877435931940880384','其他','其他','0','0');
END IF ;
/*参数表添加signer_isBindUKey*/
SELECT COUNT(1) FROM TFW_PARAMETER WHERE CODE = 'signer_isBindUKey' into @temp;
IF @temp = 0 then
insert into TFW_PARAMETER (ID, CODE, NUM, NAME, PARA, TIPS, STATUS, VERSION) values('961132095684476928','signer_isBindUKey',NULL,'开启使用ukey','1','1 可以  2 不可以','1','3');
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'TFW_INVOKE_API_LOG' INTO @temp ;
IF @temp = 0 then
CREATE TABLE TFW_INVOKE_API_LOG (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
APIURI varchar(100) DEFAULT NULL COMMENT '应用接口地址',
APIPARAM longtext COMMENT '应用请求参数',
APIHEADER text COMMENT '应用请求头',
SUCCEED varchar(255) DEFAULT NULL COMMENT '是否成功',
IP varchar(100) DEFAULT NULL COMMENT 'IP地址',
REQTIME datetime DEFAULT NULL COMMENT '请求时间',
RESPTIME datetime DEFAULT NULL COMMENT '响应时间',
MESSAGE text COMMENT '异常栈消息',
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
ALTER TABLE TFW_INVOKE_API_LOG ADD  INDEX INDEX_INVOKE_API_APPID (APPID);
ALTER TABLE TFW_INVOKE_API_LOG ADD  INDEX INDEX_INVOKE_API_APIURI (APIURI);
ALTER TABLE TFW_INVOKE_API_LOG ADD  INDEX INDEX_INVOKE_API_SUCCEED (SUCCEED);
END IF ;
/*字典表certType去除硬件密钥盘（UKEY）*/
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'certType' AND NUM='0' AND PID='863945968997892096' into @temp;
IF @temp > 0 then
DELETE FROM TFW_DICT WHERE CODE = 'certType' AND NUM='0' AND PID='863945968997892096';
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'contractStatus' AND NUM='5' into @temp;
IF @temp = 0 then
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('992210704700276736','contractStatus','5','870442077001875456','作废','','0','0');
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'contractStatus' AND NUM='16' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1006809636298293248', 'contractStatus', '16', '870442077001875456', '回退', '回退', '0', '0');
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'contractStatus' AND NUM='32' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1006809636298293249', 'contractStatus', '32', '870442077001875456', '跳过', '跳过', '0', '0');
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CNT_SIGNER_MSG' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CNT_SIGNER_MSG (
ID bigint(24) NOT NULL,
CNTID bigint(24) DEFAULT NULL COMMENT '合同id',
CONTRACTID varchar(225) DEFAULT NULL COMMENT '合同编号',
SIGNERID bigint(24) DEFAULT NULL COMMENT '用户id',
SIGNERCODE varchar(64) DEFAULT NULL COMMENT '用户编码',
PHONE varchar(100) DEFAULT NULL COMMENT '电话号',
EMAIL varchar(225) DEFAULT NULL COMMENT '邮箱地址',
CREATETIME datetime DEFAULT NULL,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT ICON FROM TFW_MENU WHERE CODE = 'seal_manage' into @temp; 
IF @temp = 'fa' then 
UPDATE TFW_MENU SET ICON = 'fa fa-vcard-o' WHERE  CODE ='seal_manage';
END IF ;
/*hnnx 印模表*/
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CRM_SEAL_TPL' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CRM_SEAL_TPL (
ID bigint(24) NOT NULL,
CODE varchar(100) DEFAULT NULL COMMENT '印模编码',
NAME varchar(128) DEFAULT NULL COMMENT '印模名称',
SIGNERID bigint(24) DEFAULT NULL COMMENT '用户id',
METADATA varchar(2000) DEFAULT NULL COMMENT '印模数据',
STATUS int(4) DEFAULT NULL COMMENT '状态',
CREATETIME datetime DEFAULT NULL,
PRIMARY KEY (ID)
);
END IF ;
/*菜单：用章日志*/
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'invokeSealLog' into @temp; 
IF @temp = 0 then 
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('978520490018603008', 'invokeSealLog', 'log', null, '用章日志', 'fa-database', '/invokeSealLog/', '3', '3', null, null, '800*520', '1', '0', null, '2', null, null);
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('978520803639296000', 'invokeSealLog_view', 'invokeSealLog', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/invokeSealLog/view', '1', '3', null, null, '800*520', '1', '0', null, '0', null, null);
END IF ;
/*hnnx 用模日志表*/
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_SEALTPL_USE' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_SEALTPL_USE (
ID bigint(24) NOT NULL ,
BIZID varchar(100) DEFAULT NULL ,
SIGNERID bigint(24) DEFAULT NULL COMMENT '用户id',
EXPIRYTIME bigint(24) DEFAULT NULL COMMENT '逾期时间',
EXPIRYMONTH int(5) DEFAULT NULL COMMENT '逾期月份',
APPID bigint(24) DEFAULT NULL COMMENT '应用id',
SEALTPLID bigint(24) DEFAULT NULL COMMENT '印模编号',
CREATETIME datetime DEFAULT NULL ,
VALIDCODE varchar(100) DEFAULT NULL COMMENT '验证码',
REMARK varchar(200) DEFAULT NULL ,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
/*hnnx 用章日志表*/
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_SEAL_USE' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_SEAL_USE (
ID bigint(24) NOT NULL,
BIZID varchar(100) DEFAULT NULL,
SIGNERID bigint(24) DEFAULT NULL COMMENT '用户id',
APPID bigint(24) DEFAULT NULL COMMENT '应用id',
SEALID bigint(24) DEFAULT NULL COMMENT '签章id',
SEALNAME varchar(200) DEFAULT NULL COMMENT '签章名称',
SEALCODE varchar(200) DEFAULT NULL COMMENT '签章编号',
EXPIRYTIME bigint(24) DEFAULT NULL COMMENT '逾期时间',
EXPIRYMONTH int(5) DEFAULT NULL COMMENT '逾期月份',
CREATETIME datetime DEFAULT NULL,
REMARK varchar(200) DEFAULT NULL,
SIGNERNAME varchar(1000) DEFAULT NULL,
DOCUMENTID varchar(1000) DEFAULT NULL,
IPADD varchar(20) DEFAULT NULL,
CLIENTVER varchar(500) DEFAULT NULL,
ORGNAME varchar(500) DEFAULT NULL,
KEYSN varchar(100) DEFAULT NULL,
DOCUMENTNAME varchar(500) DEFAULT NULL,
SORT varchar(10) DEFAULT NULL,
TYPE varchar(10) DEFAULT NULL,
PRIMARY KEY (ID)
);
END IF ;
/*字典表： 盖章模式*/
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'sealModel' into @temp; 
IF @temp = 0 then 
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('983880221444800512','sealModel','-1',NULL,'盖章模式','','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('983880517541691392','sealModel','0','983880221444800512','单页允许多章','','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('983880591462105088','sealModel','1','983880221444800512','单页仅单章','','0','0');
END IF ;
/*签章表： GEOMETRIC 字段长度调整*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SEAL' AND column_name = 'GEOMETRIC' into @temp;
IF @temp = 1 then 
ALTER TABLE CRM_SEAL CHANGE GEOMETRIC GEOMETRIC DECIMAL(20,10) DEFAULT 1.0000000000  NULL;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SIGNER' AND column_name = 'TOKENUM' into @temp;
IF @temp = 0 then 
ALTER TABLE CRM_SIGNER  ADD COLUMN TOKENUM varchar(20) null COMMENT 'token序号' ;
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE NUM = 'SIMSUN.TTC' into @temp;
IF @temp = 1 then 
update TFW_DICT set NUM = 'SIMSUN.TTF' where  NUM = 'SIMSUN.TTC';
END IF ;
/**
*  2018.04.27  脚本 ··········
*/
/*参数表添加is_open_templateBan*/
SELECT COUNT(1) FROM TFW_PARAMETER WHERE CODE = 'is_open_templateBan' into @temp; 
IF @temp = 0 then
insert into TFW_PARAMETER (ID, CODE, NUM, NAME, PARA, TIPS, STATUS, VERSION) values ('989761895743356928', 'is_open_templateBan', '100', '模板审核', '2', '1:是（新增的模板默认待启用状态）  2:否', '1', '0');
END IF ;
/*字典表：模板状态*/
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'tplstatus' into @temp; 
IF @temp = 0 then 
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('989759596874694656','tplstatus','0',NULL,'模板状态','','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('989759725874708480','tplstatus','1','989759596874694656','启用','','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('989759797395980288','tplstatus','2','989759596874694656','待启用','','0','0');
END IF ;
/*模板表新增状态字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_INFO' AND column_name = 'STATUS' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_INFO  ADD COLUMN STATUS INT(2) DEFAULT 1 COMMENT '状态：1 已启用 2 待启用' ;
END IF ;
/*菜单：模板管理，启用*/
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'template_enable' into @temp; 
IF @temp = 0 then 
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('989746923218927616', 'template_enable', 'template', 'frozen', '启用', 'btn btn-xs btn-white | fa fa-check  bigger-120', '/tpl/info/enable', '4', '3', null, null, '800*520', '1', '0', null, '0', null, null);
END IF ;
/**
*   ··········2018.04.27  脚本
*/
/**
*   ··········2018.05.02  脚本	start
*/
/*操作日志表新增字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_OPERATION_LOG' AND column_name = 'NAME' into @temp;
IF @temp = 0 then 
ALTER TABLE TFW_OPERATION_LOG  ADD COLUMN NAME varchar(20) NULL ;
END IF ;
/*操作日志表新增字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_OPERATION_LOG' AND column_name = 'URL' into @temp;
IF @temp = 0 then 
ALTER TABLE TFW_OPERATION_LOG  ADD COLUMN URL varchar(40) NULL ;
END IF ;
/*操作日志表新增字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_OPERATION_LOG' AND column_name = 'USERNAME' into @temp;
IF @temp = 0 then 
ALTER TABLE TFW_OPERATION_LOG  ADD COLUMN USERNAME varchar(20) NULL ;
END IF ;
/*操作日志表新增字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_OPERATION_LOG' AND column_name = 'LOGTYPE' into @temp;
IF @temp = 0 then 
ALTER TABLE TFW_OPERATION_LOG  ADD COLUMN LOGTYPE varchar(20) NULL ;
END IF ;
/*操作日志表新增字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_OPERATION_LOG' AND column_name = 'MODULE' into @temp;
IF @temp = 0 then 
ALTER TABLE TFW_OPERATION_LOG  ADD COLUMN MODULE varchar(20) NULL ;
END IF ;
/*操作日志表新增字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_OPERATION_LOG' AND column_name = 'MODULENAME' into @temp;
IF @temp = 0 then 
ALTER TABLE TFW_OPERATION_LOG  ADD COLUMN MODULENAME varchar(40) NULL ;
END IF ;
/*操作日志表新增字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_OPERATION_LOG' AND column_name = 'LOGMEMO' into @temp;
IF @temp = 0 then 
ALTER TABLE TFW_OPERATION_LOG  ADD COLUMN LOGMEMO varchar(400) NULL ;
END IF ;
/*操作日志表新增字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_OPERATION_LOG' AND column_name = 'IPADDR' into @temp;
IF @temp = 0 then 
ALTER TABLE TFW_OPERATION_LOG  ADD COLUMN IPADDR varchar(40) NULL ;
END IF ;
/*机构新增编号字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_DEPT' AND column_name = 'CODE' into @temp;
IF @temp = 0 then 
ALTER TABLE TFW_DEPT  ADD COLUMN CODE varchar(100) NULL ;
UPDATE  TFW_DEPT SET CODE = ID WHERE CODE IS NULL;
END IF ;
/*2018.05.22  新增绑定用户证书*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'APP_INFO' AND column_name = 'SIGNERID' into @temp;
IF @temp = 0 then 
ALTER TABLE APP_INFO  ADD COLUMN SIGNERID bigint(24) default 0 ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_SIGNATURE' AND column_name = 'CNTID' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_SIGNATURE  ADD COLUMN CNTID bigint(24) default 0 ;
ALTER TABLE CNT_SIGNATURE ADD  INDEX INDEX_CNT_SIGNATURE_CNTID (CNTID);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_SIGNATURE' AND column_name = 'DOCID' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_SIGNATURE  ADD COLUMN DOCID bigint(24) default 0 ;
ALTER TABLE CNT_SIGNATURE ADD  INDEX INDEX_CNT_SIGNATURE_DOCID (DOCID);
END IF ;
SELECT COUNT(1) FROM TFW_MENU where CODE ='seal' and name='印章中心' into @temp; 
IF @temp > 0  then
update TFW_MENU set name = '签章中心' where  CODE ='seal';
END IF ;
SELECT COUNT(1) FROM TFW_MENU where CODE ='seal_manage' and name='印章管理' into @temp; 
IF @temp > 0  then
update TFW_MENU set name = '签章管理' where  CODE ='seal_manage';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'RECORDTYPE' into @temp;
IF @temp = 0  then
ALTER TABLE CNT_RECORD  ADD COLUMN RECORDTYPE int(4) DEFAULT 1 COMMENT '状态：1 签署记录 2 作废  16 回退   32跳过' ;
ALTER TABLE CNT_RECORD ADD  INDEX INDEX_CNT_RECORD_RECORDTYPE (RECORDTYPE);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_PARTY' AND column_name = 'PARTYID' into @temp;
IF @temp = 0  then
ALTER TABLE CNT_PARTY  ADD COLUMN PARTYID varchar(128) DEFAULT null ;
ALTER TABLE CNT_PARTY ADD  INDEX INDEX_CNT_PARTY_PARTYID (PARTYID);
END IF ;
/*更新数据字典证书类型默认值*/
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'certType' AND NUM = '4' into @temp;
IF @temp = 1 then 
UPDATE TFW_DICT SET SELECTED = '1' WHERE CODE = 'certType' AND NUM = '4';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_EXT_INFO' AND column_name = 'PROJECTID' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_EXT_INFO ADD COLUMN PROJECTID bigint(24) NULL COMMENT '项目ID' ;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'TFW_PROJECT' INTO @temp ;
IF @temp = 0 then
CREATE TABLE TFW_PROJECT (
ID bigint (20) NOT NULL,
CODE varchar (255),
NAME varchar (255),
STATUS int(4) DEFAULT '0',
CREATETIME datetime,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'TFW_DEPTPROJECT' INTO @temp ;
IF @temp = 0 then
CREATE TABLE TFW_DEPTPROJECT (
ID bigint (20) NOT NULL,
DEPTID bigint (20),
PROJECTID bigint (20),
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_kgFace_view' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1016482324029657088', 'stat_kgFace_view', 'stat_kgFace', 'view', '查看', 'btn btn-xs btn-white | fa fa-eye bigger-120', '/stat/kgFace/view', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '3', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_sms' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1016552194196918272', 'stat_sms', 'stat', '', '短信统计', 'fa fa-comments', '/stat/sms/', '2', '2', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'KGFACE_RECORD' AND column_name = 'MSG' into @temp;
IF @temp = 0 then 
ALTER TABLE KGFACE_RECORD ADD  MSG varchar(500) NULL COMMENT '结果信息' ;
ALTER TABLE KGFACE_RECORD ADD  STATUS int(10) NULL  ;
ALTER TABLE KGFACE_RECORD ADD  REQPATH varchar(500) NULL  ;
ALTER TABLE KGFACE_RECORD ADD  RESPPATH varchar(500) NULL ;
ALTER TABLE KGFACE_RECORD ADD  ISUPLOAD int(1) NULL  ;
ALTER TABLE KGFACE_RECORD ADD  RESPCONTENTTYPE varchar(200) NULL ;
ALTER TABLE KGFACE_RECORD ADD  CONTENTTYPE varchar(200) NULL  ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'API_LOGSMS' into @temp;
IF @temp = 0 then 
CREATE TABLE API_LOGSMS (
ID bigint(24) NOT NULL ,
PHONENUM varchar(100) DEFAULT NULL,
VALIDATECODE varchar(1000) DEFAULT NULL,
TOKEN varchar(100) DEFAULT NULL,
CREATETIME datetime DEFAULT NULL,
STATUS varchar(10) DEFAULT NULL,
MSG varchar(500) DEFAULT NULL,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'REALSUBMITTYPE' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_RECORD  ADD COLUMN REALSUBMITTYPE  VARCHAR(20)  DEFAULT 'other'   COMMENT '签署方式: sms(短信验证)， face(人脸识别)，ukey(Ukey)，platform(平台证书)，other(其他)' AFTER RECORDTYPE;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'BINDPHONE' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_RECORD  ADD COLUMN BINDPHONE  VARCHAR(100)  DEFAULT '无'   COMMENT '绑定手机号' AFTER REALSUBMITTYPE;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'SMSCODE' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_RECORD  ADD COLUMN SMSCODE  VARCHAR(20)  DEFAULT '无'   COMMENT '短信验证码' AFTER BINDPHONE;
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'realsubmittype' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1017211516505554944','realsubmittype','-1',NULL,'签署方式【凭证下载】','签署方式【凭证下载】',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1017211677763960832','realsubmittype','sms','1017211516505554944','短信验证','短信验证',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1017211743014748160','realsubmittype','face','1017211516505554944','人脸识别','人脸识别',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1017211825290215424','realsubmittype','ukey','1017211516505554944','Ukey证书','Ukey证书',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1021304601124536320','realsubmittype','platform','1017211516505554944','平台证书','平台证书',0,0);
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1017211894781444096','realsubmittype','other','1017211516505554944','其他','其他',0,0);
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'SIGNER_DEMO_MODEL' INTO @temp ;
IF @temp = 0 then
CREATE TABLE SIGNER_DEMO_MODEL (
ID bigint(20) NOT NULL,
EVENTID varchar(64) DEFAULT NULL COMMENT '事件id',
SIGNERID varchar(64) DEFAULT NULL COMMENT '签署人id',
PHONE varchar(64) DEFAULT NULL COMMENT '签署人电话',
IDCODE varchar(64) DEFAULT NULL COMMENT '签署人身份证号',
SIGNERNAME varchar(64) DEFAULT NULL COMMENT '签署人姓名',
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'contractStatus' and NUM = '1024' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1019503812034973696', 'contractStatus', '1024', '870442077001875456', '草稿', '草稿', '0', '0');
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'TPL_DOC_ANALYSIS' INTO @temp ;
IF @temp = 0 then
CREATE TABLE TPL_DOC_ANALYSIS (
ID bigint(24) NOT NULL,
TPLDOCID bigint(24) DEFAULT NULL,
DOCKEY varchar(255) DEFAULT NULL,
POS text,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CNT_DOC_ANALYSIS' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CNT_DOC_ANALYSIS (
ID bigint(24) NOT NULL,
TPLDOCID bigint(24) DEFAULT NULL,
DOCKEY varchar(255) DEFAULT NULL,
POS text,
DOCID bigint(24) DEFAULT NULL,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CNT_DOC_EXT' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CNT_DOC_EXT (
ID bigint(24) NOT NULL COMMENT '文档ID',
METADATA mediumtext COMMENT '发起合同的metadata信息',
NEWMETADATA mediumtext COMMENT '确认页面填写的metadata信息',
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
/*菜单：模板管理，禁用*/
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'template_ban' into @temp; 
IF @temp = 0 then 
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1019027949640220672', 'template_ban', 'template', 'frozen', '禁用', 'btn btn-xs btn-white | fa fa-ban  bigger-120', '/tpl/info/ban', '5', '3', null, null, '800*520', '1', '0', null, '0', null, null);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SIGNER' AND column_name = 'ALIAS' into @temp;
IF @temp = 0 then 
ALTER TABLE CRM_SIGNER  ADD COLUMN ALIAS varchar(255)  ;
END IF ;
/*印章表增加显示高度字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SEAL' AND column_name = 'SHOWHEIGHT' into @temp;
IF @temp = 0 then 
ALTER TABLE CRM_SEAL ADD COLUMN SHOWHEIGHT decimal(5,2) DEFAULT NULL   COMMENT '显示高度' ;
END IF ;
/*印章表增加显示宽度字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SEAL' AND column_name = 'SHOWWIDTH' into @temp;
IF @temp = 0 then 
ALTER TABLE CRM_SEAL ADD COLUMN SHOWWIDTH decimal(5,2) DEFAULT NULL   COMMENT '显示宽度' ;
END IF ;
UPDATE CRM_SEAL t SET t.SHOWHEIGHT = CONCAT(t.HEIGHT * t.GEOMETRIC * 2.54 / 96) WHERE t.SHOWHEIGHT IS NULL;
UPDATE CRM_SEAL t SET t.SHOWWIDTH = CONCAT(t.WIDTH * t.GEOMETRIC * 2.54 / 96) WHERE t.SHOWWIDTH IS NULL;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_DOC' AND column_name = 'ANALYSIS' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_DOC ADD COLUMN ANALYSIS  int(8) DEFAULT '-1'   COMMENT '模板解析' ;
END IF ;
/*应用表中增加应用权限字典*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'APP_INFO' AND column_name = 'APPCONFIG' into @temp;
IF @temp = 0 then 
ALTER TABLE APP_INFO  ADD COLUMN APPCONFIG text   COMMENT '应用权限设置';
END IF ;
/*日志新增响应结果字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_INVOKE_API_LOG' AND column_name = 'RESPRESULT' INTO @temp;
IF @temp = 0 THEN 
ALTER TABLE TFW_INVOKE_API_LOG  ADD COLUMN RESPRESULT LONGTEXT   COMMENT '响应结果';
END IF ;
SELECT COUNT(1) FROM TFW_PARAMETER WHERE ID = '891932441806110720' into @temp; 
IF @temp = 1 then 
UPDATE TFW_PARAMETER SET CODE = 'cloud_evidence' WHERE ID ='891932441806110720';
END IF ;
/*参数表添加"默认允许下载合同"*/
SELECT COUNT(1) FROM TFW_PARAMETER WHERE CODE = 'contract_page_candown' into @temp;
IF @temp = 0 then
insert into TFW_PARAMETER (ID, CODE, NUM, NAME, PARA, TIPS, STATUS, VERSION) values('1044491816230998016','contract_page_candown',NULL,'默认允许下载合同','1','1  是    0   否','1','2');
END IF ;
SELECT COUNT(1) FROM TFW_PARAMETER WHERE CODE = 'cloud_tosignapi_url' into @temp;
IF @temp = 0 then
insert into TFW_PARAMETER (ID, CODE, NUM, NAME, PARA, TIPS, STATUS, VERSION) values(1044491816230998017,'cloud_tosignapi_url',NULL,'信签云接口地址','https://service.tosign.cn/tosign','','1','2');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_INFO' AND column_name = 'NAME' into @temp;
IF @temp = 1 then 
alter table CNT_INFO  modify column NAME varchar(512);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_SIGNER_MSG' AND column_name = 'SHORTCODE' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_SIGNER_MSG  ADD COLUMN SHORTCODE varchar(8) COMMENT '短信签署标识';
ALTER TABLE CNT_SIGNER_MSG ADD  INDEX CNT_SIGNER_MSG_SHORTCDOE (SHORTCODE);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_SIGNER_MSG' AND column_name = 'PARAMS' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_SIGNER_MSG  ADD COLUMN PARAMS text COMMENT '短信签署参数';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_INFO' AND column_name = 'ERRCODE' INTO @temp;
IF @temp = 0 THEN 
ALTER TABLE CNT_INFO  ADD COLUMN ERRCODE int(10) DEFAULT 1 COMMENT '签署失败编码' ;
END IF ;  	
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_ATTACH' AND column_name = 'DOCID' INTO @temp;
IF @temp = 0 THEN 
ALTER TABLE TFW_ATTACH  ADD COLUMN DOCID bigint(20) DEFAULT null COMMENT '附件对应和的合同文档id' ;
END IF ;  	
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_SIGNATURE' AND column_name = 'WIDTH' INTO @temp;
IF @temp = 0 THEN 
ALTER TABLE CNT_SIGNATURE  ADD COLUMN WIDTH double DEFAULT null COMMENT '签章实际盖章为宽度' ;
END IF ;  	
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_SIGNATURE' AND column_name = 'HEIGHT' INTO @temp;
IF @temp = 0 THEN 
ALTER TABLE CNT_SIGNATURE  ADD COLUMN HEIGHT double DEFAULT null COMMENT '签章实际盖章为高度' ;
END IF ;  	
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'REAL_FACE_RECORD' INTO @temp ;
IF @temp = 0 then
CREATE TABLE REAL_FACE_RECORD (
ID bigint(24) NOT NULL,
BIZID varchar(100) DEFAULT NULL COMMENT '业务编号',
NAME varchar(100) DEFAULT NULL COMMENT '姓名',
IDCODE varchar(100) DEFAULT NULL COMMENT '身份证号',
URL varchar(500) COMMENT '回调地址',
APPID varchar(100) COMMENT '应用编码',
PARAMS text COMMENT '验证参数',
STATUS varchar(10) DEFAULT NULL COMMENT '是否成功',
CREATETIME datetime DEFAULT NULL COMMENT '时间',
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
ALTER TABLE REAL_FACE_RECORD ADD UNIQUE INDEX REAL_FACE_RECORD_ID_UNIQUE (ID ASC) ;
ALTER TABLE REAL_FACE_RECORD ADD UNIQUE INDEX REAL_FACE_RECORD_BIZID (BIZID);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'BIZREMARK' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_RECORD  ADD COLUMN BIZREMARK  VARCHAR(512)  DEFAULT NULL   COMMENT '业务系统备注' ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_DOCMETA' AND column_name = 'METADATA' into @temp;
IF @temp = 1 then 
alter table TPL_DOCMETA  modify column METADATA mediumtext default null;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_SIGNATURE' AND column_name = 'NAME' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_SIGNATURE  ADD COLUMN NAME VARCHAR(300) default null ;
END IF ;
SELECT COUNT(1) FROM information_schema.STATISTICS WHERE table_schema = @dataBaseName and table_name = 'TPL_DOCMETA' and index_name='INDEX_TPL_DOCMETA_METATYPE' INTO @temp ;
IF @temp = 0 then
ALTER TABLE TPL_DOCMETA ADD  INDEX INDEX_TPL_DOCMETA_METATYPE (METATYPE);
END IF ;
SELECT COUNT(1) FROM information_schema.STATISTICS WHERE table_schema = @dataBaseName and table_name = 'TPL_DOCMETA' and index_name='DOCID' INTO @temp ;
IF @temp = 0 then
ALTER TABLE TPL_DOCMETA ADD  INDEX INDEX_TPL_DOCMETA_DOCID (DOCID);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'APP_INFO' AND column_name = 'JSURLS' into @temp;
IF @temp = 0 then 
ALTER TABLE APP_INFO  ADD COLUMN JSURLS VARCHAR(500) default null ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'APP_INFO' AND column_name = 'CSSURLS' into @temp;
IF @temp = 0 then 
ALTER TABLE APP_INFO  ADD COLUMN CSSURLS VARCHAR(500) default null ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.STATISTICS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'LOG_SEAL_USE' AND column_name = 'APPID' into @temp;
IF @temp = 0 then 
ALTER TABLE LOG_SEAL_USE ADD  INDEX LOGSU_APPID_I (APPID);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.STATISTICS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'LOG_SEAL_USE' AND column_name = 'SIGNERID' into @temp;
IF @temp = 0 then 
ALTER TABLE LOG_SEAL_USE ADD  INDEX LOGSU_SIGNERID_I (SIGNERID);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.STATISTICS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'LOG_SEAL_USE' AND column_name = 'SEALID' into @temp;
IF @temp = 0 then 
ALTER TABLE LOG_SEAL_USE ADD  INDEX LOGSU_SEALID_I (SEALID);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.STATISTICS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'LOG_SEAL_USE' AND column_name = 'BIZID' into @temp;
IF @temp = 0 then 
ALTER TABLE LOG_SEAL_USE ADD  INDEX LOGSU_BIZID_I (BIZID);
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'contractStatus' and NUM = '6' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1069425979228704768', 'contractStatus', '6', '870442077001875456', '保存签章', '保存签章', '0', '0');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'KGFACE_RECORD' AND column_name = 'HEADERS' into @temp;
IF @temp = 0 then 
ALTER TABLE KGFACE_RECORD ADD  HEADERS text NULL ;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'APP_PARAM' INTO @temp ;
IF @temp = 0 then
CREATE TABLE APP_PARAM (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL,
APPTYPE varchar(255) DEFAULT NULL,
APPKEY varchar(255) DEFAULT NULL,
APPVAL varchar(1024) DEFAULT NULL,
PRIMARY KEY (ID),
KEY INX_APPTYPE (APPTYPE) ,
KEY INX_APPID (APPID) ,
KEY INX_APPKEY (APPKEY) 
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'appInfo_param' into @temp; 
IF @temp = 0 then 
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1072294938823118848', 'appInfo_param', 'appInfo', 'edit', '参数设置', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/app/param', '4', '3', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'signer_export' into @temp; 
IF @temp = 0 then 
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1072686566154981376','signer_export','signer','export','导出','btn btn-xs btn-white | fa fa-floppy-o bigger-120','/crm/signer/export','9','3',NULL,NULL,'800*520','1','0',NULL,'0','','');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'seal_export' into @temp; 
IF @temp = 0 then 
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1074469339404455936','seal_export','seal_manage','export','导出','btn btn-xs btn-white | fa fa-floppy-o bigger-120','/crm/seal/export','6','3',NULL,NULL,'800*520','1','0',NULL,'0','','');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'cert_export' into @temp; 
IF @temp = 0 then 
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1074485795873640448','cert_export','cert_manage','export','导出','btn btn-xs btn-white | fa fa-floppy-o bigger-120','/crm/cert/export','5','3',NULL,NULL,'800*520','1','0',NULL,'0','','');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_DOC' AND column_name = 'PAGE' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_DOC ADD COLUMN PAGE  int(4) DEFAULT '1'   COMMENT '页码' ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_CERT' AND column_name = 'CREATETIME' INTO @temp;
IF @temp = 0 THEN 
ALTER TABLE CRM_CERT ADD COLUMN CREATETIME DATETIME DEFAULT NULL  COMMENT '证书创建时间' ;
UPDATE CRM_CERT SET CREATETIME=STARTTIME;
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'vstpl' into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('22000', 'vstpl', 'cont', '', '模板管理', 'fa fa-file', '/vstpl', '4', '2', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'vstpl_add' into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('22004', 'vstpl_add', 'vstpl', 'add', '新增模板', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/vstpl/add', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'vstpl_remove' into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('22007', 'vstpl_remove', 'vstpl', 'remove', '模板删除', 'btn btn-xs btn-white | fa fa-times  bigger-120', '/vstpl/remove', '5', '3', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'vstpl_enable' into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('22008', 'vstpl_enable', 'vstpl', 'frozen', '启用', 'btn btn-xs btn-white | fa fa-check  bigger-120', '/vstpl/enable', '3', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'vstpl_ban' into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('22009', 'vstpl_ban', 'vstpl', 'frozen', '禁用', 'btn btn-xs btn-white | fa fa-ban  bigger-120', '/vstpl/ban', '4', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'vstpl_edit' into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('12000', 'vstpl_edit', 'vstpl', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/vstpl/edit', '2', '3', NULL, NULL, '800*520', '1', '0', NULL, '3', '', '');
END IF ;
UPDATE TFW_RELATION set MENUID = 22000 where MENUID = 20000;
UPDATE TFW_RELATION set MENUID = 22004 where MENUID = 20004;
UPDATE TFW_RELATION set MENUID = 22007 where MENUID = 20007;
UPDATE TFW_RELATION set MENUID = 12000 where MENUID = 10000;
UPDATE TFW_RELATION set MENUID = 22008 where MENUID = 989746923218927616;
UPDATE TFW_RELATION set MENUID = 22009 where MENUID = 1019027949640220672;
SELECT COUNT(1) FROM TFW_RELATION WHERE MENUID = 22008 and ROLEID = 1 into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES (220081 , 22008 , 1);
END IF ;
SELECT COUNT(1) FROM TFW_RELATION WHERE MENUID = 22008 and ROLEID = 2 into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES (220082 , 22008 , 2);
END IF ;
SELECT COUNT(1) FROM TFW_RELATION WHERE MENUID = 22009 and ROLEID = 1 into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES (220092 , 22009 , 1);
END IF ;
SELECT COUNT(1) FROM TFW_RELATION WHERE MENUID = 22009 and ROLEID = 2 into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_RELATION (ID, MENUID, ROLEID) VALUES (220093 , 22009 , 2);
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_DOC_EXT' AND column_name = 'TABLEINFO' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_DOC_EXT  ADD COLUMN TABLEINFO mediumtext   COMMENT '应用权限设置';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_DOC_EXT' AND column_name = 'TABLEMETADATA' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_DOC_EXT  ADD COLUMN TABLEMETADATA mediumtext   COMMENT '应用权限设置';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_DOC_ANALYSIS' AND column_name = 'KEYTYPE' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_DOC_ANALYSIS ADD COLUMN KEYTYPE  int(4) DEFAULT '1' ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_DOC_ANALYSIS' AND column_name = 'TABLENAME' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_DOC_ANALYSIS  ADD COLUMN TABLENAME varchar(200) NULL ;
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_cert' into @temp; 
IF @temp = 0 then	
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1074917893096886272','stat_cert','stat','','证书统计','fa fa-book','/stat/cert/','3','2',NULL,NULL,'800*520','1','0',NULL,'1','','');
END IF ;
SELECT COUNT(1) FROM TFW_PARAMETER WHERE CODE = 'cloud_cert_url' into @temp; 
IF @temp = 0 then	
insert into TFW_PARAMETER (ID, CODE, NUM, NAME, PARA, TIPS, STATUS, VERSION) values('1077444527037370369','cloud_cert_url',NULL,'证书服务地址','https://service.tosign.cn/iCAService','','1','0');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_INFO' AND column_name = 'TPLTYPE' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_INFO ADD COLUMN TPLTYPE  int(1) DEFAULT '1' ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_SIGNER_MSG' AND column_name = 'VALIDITY' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_SIGNER_MSG ADD COLUMN VALIDITY  INT(10) DEFAULT 0 ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_INFO' AND column_name = 'TPLTYPE' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_INFO ADD COLUMN TPLTYPE  INT(2) DEFAULT 1 ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_DOC' AND column_name = 'SOURCETYPE' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_DOC ADD COLUMN SOURCETYPE  INT(2) DEFAULT 1 ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_DOC' AND column_name = 'PARENTDOCIDS' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_DOC ADD COLUMN PARENTDOCIDS  varchar(512) DEFAULT NULL ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_DOC' AND column_name = 'UPLOADED' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_DOC ADD COLUMN UPLOADED  INT(2) DEFAULT 0 ;
UPDATE TPL_DOC SET UPLOADED = 1  WHERE LENGTH(FILENAME)>0;
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE ID = '23001' into @temp;
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('23007', 'gtpl_remove', 'gtpl', 'remove', '删除', 'btn btn-xs btn-white | fa fa-times  bigger-120', '/gtpl/remove', '5', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('23008', 'gtpl_enable', 'gtpl', 'frozen', '启用', 'btn btn-xs btn-white | fa fa-check  bigger-120', '/gtpl/enable', '3', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('23010', 'gtpl_edit', 'gtpl', 'edit', '修改', 'btn btn-xs btn-white | fa fa-pencil  bigger-120', '/gtpl/edit', '2', '3', NULL, NULL, '800*520', '1', '0', NULL, '3', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('23009', 'gtpl_ban', 'gtpl', 'frozen', '禁用', 'btn btn-xs btn-white | fa fa-ban  bigger-120', '/gtpl/ban', '4', '3', NULL, NULL, '800*520', '1', '0', NULL, '2', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('23004', 'gtpl_add', 'gtpl', 'add', '新增模板', 'btn btn-xs btn-white | fa fa-floppy-o bigger-120', '/gtpl/add', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('23001', 'gtpl', 'cont', '', '模板组合管理', 'fa fa-file', '/gtpl/info', '2', '2', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_SIGNATURE' AND column_name = 'QFZEND' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_SIGNATURE  ADD COLUMN QFZEND int(4) default NULL ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SEAL' AND column_name = 'DEPTID' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_SEAL  ADD COLUMN DEPTID bigint(20) NULL   COMMENT '部门ID' ;
END IF ;
SELECT COUNT(1) FROM CRM_SEAL WHERE DEPTID IS NULL into @temp;
IF @temp > 0 then
UPDATE CRM_SEAL a INNER JOIN CRM_SIGNER b SET a.DEPTID = b.DEPTID WHERE a.SIGNERID =  b.ID;
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'contractStatus' and NUM = '7' into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('870444190100619214', 'contractStatus', '7', '870442077001875456', '拒绝', '', '2', '0');
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CNT_RECORD_FACE' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CNT_RECORD_FACE (
ID bigint(24) NOT NULL,
FACEID varchar(64) DEFAULT NULL,
CNTID bigint(24) DEFAULT NULL,
CONTRACTID varchar(255) DEFAULT NULL,
RECORDID bigint(24) DEFAULT NULL,
RESULTDATA mediumtext,
TYPE int(4) DEFAULT NULL,
DOWNLOAD int(4) DEFAULT NULL,
CREATETIME datetime DEFAULT NULL,
UPDATETIME datetime DEFAULT NULL,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'realsubmittype' and NUM = 'realFaceCheck' into @temp; 
IF @temp = 0 then	
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1083278620866138112', 'realsubmittype', 'realFaceCheck', '1017211516505554944', '刷脸签署', '刷脸签署', '2', '0');
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'metatype' and NUM = '5' into @temp; 
IF @temp = 0 then	
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1099929289870036992','metatype','5','885680241836556288','光学防伪','','0','0');
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'metatype' and NUM = '4' into @temp; 
IF @temp = 0 then	
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1099929235176312832','metatype','4','885680241836556288','密度水印','','0','0');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'KGFACE_RECORD' AND column_name = 'CKNAME' into @temp;
IF @temp = 0 then
ALTER TABLE KGFACE_RECORD ADD COLUMN CKNAME  varchar(255) DEFAULT NULL  COMMENT '检测人姓名';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SEAL' AND column_name = 'LICENSENO' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_SEAL ADD COLUMN LICENSENO  varchar(100) DEFAULT NULL  COMMENT '企业圆章下玄月文字';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'REALCERTTYPE' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_RECORD  ADD COLUMN REALCERTTYPE  VARCHAR(20)  DEFAULT 'other' ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'SYNC' into @temp;
IF @temp = 0  then
ALTER TABLE CNT_RECORD  ADD COLUMN SYNC int(4) DEFAULT 0 COMMENT '同步' ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'APPID' into @temp;
IF @temp = 0  then
ALTER TABLE CNT_RECORD  ADD COLUMN APPID bigint(24) DEFAULT null  ;
UPDATE CNT_RECORD a INNER JOIN CNT_INFO b SET a.APPID = b.APPID WHERE a.APPID is null and a.CNTID =  b.ID;
END IF ;
SELECT COUNT(1) FROM TFW_PARAMETER WHERE CODE in ('cloud_cert_person_url','cloud_cert_enterprise_url','cloud_constact_sync_url','cloud_register_url','cloud_tsa_url','cloud_evidence_query_url','cloud_evidence_url','cloud_checkRealName_url','cloud_sms_url','tosign_kgface_url','cloud_checkRealNameById_url','cloud_csr_cert_url','cloud_enterpriseRealCheck_url','cloud_enterpriseCheckApply_url','cloud_enterpriseCheck_url','cloud_enterpriseInfo_url','cloud_sms_content_url') into @temp;
IF @temp >0 then
delete from TFW_PARAMETER where CODE in('cloud_cert_person_url','cloud_cert_enterprise_url','cloud_constact_sync_url','cloud_register_url','cloud_tsa_url','cloud_evidence_query_url','cloud_evidence_url','cloud_checkRealName_url','cloud_sms_url','tosign_kgface_url','cloud_checkRealNameById_url','cloud_csr_cert_url','cloud_enterpriseRealCheck_url','cloud_enterpriseCheckApply_url','cloud_enterpriseCheck_url','cloud_enterpriseInfo_url','cloud_sms_content_url'); 
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'TPL_TYPE' INTO @temp ;
IF @temp = 0 then
CREATE TABLE TPL_TYPE (
ID bigint(20) NOT NULL COMMENT 'ID',
CODE varchar(100) DEFAULT NULL COMMENT '机构编号',
NAME varchar(300) DEFAULT NULL COMMENT '简称',
PID bigint(20) DEFAULT NULL COMMENT '父机构ID',
APPID bigint(24) NOT NULL COMMENT '所属业务系统',
TIPS varchar(255) DEFAULT NULL COMMENT '备注',
FAKEID varchar(80) DEFAULT NULL COMMENT '伪编码',
SEQ int(11) DEFAULT NULL COMMENT '同级序号',
STATUS int(1) DEFAULT '1' COMMENT '是否启用/禁用',
PRIMARY KEY (ID),
KEY FAKEID (FAKEID),
KEY PID (PID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'TPL_VARIABLE_GROUP' INTO @temp ;
IF @temp = 0 then
CREATE TABLE TPL_VARIABLE_GROUP (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '接入方ID',
CODE varchar(200) DEFAULT NULL COMMENT '业务数集编号',
NAME varchar(200) DEFAULT NULL COMMENT '业务数集名称',
STATUS int(4) DEFAULT NULL ,
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
UPDATETIME datetime DEFAULT NULL COMMENT '更新时间',
PRIMARY KEY (ID),
KEY APPID (APPID),
KEY CODE (CODE)
)  ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'TFW_TSBLOB' INTO @temp ;
IF @temp = 0 then
CREATE TABLE TFW_TSBLOB (
ID bigint(24) NOT NULL,
BID varchar(64) NOT NULL,
NAME varchar(125) DEFAULT NULL,
CONTENT mediumtext,
PRIMARY KEY (ID),
KEY KEY_TFW_TSBLOB_BID (BID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'TPL_VARIABLE' INTO @temp ;
IF @temp = 0 then
CREATE TABLE TPL_VARIABLE (
ID bigint(24) NOT NULL,
VARCODE varchar(200) DEFAULT NULL COMMENT '英文名',
GROUPID bigint(24) DEFAULT NULL COMMENT '数集ID',
VARNAME varchar(200) DEFAULT NULL COMMENT '中文名',
VARTYPE INT(4) DEFAULT NULL COMMENT '字段名称',
STATUS INT(4) DEFAULT NULL COMMENT '状态',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
UPDATETIME datetime DEFAULT NULL COMMENT '更新时间',
PRIMARY KEY (ID),
KEY VARCODE (VARCODE),
KEY VARNAME (VARNAME)
)  ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'APP_VERIFYIP' INTO @temp ;
IF @temp = 0 then
CREATE TABLE APP_VERIFYIP (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
SERVERIP varchar(200) DEFAULT NULL COMMENT '请求服务器IP',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
PRIMARY KEY (ID),
KEY SERVERIP (SERVERIP),
KEY APPID (APPID)
)  ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_INFO' AND column_name = 'APPID' into @temp;
IF @temp = 0  then
ALTER TABLE TPL_INFO  ADD COLUMN APPID bigint(24) DEFAULT null  ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_INFO' AND column_name = 'TYPEID' into @temp;
IF @temp = 0  then
ALTER TABLE TPL_INFO  ADD COLUMN TYPEID bigint(24) DEFAULT null  ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_INFO' AND column_name = 'VER' into @temp;
IF @temp = 0  then
ALTER TABLE TPL_INFO  ADD COLUMN VER varchar(50) DEFAULT null  ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_TYPE' AND column_name = 'DELETED' into @temp;
IF @temp = 0  then
ALTER TABLE TPL_TYPE ADD COLUMN DELETED int(5) DEFAULT '0' COMMENT '是否删除'  ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_DEPT' AND column_name = 'PCODE' into @temp;
IF @temp = 0  then
ALTER TABLE TFW_DEPT ADD COLUMN PCODE varchar(100) DEFAULT NULL COMMENT '父级机构编码'  ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_DOC_ANALYSIS' AND column_name = 'DOCTEXT' into @temp;
IF @temp = 0  then
ALTER TABLE CNT_DOC_ANALYSIS ADD COLUMN DOCTEXT varchar(200) DEFAULT null COMMENT '显示名称'  ;
END IF ;
SELECT COUNT(1) FROM SYS_META WHERE CODE = 'client_inited' into @temp; 
IF @temp = 0 then	
INSERT INTO SYS_META(ID, CODE, NUM, NAME, PARA, TIPS, STATUS) VALUES ('1108697697210093568', 'client_inited', '100', NULL, 'false', 'client_inited', '1');
END IF ;
SELECT COUNT(1) FROM SYS_META WHERE CODE = 'client_key' into @temp; 
IF @temp = 0 then	
INSERT INTO SYS_META(ID, CODE, NUM, NAME, PARA, TIPS, STATUS) VALUES ('1108697697025544192', 'client_key', '100', null, '7X18JDaya3q1zugU', 'client_key', '1');
END IF ;
SELECT COUNT(1) FROM SYS_META WHERE CODE = 'client_id' into @temp; 
IF @temp = 0 then	
INSERT INTO SYS_META(ID, CODE, NUM, NAME, PARA, TIPS, STATUS) VALUES ('1108697697122013184', 'client_id', '100', null, 'private_client_id', 'client_id', '1');
END IF ;
SELECT COUNT(1) FROM SYS_META WHERE CODE = 'client_security_key' into @temp; 
IF @temp = 0 then	
INSERT INTO SYS_META(ID, CODE, NUM, NAME, PARA, TIPS, STATUS) VALUES ('1108697697163956224', 'client_security_key', '100', null, '7X18JDaya3q1zugU', 'client_security_key', '1');
END IF ;
SELECT COUNT(1) FROM SYS_META WHERE CODE = 'interface_auth_type' into @temp; 
IF @temp = 0 then	
INSERT INTO SYS_META(ID, CODE, NUM, NAME, PARA, TIPS, STATUS) VALUES ('1108697697122013185', 'interface_auth_type', '100', null, '1', 'interface_auth_type', '1');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_INFO' AND column_name = 'TPLTYPE' into @temp;
IF @temp = 1  then
ALTER TABLE TPL_INFO MODIFY COLUMN TPLTYPE  int(4) NULL DEFAULT 1 ;
END IF ;
SELECT COUNT(1) FROM TFW_PARAMETER WHERE CODE = 'contract_page_candown' into @temp;
IF @temp = 0 then
INSERT INTO TFW_PARAMETER (ID, CODE, NUM, NAME, PARA, TIPS, STATUS, VERSION) VALUES ('1044491816230998016', 'contract_page_candown', NULL, '默认允许下载合同', '0', '1  是    0   否', '1', '3');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_USER' AND column_name = 'KEYSN' into @temp;
IF @temp = 0 then
ALTER TABLE TFW_USER ADD COLUMN KEYSN varchar(255) NULL;
END IF ;
/*模板表新增状态字段*/
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_INFO' AND column_name = 'REQUESTID' into @temp;
IF @temp = 0 then 
ALTER TABLE TPL_INFO  ADD COLUMN REQUESTID varchar(50) DEFAULT null COMMENT '工作流实例号';
END IF ;
-- 新增字段区分内部用户/外部用户
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SIGNER' AND column_name = 'GENRE' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_SIGNER  ADD COLUMN GENRE int(4) DEFAULT 1 COMMENT '内部用户:1  外部用户:2' ;
END IF ;
-- 企业联系人名称
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SIGNER' AND column_name = 'CONTACT' into @temp;
IF @temp = 0 then 
ALTER TABLE CRM_SIGNER  ADD COLUMN CONTACT varchar(128) DEFAULT null COMMENT '企业联系人名称';
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'tplstatus' and num=5 into @temp;
IF @temp = 0 then
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1126311589176168448','tplstatus','5','989759596874694656','禁用','','0','0');
END IF ;
-- 新增 中心图案 字典管理 (五角星，党徽)
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'centerImg' into @temp; 
IF @temp = 0 then	
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1131119943383797760','centerImg','2','1131119675640401920','党徽','','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1131119763645288448','centerImg','1','1131119675640401920','五角星','','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1131119675640401920','centerImg','0',NULL,'印章中心图案','','0','0');
END IF ;
-- 签章样式字典管理 新增 (椭圆章)
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'sealForm' AND NUM = '3' into @temp; 
IF @temp = 0 then	
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1131107860860653568','sealForm','3','961783609591595008','椭圆章','','0','0');
END IF ;
-- 签章样式字典管理 新增 (菱形章)
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'sealForm' AND NUM = '4' into @temp; 
IF @temp = 0 then	
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1131396497338814464','sealForm','4','961783609591595008','菱形章','','0','0');
END IF ;
-- 接入方管理增加按钮
SELECT (1) FROM TFW_MENU WHERE CODE = 'appInfo_ipgl' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1133670103808757760', 'appInfo_ipgl', 'appInfo', 'edit', 'IP管理', 'btn btn-xs btn-white | fa fa-wrench  bigger-120', '/app/ipgl', '7', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM CRM_SIGNER WHERE CERTID IS NULL into @temp; 
IF @temp > 0 then	
UPDATE CRM_SIGNER SET CERTID = 0 where CERTID is null;
END IF ;
-- 新增SM2证书方式
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'sm2CertType' into @temp; 
IF @temp = 0 then	
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1125283382113095680','sm2CertType','0',NULL,'SM2证书方式','0','0','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1125283488988155904','sm2CertType','11','1125283382113095680','SM2BC','SM2BC','2','0');
insert into TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) values('1125283488988155905','sm2CertType','100','1125283382113095680','加密机','加密机','2','0');
END IF ;
-- SM2证书管理
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'sm2cert_manage' into @temp; 
IF @temp = 0 then
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1125271907336212480','sm2cert_manage','cert','','SM2证书管理','fa fa-book','/crm/sm2cert','7','2',NULL,NULL,'800*520','1','0',NULL,'0','','');
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1125273557375406080','sm2cert_create','sm2cert_manage','add','创建','btn btn-xs btn-white | fa fa-floppy-o bigger-120','/crm/sm2cert/create','1','3',NULL,NULL,'800*520','1','0',NULL,'0','','');
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1125273742222577664','sm2cert_view','sm2cert_manage','view','查看','btn btn-xs btn-white | fa fa-eye bigger-120','/crm/sm2cert/view','2','3',NULL,NULL,'800*520','1','0',NULL,'1','','');
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1125274567070208000','sm2cert_revoke','sm2cert_manage','frozen','吊销','btn btn-xs btn-white | fa fa-ban  bigger-120','/crm/sm2cert/revoke','3','3',NULL,NULL,'800*520','1','0',NULL,'1','','');
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1125275013788749824','sm2cert_download','sm2cert_manage','downLoad','下载','btn btn-xs btn-white | fa fa-floppy-o bigger-120','/crm/sm2cert/cerdown','4','3',NULL,NULL,'800*520','1','0',NULL,'0','','');
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1125275292458307584','sm2cert_export','sm2cert_manage','export','导出','btn btn-xs btn-white | fa fa-floppy-o bigger-120','/crm/sm2cert/export','5','3',NULL,NULL,'800*520','1','0',NULL,'0','','');
END IF ;
-- 接入方管理增加合同设置按钮
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'appInfo_htymsz' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1135827084837408768', 'appInfo_htymsz', 'appInfo', 'edit', '合同页面设置', 'btn btn-xs btn-white | fa fa-wrench  bigger-120', '/app/htymsz', '8', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'APP_INFO' AND column_name = 'VERIFYIP' into @temp;
IF @temp = 0 then 
ALTER TABLE APP_INFO  ADD COLUMN VERIFYIP int(2) DEFAULT null COMMENT 'IP是否限制';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'KGFACE_RECORD' AND column_name = 'APPID' into @temp;
IF @temp = 0 then 
ALTER TABLE KGFACE_RECORD  ADD COLUMN APPID bigint(24) DEFAULT null COMMENT '应用id';
END IF ;
-- 签署用户表新增 模板名称字段
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SIGNER' AND column_name = 'CERTTPL' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_SIGNER ADD COLUMN CERTTPL VARCHAR(255) NULL  COMMENT '证书模板名称' ;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_TSA' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_TSA (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
APPCODE varchar(100) DEFAULT NULL COMMENT '应用编号',
APPNAME varchar(100) DEFAULT NULL COMMENT '应用名称',
CNTID bigint(24) DEFAULT NULL COMMENT '合同ID',
CONTRACTID varchar(100) DEFAULT NULL COMMENT '合同编号',
CONTRACTNAME varchar(100) DEFAULT NULL COMMENT '合同名称',
SIGNERID bigint(24) DEFAULT NULL COMMENT '签署人ID',
SIGNERCODE varchar(100) DEFAULT NULL COMMENT '签署人编码',
SIGNERNAME varchar(100) DEFAULT NULL COMMENT '签署人姓名',
INVOKEURL varchar(100) DEFAULT NULL COMMENT '请求接口',
DEPTID bigint(24) DEFAULT NULL COMMENT '部门ID',
STATUS int(10) DEFAULT NULL COMMENT '状态',
MSG varchar(200) DEFAULT NULL COMMENT '返回信息',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
PRIMARY KEY (ID)
)  ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_PERSON_AUTH' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_PERSON_AUTH (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
APPCODE varchar(100) DEFAULT NULL COMMENT '应用编号',
APPNAME varchar(100) DEFAULT NULL COMMENT '应用名称',
INVOKEURL varchar(100) DEFAULT NULL COMMENT '请求接口',
DEPTID bigint(24) DEFAULT NULL COMMENT '部门ID',
STATUS int(10) DEFAULT NULL COMMENT '状态',
MSG varchar(200) DEFAULT NULL COMMENT '返回信息',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
AUTHTYPE int(4) DEFAULT NULL COMMENT '认证类型',
USERNAME varchar(100) DEFAULT NULL COMMENT '用户名称',
IDTYPE varchar(4) DEFAULT NULL COMMENT '证件类型',
IDCODE  varchar(100) DEFAULT NULL COMMENT '证件编号',
PHONE varchar(100) DEFAULT NULL COMMENT '手机号',
BANKCARD varchar(100) DEFAULT NULL COMMENT '银行卡号',
PRIMARY KEY (ID)
)  ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_COM_AUTH' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_COM_AUTH (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
APPCODE varchar(100) DEFAULT NULL COMMENT '应用编号',
APPNAME varchar(100) DEFAULT NULL COMMENT '应用名称',
INVOKEURL varchar(100) DEFAULT NULL COMMENT '请求接口',
DEPTID bigint(24) DEFAULT NULL COMMENT '部门ID',
STATUS int(10) DEFAULT NULL COMMENT '状态',
MSG varchar(200) DEFAULT NULL COMMENT '返回信息',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
AUTHTYPE int(4) DEFAULT NULL COMMENT '认证类型',
USERNAME varchar(100) DEFAULT NULL COMMENT '法人名称',
IDTYPE varchar(4) DEFAULT NULL COMMENT '证件类型',
IDCODE  varchar(100) DEFAULT NULL COMMENT '证件编号',
ORGTYPE varchar(100) DEFAULT NULL COMMENT '企业识别号类型',
ORGCODE varchar(100) DEFAULT NULL COMMENT '企业识别号',
ORGNAME varchar(100) DEFAULT NULL COMMENT '企业名称',
PRIMARY KEY (ID)
)  ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_EVIDENCE' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_EVIDENCE (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
APPCODE varchar(100) DEFAULT NULL COMMENT '应用编号',
APPNAME varchar(100) DEFAULT NULL COMMENT '应用名称',
INVOKEURL varchar(100) DEFAULT NULL COMMENT '请求接口',
DEPTID bigint(24) DEFAULT NULL COMMENT '部门ID',
STATUS int(10) DEFAULT NULL COMMENT '状态',
MSG varchar(200) DEFAULT NULL COMMENT '返回信息',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
CNTID bigint(24) DEFAULT NULL COMMENT '合同ID',
CONTRACTID varchar(100) DEFAULT NULL COMMENT '合同编号',
CONTRACTNAME varchar(100) DEFAULT NULL COMMENT '合同名称',
DOCID bigint(24) DEFAULT NULL COMMENT '文档ID',
DOCCODE  varchar(100) DEFAULT NULL COMMENT '文档编码',
DOCNAME  varchar(100) DEFAULT NULL COMMENT '文档名称',
PRIMARY KEY (ID)
)  ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_NOTARY' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_NOTARY (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
APPCODE varchar(100) DEFAULT NULL COMMENT '应用编号',
APPNAME varchar(100) DEFAULT NULL COMMENT '应用名称',
INVOKEURL varchar(100) DEFAULT NULL COMMENT '请求接口',
DEPTID bigint(24) DEFAULT NULL COMMENT '部门ID',
STATUS int(10) DEFAULT NULL COMMENT '状态',
MSG varchar(200) DEFAULT NULL COMMENT '返回信息',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
CNTID bigint(24) DEFAULT NULL COMMENT '合同ID',
CONTRACTID varchar(100) DEFAULT NULL COMMENT '合同编号',
CONTRACTNAME varchar(100) DEFAULT NULL COMMENT '合同名称',
DOCID bigint(24) DEFAULT NULL COMMENT '文档ID',
DOCCODE  varchar(100) DEFAULT NULL COMMENT '文档编码',
DOCNAME  varchar(100) DEFAULT NULL COMMENT '文档名称',
PRIMARY KEY (ID)
)  ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'authType' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1146300735923703808', 'authType', '5', '1141906024014303232', '三要素(银行)', '', '0', '0');
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1141906283599777792', 'authType', '4', '1141906024014303232', '四要素认证', '', '0', '0');
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1141906243321876480', 'authType', '3', '1141906024014303232', '三要素认证(手机)', '', '0', '0');
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1141906173482520576', 'authType', '2', '1141906024014303232', '二要素认证', '', '0', '0');
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1141906024014303232', 'authType', '-1', NULL, '认证类型', '', '0', '0');
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'apiStatus' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1139447536877064192', 'apiStatus', '1', '1139447333310713856', '调用成功', '', '0', '0');
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1139447457143345152', 'apiStatus', '0', '1139447333310713856', '调用失败', '', '0', '0');
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1139447333310713856', 'apiStatus', '-1', NULL, '接口调用状态', '', '0', '0');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_evi' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1143056381205565440', 'stat_evi_export', 'stat_evi', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/evi/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1143056059334676480', 'stat_evi', 'stat', '', '存证统计', 'fa fa-book', '/stat/evi', '7', '2', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_notary' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1143056059334676481', 'stat_notary', 'stat', '', '公证统计', 'fa fa-book', '/stat/notary', '8', '2', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1143056381205565441', 'stat_notary_export', 'stat_notary', 'export', '导出', 'btn btn-xs btn-info | fa fa-floppy-o bigger-120', '/stat/notary/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_comauth' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1141890359488434176', 'stat_comauth_exprot', 'stat_comauth', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/comauth/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1141890092101554176', 'stat_comauth', 'stat', '', '企业实名认证统计', 'fa fa-book', '/stat/comauth', '6', '2', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_personauth' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1140447548763295744', 'stat_personauth_exprot', 'stat_personauth', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/personauth/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1140447247377387520', 'stat_personauth', 'stat', '', '个人实名认证统计', 'fa fa-book', '/stat/personauth', '5', '2', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_tsa' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1139433034370535424', 'stat_tsa_export', 'stat_tsa', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/tsa/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1139432864685772800', 'stat_tsa', 'stat', '', '时间戳统计', 'fa fa-book', '/stat/tsa', '4', '2', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_cert_export' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1139099647499849728', 'stat_cert_export', 'stat_cert', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/cert/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_kgFace_export' into @temp; 
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1138364292895100928', 'stat_kgFace_export', 'stat_kgFace', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/kgFace/export', '2', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CRM_SIGNER_LOGININFO' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CRM_SIGNER_LOGININFO (
ID bigint(24) NOT NULL,
SIGNERID bigint(24) DEFAULT NULL,
TOKENID varchar(64) DEFAULT NULL,
MKPWD varchar(64) DEFAULT NULL,
LOGINTIME datetime DEFAULT NULL,
AUTHID varchar(64) DEFAULT NULL,
AUTHTIME datetime DEFAULT NULL,
SALTSOURCE varchar(128) DEFAULT NULL,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CRM_SM2CERT' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CRM_SM2CERT (
ID bigint(20) NOT NULL COMMENT 'ID',
SIGNERID bigint(20) DEFAULT NULL COMMENT '用户ID',
TYPE int(2) DEFAULT '8' COMMENT '证书类型',
CERTNAME varchar(255) DEFAULT NULL COMMENT '证书名称',
IDCODE varchar(64) DEFAULT NULL COMMENT '证件编码',
IDTYPE varchar(4) DEFAULT '1' COMMENT '证件类型',
CERDATA text COMMENT '证书cer文件数据',
PRIVATEKEY text COMMENT '证书私钥数据',
STARTTIME datetime DEFAULT NULL COMMENT '证书有效期开始时间',
ENDTIME datetime DEFAULT NULL COMMENT '证书有效期结束时间',
DELETED int(2) DEFAULT '0' COMMENT '是否吊销 0 可使用 1已吊销',
CACOMPANY varchar(64) DEFAULT NULL COMMENT 'CA厂商',
CODE varchar(64) DEFAULT NULL COMMENT '证书序列号',
BIZID varchar(128) DEFAULT NULL,
SALT varchar(128) DEFAULT NULL,
CREATETIME datetime DEFAULT NULL COMMENT '证书创建时间',
PRIMARY KEY (ID),
KEY SIGNERID (SIGNERID),
KEY IDTYPE (IDTYPE),
KEY TYPE (TYPE),
KEY BIZID (BIZID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CRM_ALYPAYINFO' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CRM_ALYPAYINFO (
ID bigint(24) NOT NULL,
SIGNERID bigint(24) DEFAULT NULL,
ORDERNO varchar(64) DEFAULT NULL COMMENT '订单号',
SUBJECT varchar(64) DEFAULT NULL COMMENT '订单主题',
CERTTYPE int(11) DEFAULT '0' COMMENT '证书类型 0：RSA 1：SM2',
TOTALAMOUNT double(10,2) DEFAULT NULL COMMENT '总金额',
CREATETIME datetime DEFAULT NULL COMMENT '生成时间',
PAYTIME datetime DEFAULT NULL COMMENT '支付时间',
YBNOTIFYTIME datetime DEFAULT NULL COMMENT '异步通知时间',
TBPAYSTATE int(11) DEFAULT '0' COMMENT '同步支付状态 0:交易创建（未支付）;9000:订单支付成功;8000:正在处理中; 4000:订单支付失败; 6001:订单中途取消; 6002:网络连接出错;6004：支付结果未知',
YBPAYSTATE int(11) DEFAULT '0' COMMENT '异步支付状态 0:交易创建 WAIT_BUYER_PAY（未支付）;1:交易关闭 TRADE_CLOSED;2:交易成功 TRADE_SUCCESS;3:交易完成 TRADE_FINISHED',
YBRESULTPARA text COMMENT '异步验签参数',
ORDERTYPE int(11) DEFAULT '1' COMMENT '订单类型 1：购买 2：更新',
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SIGNER' AND column_name = 'SM2CERTID' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_SIGNER  ADD COLUMN SM2CERTID bigint(24) DEFAULT '0';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_SIGNER' AND column_name = 'SM2CERTTYPE' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_SIGNER  ADD COLUMN SM2CERTTYPE int(11) DEFAULT '-1';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_ALYPAYINFO' AND column_name = 'REFUNDSTATE' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_ALYPAYINFO  ADD COLUMN REFUNDSTATE int(11) DEFAULT '0' COMMENT '是否退款 0：无退款  1：有退款';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_ALYPAYINFO' AND column_name = 'REFUNDTRADENO' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_ALYPAYINFO  ADD COLUMN REFUNDTRADENO VARCHAR(64) DEFAULT NULL COMMENT '支付宝退款交易号';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_ALYPAYINFO' AND column_name = 'REFUNDCODE' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_ALYPAYINFO  ADD COLUMN REFUNDCODE VARCHAR(64) DEFAULT NULL COMMENT '退款返回码 10000：退款成功  20000：服务不可用  20001：授权权限不足  40001：缺少必选参数  40002：非法的参数  40004：业务处理失败  40006：权限不足';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CRM_ALYPAYINFO' AND column_name = 'REFUNDTIME' into @temp;
IF @temp = 0 then
ALTER TABLE CRM_ALYPAYINFO  ADD COLUMN REFUNDTIME DATETIME DEFAULT NULL COMMENT '退款时间';
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_sign' into @temp;  
IF @temp = 0 then 
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1145579181870960640', 'stat_sign', 'stat', '', '签署统计', 'fa fa-book', '/stat/sign', '10', '2', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1145597457032302592', 'stat_sign_export', 'stat_sign', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/sign/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_ecs' into @temp;  
IF @temp = 0 then 
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1144474663947096064', 'stat_ecs', 'stat', '', '企业工商信息查询统计', 'fa fa-book', '/stat/ecs', '9', '2', NULL, NULL, '800*520', '1', '0', NULL, '3', '', '');
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1144475197470953472', 'stat_ecs_export', 'stat_ecs', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/ecs/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '1', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_pay' into @temp;  
IF @temp = 0 then 
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1144175365128736768', 'stat_pay', 'stat', '', '企业对公打款验证统计', 'fa fa-book', '/stat/pay', '8', '2', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1145528578562084864', 'stat_pay_export', 'stat_pay', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/pay/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'stat_sms_export' into @temp;  
IF @temp = 0 then 
insert into TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) values('1145518598685478912', 'stat_sms_export', 'stat_sms', 'export', '导出', 'btn btn-xs  | fa fa-floppy-o bigger-120', '/stat/sms/export', '1', '3', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'API_LOGSMS' AND column_name = 'DEPTID' into @temp;
IF @temp = 0 then
ALTER TABLE API_LOGSMS  ADD COLUMN DEPTID bigint(24) DEFAULT NULL COMMENT '部门ID';
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_ENTERPRISE_PAYMENT' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_ENTERPRISE_PAYMENT (
ID bigint(24) NOT NULL,
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
APPCODE varchar(100) DEFAULT NULL COMMENT '应用编号',
APPNAME varchar(100) DEFAULT NULL COMMENT '应用名称',
INVOKEURL varchar(100) DEFAULT NULL COMMENT '请求接口',
DEPTID bigint(24) DEFAULT NULL COMMENT '部门ID',
STATUS int(10) DEFAULT NULL COMMENT '状态',
MSG varchar(200) DEFAULT NULL COMMENT '返回信息',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
ACCOUNTNAME varchar(100) DEFAULT NULL COMMENT '企业名称',
ACCOUNTCODE varchar(100) DEFAULT NULL COMMENT '企业号码',
BANKID int(10) DEFAULT NULL COMMENT '银行编码',
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_ENTEPRISE_COMMER_STATIST' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_ENTEPRISE_COMMER_STATIST (
ID bigint(20) NOT NULL,
APPCODE varchar(255) DEFAULT NULL COMMENT '接入方编码',
APPNAME varchar(255) DEFAULT NULL COMMENT '接入方名称',
INVOKEURL varchar(255) DEFAULT NULL COMMENT '接口名称',
BUSINESSNAME varchar(255) DEFAULT NULL COMMENT '企业名称',
UNIFIEDCODE varchar(500) DEFAULT NULL COMMENT '社会统一信用代码',
REGISTRATECODE varchar(255) DEFAULT NULL COMMENT '注册号',
STATUS int(10) DEFAULT NULL COMMENT '状态',
MSG varchar(255) DEFAULT NULL COMMENT '调用信息',
CREATETIME datetime DEFAULT NULL COMMENT '请求时间',
DEPTID bigint(20) DEFAULT NULL COMMENT '部门id',
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_CERT' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_CERT (
ID bigint(24) NOT NULL,
CERTTYPE int(4) DEFAULT NULL COMMENT '应用ID',
CACOMPANY varchar(100) DEFAULT NULL COMMENT '应用编号',
IDTYPE varchar(100) DEFAULT NULL COMMENT '应用名称',
IDCODE varchar(100) DEFAULT NULL COMMENT '请求接口',
USERTYPE int(4) DEFAULT NULL COMMENT '部门ID',
PHONE varchar(100) DEFAULT NULL COMMENT '状态',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
APPID bigint(24) DEFAULT NULL COMMENT '企业名称',
STATUS int(4) DEFAULT NULL COMMENT '认证类型',
PRIMARY KEY (ID)
)  ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM SYS_META WHERE CODE = 'interface_auth_type' into @temp;  
IF @temp = 0 then 
INSERT INTO SYS_META (ID, CODE, NUM, NAME, PARA, TIPS, STATUS) VALUES ('1140905486078464000', 'interface_auth_type', '100', NULL, '1', 'interface_auth_type', '1');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'API_LOGSMS' AND column_name = 'APPID' into @temp;
IF @temp = 0 then
ALTER TABLE API_LOGSMS  ADD COLUMN APPID bigint(24) DEFAULT NULL COMMENT 'appid';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'API_LOGSMS' AND column_name = 'APPCODE' into @temp;
IF @temp = 0 then
ALTER TABLE API_LOGSMS  ADD COLUMN APPCODE varchar(204) DEFAULT NULL ;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'API_LOGSMS' AND column_name = 'APPNAME' into @temp;
IF @temp = 0 then
ALTER TABLE API_LOGSMS  ADD COLUMN APPNAME varchar(204) DEFAULT NULL;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'LOG_TENCENTH5FACE' INTO @temp ;
IF @temp = 0 then
CREATE TABLE LOG_TENCENTH5FACE (
ID bigint(24) NOT NULL COMMENT '主键',
APPID bigint(24) DEFAULT NULL COMMENT '应用ID',
APPCODE varchar(100) DEFAULT NULL COMMENT '应用编号',
APPNAME varchar(100) DEFAULT NULL COMMENT '应用名称',
USERNAME varchar(200) DEFAULT NULL COMMENT '姓名',
IDCODE varchar(50) DEFAULT NULL COMMENT '身份证',
STATUS varchar(10) DEFAULT NULL COMMENT '状态',
CNTID bigint(24) DEFAULT NULL COMMENT 'cntid',
CONTRACTID varchar(100) DEFAULT NULL COMMENT '合同id',
CONTRACTNAME varchar(500) DEFAULT NULL,
CREATETIME datetime DEFAULT NULL,
MSG varchar(500) DEFAULT NULL COMMENT '结果',
PRIMARY KEY (ID),
KEY APPID (APPID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CNT_NOTIFY_RECORD' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CNT_NOTIFY_RECORD (
ID bigint(24) NOT NULL,
STATUS int(2) DEFAULT NULL,
NOTIFYURL varchar(500) DEFAULT NULL,
NOTIFYFILE int(2) DEFAULT NULL,
NOTIFYMSG varchar(500) DEFAULT NULL,
CONTRACTID varchar(500) DEFAULT NULL,
BIZID varchar(500) DEFAULT NULL,
CNTID bigint(24) DEFAULT NULL,
RECORDID bigint(24) DEFAULT NULL,
NOTIFYTYPE varchar(10) DEFAULT NULL,
CREATETIME datetime DEFAULT NULL,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'recordtype' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT  (ID,  CODE,  NUM,  PID,  NAME,  TIPS,  VERSION,  SELECTED) VALUES ('1158304024068378624', 'recordtype', '0', '1158303193747181568', '日志', '', '0', '0');
INSERT INTO TFW_DICT  (ID,  CODE ,  NUM ,  PID ,  NAME ,  TIPS ,  VERSION ,  SELECTED ) VALUES ('1158303740436959232', 'recordtype', '32', '1158303193747181568', '跳过', '', '0', '0');
INSERT INTO   TFW_DICT  ( ID ,  CODE ,  NUM ,  PID ,  NAME ,  TIPS ,  VERSION ,  SELECTED ) VALUES ('1158303585717473280', 'recordtype', '16', '1158303193747181568', '回退', '', '0', '0');
INSERT INTO   TFW_DICT  ( ID ,  CODE ,  NUM ,  PID ,  NAME ,  TIPS ,  VERSION ,  SELECTED ) VALUES ('1158303522412843008', 'recordtype', '12', '1158303193747181568', '下载', '', '0', '0');
INSERT INTO   TFW_DICT  ( ID ,  CODE ,  NUM ,  PID ,  NAME ,  TIPS ,  VERSION ,  SELECTED ) VALUES ('1158303472542568448', 'recordtype', '11', '1158303193747181568', '查看', '', '0', '0');
INSERT INTO   TFW_DICT  ( ID ,  CODE ,  NUM ,  PID ,  NAME ,  TIPS ,  VERSION ,  SELECTED ) VALUES ('1158303433472626688', 'recordtype', '2', '1158303193747181568', '作废', '', '0', '0');
INSERT INTO   TFW_DICT  ( ID ,  CODE ,  NUM ,  PID ,  NAME ,  TIPS ,  VERSION ,  SELECTED ) VALUES ('1158303363910094848', 'recordtype', '1', '1158303193747181568', '签署', '', '0', '0');
INSERT INTO   TFW_DICT  ( ID ,  CODE ,  NUM ,  PID ,  NAME ,  TIPS ,  VERSION ,  SELECTED ) VALUES ('1158303193747181568', 'recordtype', '-1', NULL, '签署记录类型', '', '1', '0');
END IF ;
SELECT COUNT(1) FROM TFW_MENU WHERE CODE = 'cntnotifyrecord' into @temp;
IF @temp = 0 then
INSERT INTO TFW_MENU (ID, CODE, PCODE, ALIAS, NAME, ICON, URL, NUM, LEVELS, SOURCE, PATH, TIPS, STATUS, ISOPEN, ISTEMPLATE, VERSION, CONFIRMCONTENT, CSSTYLE) VALUES ('1158253474270433280', 'cntnotifyrecord', 'log', '', '签署通知日志', 'fa-tasks', '/log/cntnotifyrecord', '8', '2', NULL, NULL, '800*520', '1', '0', NULL, '0', '', '');
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CNT_VOUCHER' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CNT_VOUCHER (
ID bigint(24) NOT NULL COMMENT '主键',
CNTID bigint(24) DEFAULT NULL COMMENT '合同ID',
PATH varchar(200) DEFAULT NULL COMMENT '文件保存路径',
HASH varchar(200) DEFAULT NULL COMMENT '存证HASH',
CREATETIME datetime DEFAULT NULL COMMENT '创建时间',
EVIDENCE int(2) DEFAULT NULL COMMENT '是否存证',
PARTY int(5) DEFAULT NULL COMMENT '第几签署方',
SAVETYPE int(5) DEFAULT NULL COMMENT '保存方式',
BIZID varchar(255) DEFAULT NULL,
NAME varchar(500) DEFAULT NULL,
PRIMARY KEY (ID),
KEY CNTID (CNTID),
KEY BIZID (BIZID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_USER' AND column_name = 'SEQID' into @temp;
IF @temp = 0 then
ALTER TABLE TFW_USER ADD SEQID int;
ALTER TABLE TFW_USER ADD key (SEQID);
ALTER TABLE TFW_USER change SEQID SEQID int NOT NULL AUTO_INCREMENT;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'YKY_DEVICE_USED' INTO @temp ;
IF @temp = 0 then
create table YKY_DEVICE_USED (
ID int (11) NOT NULL AUTO_INCREMENT,
USEDCODE varchar (765),
USERID bigint (24),
APPLYID bigint (24),
DEVICEID bigint (24),
USEDTYPE varchar (30),
USEDCOUNT varchar (30),
FILEPATH varchar (1500),
USERNAME varchar (765),
USEADDR varchar (1500),
INPUTTIME datetime ,
UPDATETIME datetime ,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4; 
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'YKY_DEVICEAPPLY' INTO @temp ;
IF @temp = 0 then
create table YKY_DEVICEAPPLY (
ID int (11) NOT NULL AUTO_INCREMENT,
DEVICEID int (11),
DEVICEUSERID bigint (24),
AUDITERID bigint (24),
APPLYTYPE char (3),
APPLYTITLE varchar (300),
USECOUNT int (2),
PLENTYCOUNT int (2),
APPLYSTATE char (3),
APPLYMEMO varchar (600),
CHECKMEMO varchar (600),
INPUTTIME datetime ,
UPDATETIME datetime ,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4; 
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'YKY_DEVICEINFO' INTO @temp ;
IF @temp = 0 then
create table YKY_DEVICEINFO (
ID int (11) NOT NULL AUTO_INCREMENT,
DEVICETYPE varchar (765),
DEVICESTATE varchar (765),
DEVICECODE varchar (765),
DEVICENAME varchar (765),
DEVICETOKEN varchar (765),
DEVICEADDR varchar (765),
DEVICEWIFI varchar (765),
DEVICENETSTAT varchar (765),
USEDCOUNT int (10),
CREATETIME datetime ,
UPDATETIME datetime ,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4; 
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'YKY_DEVICEUSER' INTO @temp ;
IF @temp = 0 then
create table YKY_DEVICEUSER (
ID bigint (24) NOT NULL,
USERID bigint (24),
ADDTYPE varchar (30),
FINGERADDR int (10),
INPUTTIME datetime ,
UPDATETIME datetime ,
PREFINGER int (10),
DEVICEID bigint (24),
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4; 
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'FEED_BACK' INTO @temp ;
IF @temp = 0 then
CREATE TABLE FEED_BACK(  
ID BIGINT(20) NOT NULL,
CONTACT VARCHAR(64),
CONTENT VARCHAR(512),
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'YKY_DEVICE_USED_AUDIT' INTO @temp ;
IF @temp = 0 then
CREATE TABLE YKY_DEVICE_USED_AUDIT (
ID bigint (24) NOT NULL ,
AUDITCODE varchar (150) NOT NULL,
USEDCODE int (11),
FILEPATH varchar (1500),
INPUTTIME datetime ,
PRIMARY KEY (ID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4; 
END IF ;
SELECT COUNT(1) FROM information_schema.tables WHERE table_schema = @dataBaseName AND table_name = 'CNT_DOC_TMP' INTO @temp ;
IF @temp = 0 then
CREATE TABLE CNT_DOC_TMP (
ID bigint(24) NOT NULL,
TPLDOCID bigint(24) DEFAULT NULL,
CONVERTID varchar(64) DEFAULT NULL,
NAME varchar(255) DEFAULT NULL,
TPLID bigint(24) DEFAULT NULL,
TYPE int DEFAULT NULL,
FILEPATH varchar(255) DEFAULT NULL,
SAVETYPE int DEFAULT NULL,
SEQNUMBER int DEFAULT NULL,
CREATETIME datetime DEFAULT NULL,
PRIMARY KEY (ID),
KEY CONVERTID (CONVERTID)
) ENGINE=SEQUOIADB DEFAULT CHARSET=utf8mb4;
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_INFO' AND column_name = 'NOTARY' into @temp;
IF @temp = 0 then
ALTER TABLE CNT_INFO  ADD COLUMN NOTARY int DEFAULT '0';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_INFO' AND column_name = 'EVIDENCE' into @temp;
IF @temp = 0 then
ALTER TABLE CNT_INFO  ADD COLUMN EVIDENCE int DEFAULT '0';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_INFO' AND column_name = 'HASH' into @temp;
IF @temp = 0 then
ALTER TABLE CNT_INFO  ADD COLUMN HASH varchar(128) DEFAULT NULL;
END IF ;
/*参数表添加contract_face_video_candown*/
SELECT COUNT(1) FROM TFW_PARAMETER WHERE CODE = 'contract_face_video_candown' into @temp;
IF @temp = 0 then
insert into TFW_PARAMETER (ID, CODE, NUM, NAME, PARA, TIPS, STATUS, VERSION) values('1176329885061238784', 'contract_face_video_candown', NULL, '默认允许下载人脸认证视频', '1', '1是  0否', '1', '2');
END IF ;
SELECT COUNT(1) FROM TFW_PARAMETER WHERE CODE = 'swxa_sm2_keyindex' into @temp;
IF @temp = 0 then
insert into TFW_PARAMETER (ID, CODE, NUM, NAME, PARA, TIPS, STATUS, VERSION) values('961132095684476918','swxa_sm2_keyindex',NULL,'设置sm2加密机密钥开始索引','1','','1','3');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_INFO' AND column_name = 'SIGNDOCTYPE' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_INFO  ADD COLUMN SIGNDOCTYPE int(2) DEFAULT null COMMENT '签署文档类型';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'SIGNERIDTYPE' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_RECORD  ADD COLUMN SIGNERIDTYPE  VARCHAR(4)  DEFAULT '0'   COMMENT '签署人证件类型';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'CNT_RECORD' AND column_name = 'SIGNERIDCODE' into @temp;
IF @temp = 0 then 
ALTER TABLE CNT_RECORD  ADD COLUMN SIGNERIDCODE  VARCHAR(100)  DEFAULT NULL   COMMENT '签署人证件编号';
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TFW_USER' AND column_name = 'TOKENID' into @temp;
IF @temp = 0 then
ALTER TABLE TFW_USER ADD COLUMN TOKENID VARCHAR(256) NULL COMMENT '印控仪，用户登录tokenid' ;
END IF ;
SELECT COUNT(1) FROM TFW_DICT WHERE CODE = 'sealForm' and num='5' into @temp;
IF @temp = 0 then
INSERT INTO TFW_DICT (ID, CODE, NUM, PID, NAME, TIPS, VERSION, SELECTED) VALUES ('1186898938578358272', 'sealForm', '5', '961783609591595008', '人名方章（带框）', '', '0', '0');
END IF ;
SELECT COUNT(1) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = @dataBaseName AND table_name = 'TPL_INFO' AND column_name = 'CODE' into @temp;
IF @temp = 1 then
ALTER TABLE TPL_INFO MODIFY COLUMN CODE varchar(200);
END IF ;
END	latin1	latin1_swedish_ci	utf8mb4_bin
SET @p_in = 1;
SET @p_out = 1;
SET @p_inout = 1;
CALL sp_param_inout( @p_in, @p_out, @p_inout );
p_in	p_out
2	2
@p_inout
1
CALL sp_chistics();
Characteristics
Characteristics
CALL sp_repeat(3);
REPEAT( "b", x )
bbb
REPEAT( "b", x )
bb
REPEAT( "b", x )
b
CALL sp_case(-42);
case0
case0
CALL sp_cursor();
CALL sp_prepare_stmt('t4');
@str
CREATE TABLE t4(stuff char(15))
@str
INSERT INTO t4 VALUES('row1'),('row2'),('row3')
@str
CREATE VIEW v1(c1) AS SELECT stuff FROM t4
c1
row1
row2
row3
@str
DROP VIEW v1
CALL sp_definer();
SHOW CREATE TABLE t0;
Table	Create Table
t0	CREATE TABLE `t0` (
  `@p_inout` bigint(20) DEFAULT NULL
) ENGINE=SequoiaDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `id` int(11) DEFAULT NULL,
  `data` int(11) DEFAULT NULL
) ENGINE=SequoiaDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin
SHOW CREATE TABLE t2;
Table	Create Table
t2	CREATE TABLE `t2` (
  `i` int(11) DEFAULT NULL
) ENGINE=SequoiaDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin
SHOW CREATE TABLE t3;
Table	Create Table
t3	CREATE TABLE `t3` (
  `data` char(64) COLLATE utf8mb4_bin DEFAULT NULL,
  `i` int(11) DEFAULT NULL
) ENGINE=SequoiaDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin
SHOW CREATE TABLE t4;
Table	Create Table
t4	CREATE TABLE `t4` (
  `stuff` char(15) COLLATE utf8mb4_bin DEFAULT NULL
) ENGINE=SequoiaDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin
SHOW CREATE TABLE metasync_scptpkg.tfw_relation;
Table	Create Table
tfw_relation	CREATE TABLE `tfw_relation` (
  `ID` bigint(20) DEFAULT NULL,
  `MENUID` int(11) DEFAULT NULL,
  `ROLEID` int(11) DEFAULT NULL
) ENGINE=SequoiaDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin
SHOW CREATE TABLE metasync_scptpkg.tfw_dict;
Table	Create Table
tfw_dict	CREATE TABLE `tfw_dict` (
  `ID` bigint(20) DEFAULT NULL,
  `CODE` text COLLATE utf8mb4_bin,
  `NUM` int(11) DEFAULT NULL,
  `PID` bigint(20) DEFAULT NULL,
  `NAME` text COLLATE utf8mb4_bin,
  `TIPS` text COLLATE utf8mb4_bin,
  `VERSION` int(11) DEFAULT NULL,
  `SELECTED` int(11) DEFAULT NULL
) ENGINE=SequoiaDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin
SHOW CREATE TABLE metasync_scptpkg.tfw_invoke_api_log;
Table	Create Table
tfw_invoke_api_log	CREATE TABLE `tfw_invoke_api_log` (
  `ID` bigint(24) NOT NULL,
  `APPID` bigint(24) DEFAULT NULL COMMENT '应用ID',
  `APIURI` varchar(100) DEFAULT NULL COMMENT '应用接口地址',
  `APIPARAM` longtext COMMENT '应用请求参数',
  `APIHEADER` text COMMENT '应用请求头',
  `SUCCEED` varchar(255) DEFAULT NULL COMMENT '是否成功',
  `IP` varchar(100) DEFAULT NULL COMMENT 'IP地址',
  `REQTIME` datetime DEFAULT NULL COMMENT '请求时间',
  `RESPTIME` datetime DEFAULT NULL COMMENT '响应时间',
  `MESSAGE` text COMMENT '异常栈消息',
  PRIMARY KEY (`ID`),
  KEY `INDEX_INVOKE_API_APPID` (`APPID`),
  KEY `INDEX_INVOKE_API_APIURI` (`APIURI`),
  KEY `INDEX_INVOKE_API_SUCCEED` (`SUCCEED`)
) ENGINE=SequoiaDB DEFAULT CHARSET=utf8mb4
SELECT * FROM metasync_scptpkg.tfw_relation ORDER BY ID;
ID	MENUID	ROLEID
968410495344181258	37	2
968410495344181259	38	2
968410495344181260	20040	2
SELECT * FROM metasync_scptpkg.tfw_dict ORDER BY ID;
ID	CODE	NUM	PID	NAME	TIPS	VERSION	SELECTED
962499376750526464	SealStatusType	0	NULL	签章状态		0	0
962499516458598400	SealStatusType	1	962499376750526464	已启用		0	0
962499592304197632	SealStatusType	2	962499376750526464	已禁用		0	0
962499644422619136	SealStatusType	3	962499376750526464	已作废		0	0
SELECT * FROM metasync_scptpkg.tfw_invoke_api_log ORDER BY ID;
ID	APPID	APIURI	APIPARAM	APIHEADER	SUCCEED	IP	REQTIME	RESPTIME	MESSAGE
ALTER PROCEDURE sp_param_inout
language sql
sql security invoker
comment 'test alter procedure' |
SHOW CREATE PROCEDURE sp_param_inout;
Procedure	sql_mode	Create Procedure	character_set_client	collation_connection	Database Collation
sp_param_inout	STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION	CREATE DEFINER=`x`@`%` PROCEDURE `sp_param_inout`( IN p_in INT, OUT p_out INT, INOUT p_inout INT )
    SQL SECURITY INVOKER
    COMMENT 'test alter procedure'
BEGIN
DECLARE z INT DEFAULT 2;
SET p_in = 2;
SET p_out = z;
SELECT p_in, p_out;
DROP TABLE IF EXISTS t0;
CREATE TABLE t0 SELECT @p_inout;
SELECT * FROM t0;
END	latin1	latin1_swedish_ci	utf8mb4_bin
DROP PROCEDURE IF EXISTS sp_param_inout;
DROP PROCEDURE sp_chistics;
DROP PROCEDURE sp_repeat;
DROP PROCEDURE sp_case;
DROP PROCEDURE sp_cursor;
DROP PROCEDURE sp_prepare_stmt;
DROP PROCEDURE sp_definer;
DROP PROCEDURE sp_large170k;
DROP PROCEDURE IF EXISTS sp_large170k;
Warnings:
Note	1305	PROCEDURE metasync_procedure.sp_large170k does not exist
SHOW CREATE PROCEDURE sp_param_inout;
ERROR 42000: PROCEDURE sp_param_inout does not exist
SHOW CREATE PROCEDURE sp_chistics;
ERROR 42000: PROCEDURE sp_chistics does not exist
SHOW CREATE PROCEDURE sp_repeat;
ERROR 42000: PROCEDURE sp_repeat does not exist
SHOW CREATE PROCEDURE sp_case;
ERROR 42000: PROCEDURE sp_case does not exist
SHOW CREATE PROCEDURE sp_cursor;
ERROR 42000: PROCEDURE sp_cursor does not exist
SHOW CREATE PROCEDURE sp_prepare_stmt;
ERROR 42000: PROCEDURE sp_prepare_stmt does not exist
SHOW CREATE PROCEDURE sp_definer;
ERROR 42000: PROCEDURE sp_definer does not exist
SHOW CREATE PROCEDURE sp_large170k;
ERROR 42000: PROCEDURE sp_large170k does not exist
SHOW CREATE TABLE t0;
Table	Create Table
t0	CREATE TABLE `t0` (
  `@p_inout` bigint(20) DEFAULT NULL
) ENGINE=SequoiaDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `id` int(11) DEFAULT NULL,
  `data` int(11) DEFAULT NULL
) ENGINE=SequoiaDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin
SHOW CREATE TABLE t2;
Table	Create Table
t2	CREATE TABLE `t2` (
  `i` int(11) DEFAULT NULL
) ENGINE=SequoiaDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin
SHOW CREATE TABLE t3;
Table	Create Table
t3	CREATE TABLE `t3` (
  `data` char(64) COLLATE utf8mb4_bin DEFAULT NULL,
  `i` int(11) DEFAULT NULL
) ENGINE=SequoiaDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin
SHOW CREATE TABLE t4;
Table	Create Table
t4	CREATE TABLE `t4` (
  `stuff` char(15) COLLATE utf8mb4_bin DEFAULT NULL
) ENGINE=SequoiaDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin
SHOW CREATE TABLE metasync_scptpkg.tfw_relation;
Table	Create Table
tfw_relation	CREATE TABLE `tfw_relation` (
  `ID` bigint(20) DEFAULT NULL,
  `MENUID` int(11) DEFAULT NULL,
  `ROLEID` int(11) DEFAULT NULL
) ENGINE=SequoiaDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin
SHOW CREATE TABLE metasync_scptpkg.tfw_dict;
Table	Create Table
tfw_dict	CREATE TABLE `tfw_dict` (
  `ID` bigint(20) DEFAULT NULL,
  `CODE` text COLLATE utf8mb4_bin,
  `NUM` int(11) DEFAULT NULL,
  `PID` bigint(20) DEFAULT NULL,
  `NAME` text COLLATE utf8mb4_bin,
  `TIPS` text COLLATE utf8mb4_bin,
  `VERSION` int(11) DEFAULT NULL,
  `SELECTED` int(11) DEFAULT NULL
) ENGINE=SequoiaDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin
SHOW CREATE TABLE metasync_scptpkg.tfw_invoke_api_log;
Table	Create Table
tfw_invoke_api_log	CREATE TABLE `tfw_invoke_api_log` (
  `ID` bigint(24) NOT NULL,
  `APPID` bigint(24) DEFAULT NULL COMMENT '应用ID',
  `APIURI` varchar(100) DEFAULT NULL COMMENT '应用接口地址',
  `APIPARAM` longtext COMMENT '应用请求参数',
  `APIHEADER` text COMMENT '应用请求头',
  `SUCCEED` varchar(255) DEFAULT NULL COMMENT '是否成功',
  `IP` varchar(100) DEFAULT NULL COMMENT 'IP地址',
  `REQTIME` datetime DEFAULT NULL COMMENT '请求时间',
  `RESPTIME` datetime DEFAULT NULL COMMENT '响应时间',
  `MESSAGE` text COMMENT '异常栈消息',
  PRIMARY KEY (`ID`),
  KEY `INDEX_INVOKE_API_APPID` (`APPID`),
  KEY `INDEX_INVOKE_API_APIURI` (`APIURI`),
  KEY `INDEX_INVOKE_API_SUCCEED` (`SUCCEED`)
) ENGINE=SequoiaDB DEFAULT CHARSET=utf8mb4
DROP DATABASE metasync_procedure;
DROP DATABASE metasync_scptpkg;
SHOW CREATE DATABASE metasync_procedure;
ERROR 42000: Unknown database 'metasync_procedure'
SHOW CREATE DATABASE metasync_scptpkg;
ERROR 42000: Unknown database 'metasync_scptpkg'
